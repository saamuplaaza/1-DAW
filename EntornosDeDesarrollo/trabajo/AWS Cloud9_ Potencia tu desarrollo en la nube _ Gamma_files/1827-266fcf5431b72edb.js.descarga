(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1827],{98013:function(t,e,n){"use strict";n.d(e,{Nl:function(){return T},m3:function(){return E},c1:function(){return P}});var r=n(81333),o=n(95993),a=n(46988),i=n(81891),c=n(20406),u=n(13089),s=n(96412),f=n(41701),d=n(90129),l=n(29017),p=n(48200),m=n(95235),v=n(28526),h=n.n(v),y=n(84991),g=function(t){(0,d.Z)(r,t);var e,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,p.Z)(r);if(e){var o=(0,p.Z)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.Z)(this,t)});function r(t,e){var o,a;return(0,s.Z)(this,r),o=n.call(this,{transform:(a=(0,c.Z)(h().mark(function e(n,r){var a,i,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("data"!==n.event)){e.next=3;break}return r.enqueue(n),e.abrupt("return");case 3:return a=n.data,e.next=6,(0,y.sj)(a,{cardIndex:o.index,docFormatKey:t.docFormatKey,imageOptions:t.imageOptions,loadImages:!t.lazyImages});case 6:i=e.sent,c={index:o.index,cardComplete:!0,content:i,id:i.attrs.id,raw:a},r.enqueue({id:n.id,event:"data",data:c}),o.index++;case 10:case"end":return e.stop()}},e)})),function(t,e){return a.apply(this,arguments)})}),(0,m.Z)((0,f.Z)(o),"index",0),null!=e&&(o.index=e+1),o}return(0,u.Z)(r)}(o.GJ),b=function(t){var e=t.match(/(<[^>]+>|<\/[^>]+>)|\S+/g);if(!e)throw Error("Could not parse tokens");return e},w=function(t){(0,d.Z)(r,t);var e,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,p.Z)(r);if(e){var o=(0,p.Z)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.Z)(this,t)});function r(t){var e,o;return(0,s.Z)(this,r),e=n.call(this,{transform:(o=(0,c.Z)(h().mark(function n(r,o){var a,i,c;return h().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!("data"!==r.event)){n.next=3;break}return o.enqueue(r),n.abrupt("return");case 3:a=r.data,i=performance.now()-e.startTime,c=b(a.raw),t({index:e.index,duration:i,numTokens:c.length}),e.index++,e.startTime=performance.now(),o.enqueue(r);case 10:case"end":return n.stop()}},n)})),function(t,e){return o.apply(this,arguments)})}),(0,m.Z)((0,f.Z)(e),"index",0),(0,m.Z)((0,f.Z)(e),"startTime",performance.now()),e}return(0,u.Z)(r)}(o.GJ);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach(function(e){(0,m.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var k=function(t){(0,d.Z)(r,t);var e,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,p.Z)(r);if(e){var o=(0,p.Z)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.Z)(this,t)});function r(){var t,e;return(0,s.Z)(this,r),t=n.call(this,{transform:(e=(0,c.Z)(h().mark(function e(n,r){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"done"===n.event||"cancel"===n.event?r.enqueue(I(I({},n),{},{content:t.content})):(t.content+=n.data.raw||"",r.enqueue(n));case 1:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)})}),(0,m.Z)((0,f.Z)(t),"content",""),t}return(0,u.Z)(r)}(o.GJ),S=function(t){(0,d.Z)(r,t);var e,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,p.Z)(r);if(e){var o=(0,p.Z)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.Z)(this,t)});function r(){(0,s.Z)(this,r);var t,e,o,a=function(t,e){for(;;){var n=o._buffer.match(/<section\b[^>]*>(?:(?!<\/?section\b)[\s\S])*<\/section>/i);if(!n)break;var r=n[0],a=n.index;o._buffer=o._buffer.slice(a+r.length);var i=r+"\n\n";t.enqueue({id:e,event:"data",data:i})}};return o=n.call(this,{transform:(t=(0,c.Z)(h().mark(function t(e,n){return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("data"!==e.event){t.next=6;break}if(e.data){t.next=3;break}return t.abrupt("return");case 3:return o._buffer+=e.data,a(n,e.id),t.abrupt("return");case 6:o.lastId=e.id,n.enqueue(e);case 8:case"end":return t.stop()}},t)})),function(e,n){return t.apply(this,arguments)}),flush:(e=(0,c.Z)(h().mark(function t(e){return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a(e,o.lastId);case 1:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)})}),(0,m.Z)((0,f.Z)(o),"_buffer",""),(0,m.Z)((0,f.Z)(o),"lastId",void 0),o}return(0,u.Z)(r)}(o.GJ),x=function(t){(0,d.Z)(r,t);var e,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,p.Z)(r);if(e){var o=(0,p.Z)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.Z)(this,t)});function r(){return(0,s.Z)(this,r),n.call(this,{transform:function(t,e){if("done"===t.event){e.enqueue({id:t.id,event:"done",finishReason:t.data,content:""});return}if("cancel"===t.event){e.enqueue({id:t.id,event:"cancel",content:""});return}if("content"===t.event){e.enqueue({id:t.id,event:"data",data:t.data});return}console.error("[StreamMessageEventParser] unknown event type",t)}})}return(0,u.Z)(r)}(o.GJ),Z=n(2702),j="CANCEL",P=function(t){return new o.GJ({transform:function(e,n){t(e),n.enqueue(e)}})},T=function(t){var e=t.stream,n=t.docId,o=t.lastCompletedCardId,c=t.lastCompletedCardIndex,u=t.interactionId,s=t.options,f=t.store,d=C(e,s,c).tee(),l=(0,r.Z)(d,2),p=l[0],m=l[1],v=p.pipeThrough(P(function(t){"done"===t.event&&i.a.trackStreamResponse(f,{interactionId:u,outputContent:t.content})}));(0,Z.GO)(v,{}),f.dispatch((0,a.kO)({stream:{id:u,status:"running",stream:m,docId:n,isResuming:!0,lastCompletedCardId:o}}));var h=(0,a.oH)(n)(f.getState());if(!h)throw Error("Expected valid StreamResponse when resuming from stream");return h},E=function(t){var e,n=t.stream,o=t.onCancel,c=t.interactionId,u=t.options,s=t.bufferCards,f=void 0===s?2:s,d=t.docId,l=t.store,p=C(n,u).tee(),m=(0,r.Z)(p,2),v=m[0],h=m[1],y=v.pipeThrough(new w(function(t){l.dispatch((0,a.Ms)({interactionId:c,data:t}))})).pipeThrough(P(function(t){"done"===t.event&&i.a.trackStreamResponse(l,{interactionId:c,outputContent:t.content})}));l.dispatch((0,a.kO)({stream:{id:c,status:"running",stream:h,isResuming:!1,docId:d}}));var g=new Promise(function(t,n){e=n,(0,Z.GO)(y,{onError:function(t){n(t)},onMessage:function(e){if("done"===e.event){t("DONE");return}"data"===e.event&&e.data.index+1>=f&&t("READY")}})}).catch(function(t){if(t===j)return j;throw t}),b=!1;return{promise:g,cancel:function(){if(!b){var t;console.log("[AIStream] cancelling..."),b=!0,o(),null===(t=e)||void 0===t||t(j)}}}},C=function(t,e,n){return t.pipeThrough(new x).pipeThrough(new S).pipeThrough(new g(e,n)).pipeThrough(P(function(t){"data"===t.event&&console.log("[AIStream] processed card ".concat(t.data.index+1))})).pipeThrough(new k).pipeThrough(P(function(t){"done"===t.event&&console.log("[AIStream] done (".concat(t.finishReason,")")),"cancel"===t.event&&console.log("[AIStream] cancelled")}))}},81891:function(t,e,n){"use strict";n.d(e,{a:function(){return m}});var r=n(82269),o=n(95235),a=n(6201),i=n(46988),c=["startTime"],u=["startTime"],s=["startTime"],f=["startTime"],d=["startTime"];function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){(0,o.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m={trackRequestSent:function(t,e){console.log("[AIStream] EVENT: ai.request.sent"),(0,a.hq)(e);var n=performance.now();t.dispatch((0,i.Jh)(p(p({},e),{},{startTime:n})))},trackStreamError:function(t,e){t.dispatch((0,i.fj)({endTime:performance.now(),interactionId:e.interactionId}));var n=(0,i.Sn)(e.interactionId)(t.getState());if(n){var o=n.startTime,u=(0,r.Z)(n,c),s=e.errorName,f=e.errorMessage,d=e.errorCode,l=p(p({},u),{},{errorName:s,errorMessage:f,errorCode:d,outputMessage:"",latency:performance.now()-o});console.log("[AIStream] EVENT: ai.request.error"),(0,a.pQ)(l)}},trackStreamAbort:function(t,e){var n=(0,i.Sn)(e.interactionId)(t.getState());if(n){var o=n.startTime,c=p(p({},(0,r.Z)(n,u)),{},{abortReason:e.abortReason,timeToAbort:performance.now()-o});console.log("[AIStream] EVENT: ai.request.abort"),(0,a.mV)(c)}},trackStreamStart:function(t,e){t.dispatch((0,i.af)(e));var n=(0,i.Sn)(e.interactionId)(t.getState());if(n){var o=n.startTime,c=p(p({},(0,r.Z)(n,s)),{},{timeToStart:performance.now()-o});console.log("[AIStream] EVENT: ai.request.streamStart"),(0,a.qZ)(c)}},trackStreamResponse:function(t,e){t.dispatch((0,i.fj)(p({endTime:performance.now()},e)));var n=(0,i.Sn)(e.interactionId)(t.getState());if(n){n.startTime;var o=(0,r.Z)(n,f);console.log("[AIStream] EVENT: ai.request.response"),(0,a.o)(o)}},trackStreamComplete:function(t,e,n){var o=(0,i.Sn)(e)(t.getState());if(o){var c=o.startTime,u=p(p({},(0,r.Z)(o,d)),{},{timeToComplete:performance.now()-c},n);console.log("[AIStream] EVENT: ai.request.complete"),(0,a.gb)(u)}}}},84991:function(t,e,n){"use strict";n.d(e,{sj:function(){return N},Tm:function(){return L},Bv:function(){return M}});var r,o,a=n(12741),i=n(95235),c=n(20406),u=n(2284),s=n.n(u),f=n(28526),d=n.n(f),l=n(72338),p=n(30764),m=n(27994),v=n(82477),h=n(90399),y=n(74993),g=n(80591),b=n(76451),w=n(10710),O=n(23533),I=n(21365),k=n(1313),S=n.n(k),x=function(t){return S()(t)()},Z=function(t,e){var n=Math.floor(S()(e)()*t.length);return t[n]},j=n(60081),P=n(85942);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach(function(e){(0,i.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var C=["gridLayout","table","gallery"],R=["imagesText"],N=(r=(0,c.Z)(d().mark(function t(e,n){var r,o,a,i,c,u,s,f,p,m;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.cardIndex,a=n.imageOptions,i=n.docFormatKey,c=n.theme,u=n.loadImages,t.next=3,(0,P.T)(e,{imageOptions:a,removeImagesFromLayouts:!0,loadImages:!1});case 3:if(s=t.sent,f=(0,l.J1)((0,v.e)()),m=B(1===(p=(0,y.T)(s,f).content.toJSON()).length&&"card"===p[0].type?(null===(r=p[0])||void 0===r?void 0:r.content)||[]:p,{cardIndex:o,docFormatKey:i,theme:c}),a&&"aiGenerated"===a.provider&&A(m,f),!u){t.next=13;break}return t.next=13,D(m,f,E({docId:"unknown",workspaceId:(0,w.n_)()},n.context));case 13:return L(m),t.abrupt("return",m);case 15:case"end":return t.stop()}},t)})),function(t,e){return r.apply(this,arguments)}),A=function(t,e){(0,I.N)(t,function(t){if("text"!==t.type){var n=p.NB.fromJSON(e,{type:t.type,attrs:t.attrs}),r=(0,g.XU)(n);if(r&&r.loadImageParams){var o=q(t),a={height:m.s[o].height,width:m.s[o].width},i=E(E({},r.loadImageParams),{},{options:E(E({},r.loadImageParams.options),a)});t.attrs=(0,g.j6)(n,{loadImageParams:i})}}})},q=function(t){var e=t.parent;if(!(null!=e&&e.attrs))return"square";if("smartLayoutCell"===t.type&&"imagesText"===e.attrs.variantKey)return"landscape";if("cardAccentLayoutItem"===t.type){var n=e.attrs.layout;if("left"===n||"right"===n)return"portrait";if("top"===n)return"landscape"}return"square"},D=(o=(0,c.Z)(d().mark(function t(e,n,r){var o;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=[],(0,I.N)(e,function(){var t=(0,c.Z)(d().mark(function t(e){var a,i,c,u,s,f;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("text"!==e.type){t.next=2;break}return t.abrupt("return");case 2:if(a=n.nodeFromJSON({type:e.type,attrs:e.attrs}),i=(0,g.XU)(a)){t.next=6;break}return t.abrupt("return");case 6:if(c=i.loadImageStatus,u=i.loadImageId,s=i.loadImageParams,!("queued"!==c||!s||!u)){t.next=9;break}return t.abrupt("return");case 9:f=(0,j.B)({loadImageId:u,loadImageParams:s,context:r}).then(function(t){e.attrs=(0,g.j6)(a,t)}),o.push(f);case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t.next=4,Promise.all(o);case 4:case"end":return t.stop()}},t)})),function(t,e,n){return o.apply(this,arguments)}),L=function(t){var e,n,r,o,a=t.content.find(function(t){return"cardAccentLayoutItem"===t.type});if(a){var i=a.attrs.background;if(i){var c=null==i?void 0:null===(e=i.image)||void 0===e?void 0:null===(n=e.meta)||void 0===n?void 0:n.average_color,u=c&&(0,O.DP)(c);"behind"===t.attrs.layout&&(u||.5>x(t.attrs.id))&&(null!==(o=(r=t.attrs).container)&&void 0!==o||(r.container={}),t.attrs.container.background={type:b.E.COLOR,color:{hex:"#000000"}})}}},B=function(t,e){var n,r=e.cardIndex,o=e.docFormatKey,i=e.theme,c=h.C2.generate(),u=t.filter(function(t){var e,n;return"image"===t.type&&((null===(e=t.attrs)||void 0===e?void 0:e.src)||(null===(n=t.attrs)||void 0===n?void 0:n.loadImageStatus)==="queued")})||[],f=t.some(function(e){var n;return C.includes(e.type)||"smartLayout"===e.type&&(null===(n=e.attrs)||void 0===n?void 0:n.variantKey)&&R.includes(e.attrs.variantKey)||"smartLayout"===e.type&&e.content&&e.content.length>3||t.length>5});u.length>0?(n={type:b.E.IMAGE,image:u[0].attrs,source:u[0].attrs.source},s().apply(void 0,[t].concat((0,a.Z)(u)))):i&&(n=M(i,c)),0===r&&"webpage"!==o&&t.push({type:"contributors"});var d={};"deck"===o?d=_({cardIndex:r,cardId:c,preventCardLayouts:f}):"document"===o?d=J({cardIndex:r,cardId:c,preventCardLayouts:f}):"webpage"===o&&(d=F({cardIndex:r,cardId:c,accentBackground:n,preventCardLayouts:f}));var l=E(E({},{container:{},layout:"blank",id:c}),d);if("left"===l.layout||"right"===l.layout){var p=!1;t.forEach(function(t){if("smartLayout"===t.type&&t.attrs){var e=t.attrs;p=!0,e.options.orientation="vertical",e.options.twoSided=!1,e.options.cellSize="lg"}}),p&&(l.layoutTemplateColumns="left"===l.layout?"25% 75%":"75% 25%")}var m={type:"cardLayoutItem",attrs:{itemId:"body"},content:t},v="blank"===l.layout?null:{type:"cardAccentLayoutItem",attrs:{itemId:"accent",background:n}};return{type:"card",attrs:l,content:v?[v,m]:[m]}},F=function(t){var e=t.cardIndex,n=t.cardId,r=t.accentBackground,o=t.preventCardLayouts,a={};return 0===e?(a.cardSize="full",a.layout=Z(["behind","right"],n)):.7>x(n)?(a.cardSize="full",a.layout=o?"blank":Z(["left","right","behind","blank"],n)):(a.cardSize="default",.6>x(n)&&(a.background=r),a.layout="blank"),a},_=function(t){var e=t.cardIndex,n=t.cardId,r=t.preventCardLayouts,o={};return 0!==e||r?r?o.layout="blank":o.layout=Z(["left","left","right","right","behind","top","blank"],n):o.layout=Z(["left","right"],n),o},J=function(t){var e=t.cardIndex,n=t.preventCardLayouts,r=t.cardId,o={};return 0===e?(o.cardSize="full",o.layout="behind"):n?o.layout="blank":o.layout=Z(["blank","blank","blank","blank","right","left"],r),o},M=function(t,e){return Z(t.config.accentBackgrounds||[],e)}},70099:function(t,e,n){"use strict";n.d(e,{bo:function(){return u},dn:function(){return c},g5:function(){return s}});var r=n(2784),o=n(6201),a=n(23313),i=n(98875),c=function(t){var e=(0,i.ye)("openAiStatus"),n=(0,r.useState)("input"),a=n[0],c=n[1],u=(0,r.useState)(t),s=u[0],f=u[1],d=(0,r.useState)();return{step:a,setStep:c,generateFormat:s,setGenerateFormat:f,selectedTheme:d[0],openAiStatus:e,setSelectedTheme:d[1],interactionId:(0,r.useMemo)(function(){return(0,o.nZ)()},[])}},u=function(){var t=(0,a.BCl)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),e=t.data,n=t.loading;return{themes:(0,r.useMemo)(function(){return(null==e?void 0:e.themes)||[]},[e]),isThemesLoading:n}},s=function(){return(0,i.ye)("azureOpenAI")?a.nyn.Azure:a.nyn.Openai}},91465:function(t,e,n){"use strict";n.d(e,{m:function(){return k},n:function(){return x}});var r=n(20406),o=n(95235),a=n(82269),i=n(28526),c=n.n(i),u=n(53738),s=n(2784),f=n(43997),d=n(70204),l=n(47592),p=n(79073),m=n(66843),v=n(62141),h=n(38028),y=n(13121),g=n(19700),b=n(82477),w=n(52322),O=["reduxData"];function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var k=function(t){var e=t.reduxData,n=(0,a.Z)(t,O),r=(0,g.c)(e);return(0,w.jsx)(f.zt,{store:r,children:(0,w.jsx)(S,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach(function(e){(0,o.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},n))})},S=function(t){var e=t.onCreate,n=void 0===e?function(){}:e,o=t.initialContent,a=t.content,i=t.theme,g=t.isThumbnail,O=t.portalComponent,I=(0,s.useState)(!1),k=I[0],S=I[1],x=(0,s.useMemo)(function(){return(0,b.e)()},[]),Z=(0,f.I0)();(0,s.useEffect)(function(){Z((0,v.Dc)({theme:i||null})),Z((0,v.iS)({isAllowedToEdit:!1})),Z((0,v.Nr)({animationsEnabled:!1}))},[i,Z]);var j=(0,y.jE)({onCreate:function(t){return(0,r.Z)(c().mark(function e(){var r,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.editor,console.debug("[EditorPreview][onCreate] TipTap editor is now ready"),null===(r=p.Z8.getState(o.state))||void 0===r||r.compute(o.state).processChanges(Z),o.commands.command(function(){return(0,l.E0)(o.state.doc,Z),!0}),S(!0),null==n||n({editor:o});case 6:case"end":return e.stop()}},e)}))()},extensions:x,content:void 0===o?void 0:o,editable:!1});return(j.isThumbnail=g,(0,s.useEffect)(function(){var t;a&&j&&(j.commands.setContent(a),j.commands.command(function(){return(0,l.E0)(j.state.doc,Z),!0}),null===(t=m.S.getState(j.state))||void 0===t||t.compute(j.state.doc).processChanges(Z))},[a,j,Z]),(0,d.p)([],j),k)?(0,w.jsx)(u.xu,{className:"editor-preview-root","data-variation-preview":!0,"data-testid":"editor-preview-root",width:"100%",position:"relative",sx:h.I,children:(0,w.jsx)(y.kg,{editor:j,portalComponent:O,style:{width:"100%",height:"100%"},className:"highlight-mask"})}):(0,w.jsx)(w.Fragment,{})},x={"[data-thumbnail-hidden]":{display:"none !important"},"*":{backdropFilter:"none !important",webkitBackdropFilter:"none !important","-webkit-transition":"none !important","-moz-transition":"none !important","-o-transition":"none !important","-ms-transition":"none !important",transition:"none !important"},contain:"paint",".editor-core-root, .editor-preview-root":{height:"100% !important",width:"auto !important"},".doc-content-wrapper":{pb:"0 !important",minH:"auto !important"},"[data-doc-background-element], [data-doc-background-element-present-mode]":{display:"none !important"},".card2-background":{mt:0}}},21365:function(t,e,n){"use strict";n.d(e,{N:function(){return c}});var r=n(96412),o=n(13089),a=n(95235);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var c=function(t,e){return s(new u(t,null),e)},u=function(){function t(e,n){(0,r.Z)(this,t),this.jsonNode=e,this.parent=n,(0,a.Z)(this,"__type","JSONContentNode")}return(0,o.Z)(t,[{key:"type",get:function(){return this.jsonNode.type}},{key:"text",get:function(){return this.jsonNode.text}},{key:"content",get:function(){var e=this;return this.jsonNode.content?this.jsonNode.content.map(function(n){return new t(n,e)}):this.jsonNode.content}},{key:"attrs",get:function(){return this.jsonNode.attrs},set:function(t){this.jsonNode.attrs=t}}]),t}(),s=function t(e,n){if(n(e),e.content){var r,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}}(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw a}}}}(e.content);try{for(o.s();!(r=o.n()).done;){var a=r.value;t(a,n)}}catch(t){o.e(t)}finally{o.f()}}}},80660:function(){}}]);
//# sourceMappingURL=1827-266fcf5431b72edb.js.map