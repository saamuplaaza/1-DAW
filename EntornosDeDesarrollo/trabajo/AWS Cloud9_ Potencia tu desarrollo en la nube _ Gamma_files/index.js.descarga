(function(Xe,oe){typeof exports=="object"&&typeof module!="undefined"?oe(exports):typeof define=="function"&&define.amd?define(["exports"],oe):(Xe=typeof globalThis!="undefined"?globalThis:Xe||self,oe(Xe.highlightLib={}))})(this,function(Xe){"use strict";var oe;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(oe||(oe={}));function Ro(e){return e.nodeType===e.ELEMENT_NODE}function rt(e){var t=e==null?void 0:e.host;return Boolean((t==null?void 0:t.shadowRoot)===e)}function ot(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function _t(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).map(Kn).join(""):null}catch(n){return null}}function Kn(e){var t=e.cssText;if(Wo(e))try{t=_t(e.styleSheet)||t}catch(n){}return t}function Wo(e){return"styleSheet"in e}var Hn=function(){function e(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}return e.prototype.getId=function(t){var n;if(!t)return-1;var i=(n=this.getMeta(t))===null||n===void 0?void 0:n.id;return i!=null?i:-1},e.prototype.getNode=function(t){return this.idNodeMap.get(t)||null},e.prototype.getIds=function(){return Array.from(this.idNodeMap.keys())},e.prototype.getMeta=function(t){return this.nodeMetaMap.get(t)||null},e.prototype.removeNodeFromMap=function(t){var n=this,i=this.getId(t);this.idNodeMap.delete(i),t.childNodes&&t.childNodes.forEach(function(r){return n.removeNodeFromMap(r)})},e.prototype.has=function(t){return this.idNodeMap.has(t)},e.prototype.hasNode=function(t){return this.nodeMetaMap.has(t)},e.prototype.add=function(t,n){var i=n.id;this.idNodeMap.set(i,t),this.nodeMetaMap.set(t,n)},e.prototype.replace=function(t,n){var i=this.getNode(t);if(i){var r=this.nodeMetaMap.get(i);r&&this.nodeMetaMap.set(n,r)}this.idNodeMap.set(t,n)},e.prototype.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},e}();function Co(){return new Hn}function $t(e){var t=e.maskInputOptions,n=e.tagName,i=e.type,r=e.value,o=e.maskInputFn,s=r||"";return(t[n.toLowerCase()]||t[i])&&(o?s=o(s):s="*".repeat(s.length)),s}var On="__rrweb_original__";function ko(e){var t=e.getContext("2d");if(!t)return!0;for(var n=50,i=0;i<e.width;i+=n)for(var r=0;r<e.height;r+=n){var o=t.getImageData,s=On in o?o[On]:o,a=new Uint32Array(s.call(t,i,r,Math.min(n,e.width-i),Math.min(n,e.height-r)).data.buffer);if(a.some(function(l){return l!==0}))return!1}return!0}function qt(e){return e=e.replace(/[^ -~]+/g,""),e=(e==null?void 0:e.split(" ").map(function(t){return Math.random().toString(20).substr(2,t.length)}).join(" "))||"",e}function en(e){return e==="img"||e==="video"||e==="audio"||e==="source"}var Lo=1,wo=new RegExp("[^a-z0-9-_:]"),st=-2;function No(){return Lo++}function xo(e){if(e instanceof HTMLFormElement)return"form";var t=e.tagName.toLowerCase().trim();return wo.test(t)?"div":t}function To(e){return e.cssRules?Array.from(e.cssRules).map(function(t){return t.cssText||""}).join(""):""}function Yo(e){var t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Be,zn,Jo=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Fo=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,Uo=/^(data:)([^,]*),(.*)/i;function Xt(e,t){return(e||"").replace(Jo,function(n,i,r,o,s,a){var l=r||s||a,c=i||o||"";if(!l)return n;if(!Fo.test(l)||Uo.test(l))return"url(".concat(c).concat(l).concat(c,")");if(l[0]==="/")return"url(".concat(c).concat(Yo(t)+l).concat(c,")");var u=t.split("/"),d=l.split("/");u.pop();for(var p=0,m=d;p<m.length;p++){var h=m[p];h!=="."&&(h===".."?u.pop():u.push(h))}return"url(".concat(c).concat(u.join("/")).concat(c,")")})}var Eo=/^[^ \t\n\r\u000c]+/,Ko=/^[, \t\n\r\u000c]+/;function Ho(e,t){if(t.trim()==="")return t;var n=0;function i(c){var u,d=c.exec(t.substring(n));return d?(u=d[0],n+=u.length,u):""}for(var r=[];i(Ko),!(n>=t.length);){var o=i(Eo);if(o.slice(-1)===",")o=St(e,o.substring(0,o.length-1)),r.push(o);else{var s="";o=St(e,o);for(var a=!1;;){var l=t.charAt(n);if(l===""){r.push((o+s).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,r.push((o+s).trim());break}else l==="("&&(a=!0);s+=l,n+=1}}}return r.join(", ")}function St(e,t){if(!t||t.trim()==="")return t;var n=e.createElement("a");return n.href=t,n.href}function Oo(e){return Boolean(e.tagName==="svg"||e.ownerSVGElement)}function tn(){var e=document.createElement("a");return e.href="",e.href}function Pn(e,t,n,i){return n==="src"||n==="href"&&i&&!(t==="use"&&i[0]==="#")||n==="xlink:href"&&i&&i[0]!=="#"||n==="background"&&i&&(t==="table"||t==="td"||t==="th")?St(e,i):n==="srcset"&&i?Ho(e,i):n==="style"&&i?Xt(i,tn()):t==="object"&&n==="data"&&i?St(e,i):i}function Mn(e,t,n){if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(var i=e.classList.length;i--;){var r=e.classList[i];if(t.test(r))return!0}return n?e.matches(n):!1}function Rt(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return n?Rt(e.parentNode,t,n):!1;for(var i=e.classList.length;i--;){var r=e.classList[i];if(t.test(r))return!0}return n?Rt(e.parentNode,t,n):!1}function Bn(e,t,n){var i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(typeof t=="string"){if(i.classList.contains(t)||i.closest(".".concat(t)))return!0}else if(Rt(i,t,!0))return!0;return!!(n&&(i.matches(n)||i.closest(n)))}function zo(e,t,n){var i=e.contentWindow;if(i){var r=!1,o;try{o=i.document.readyState}catch(l){return}if(o!=="complete"){var s=setTimeout(function(){r||(t(),r=!0)},n);e.addEventListener("load",function(){clearTimeout(s),r=!0,t()});return}var a="about:blank";if(i.location.href!==a||e.src===a||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}}function Po(e,t,n){var i=!1,r;try{r=e.sheet}catch(s){return}if(!r){var o=setTimeout(function(){i||(t(),i=!0)},n);e.addEventListener("load",function(){clearTimeout(o),i=!0,t()})}}function Mo(e,t){var n=t.doc,i=t.mirror,r=t.blockClass,o=t.blockSelector,s=t.maskTextClass,a=t.maskTextSelector,l=t.inlineStylesheet,c=t.maskInputOptions,u=c===void 0?{}:c,d=t.maskTextFn,p=t.maskInputFn,m=t.dataURLOptions,h=m===void 0?{}:m,b=t.inlineImages,Z=t.recordCanvas,I=t.keepIframeSrcFn,f=t.newlyAddedElement,g=f===void 0?!1:f,X=t.enableStrictPrivacy,v=Bo(n,i);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:oe.Document,childNodes:[],compatMode:e.compatMode}:{type:oe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:oe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:v};case e.ELEMENT_NODE:return Do(e,{doc:n,blockClass:r,blockSelector:o,inlineStylesheet:l,maskInputOptions:u,maskInputFn:p,maskTextClass:s,dataURLOptions:h,inlineImages:b,recordCanvas:Z,keepIframeSrcFn:I,newlyAddedElement:g,enableStrictPrivacy:X,rootId:v});case e.TEXT_NODE:return Ao(e,{maskTextClass:s,maskTextSelector:a,maskTextFn:d,enableStrictPrivacy:X,rootId:v});case e.CDATA_SECTION_NODE:return{type:oe.CDATA,textContent:"",rootId:v};case e.COMMENT_NODE:return{type:oe.Comment,textContent:e.textContent||"",rootId:v};default:return!1}}function Bo(e,t){if(t.hasNode(e)){var n=t.getId(e);return n===1?void 0:n}}function Ao(e,t){var n,i=t.maskTextClass,r=t.maskTextSelector,o=t.maskTextFn,s=t.enableStrictPrivacy,a=t.rootId,l=e.parentNode&&e.parentNode.tagName,c=e.textContent,u=l==="STYLE"?!0:void 0,d=l==="SCRIPT"?!0:void 0,p=!1;if(u&&c){try{e.nextSibling||e.previousSibling||!((n=e.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(c=To(e.parentNode.sheet))}catch(h){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(h),e)}c=Xt(c,tn()),p=!0}if(d?(c="SCRIPT_PLACEHOLDER",p=!0):l==="NOSCRIPT"&&(c="",p=!0),!u&&!d&&c&&Bn(e,i,r)&&(c=o?o(c):c.replace(/[\S]/g,"*")),s&&!p&&l){var m=new Set(["HEAD","TITLE","STYLE","SCRIPT","HTML","BODY","NOSCRIPT"]);!m.has(l)&&c&&(c=qt(c))}return{type:oe.Text,textContent:c||"",isStyle:u,rootId:a}}function Do(e,t){for(var n=t.doc,i=t.blockClass,r=t.blockSelector,o=t.inlineStylesheet,s=t.maskInputOptions,a=s===void 0?{}:s,l=t.maskInputFn,c=t.maskTextClass,u=t.dataURLOptions,d=u===void 0?{}:u,p=t.inlineImages,m=t.recordCanvas,h=t.keepIframeSrcFn,b=t.newlyAddedElement,Z=b===void 0?!1:b,I=t.enableStrictPrivacy,f=t.rootId,g=Mn(e,i,r),X=Mn(e,c,null),v=xo(e),G={},w=e.attributes.length,S=0;S<w;S++){var Y=e.attributes[S];G[Y.name]=Pn(n,v,Y.name,Y.value)}if(v==="link"&&o){var T=Array.from(n.styleSheets).find(function(L){return L.href===e.href}),J=null;T&&(J=_t(T)),J&&(delete G.rel,delete G.href,G._cssText=Xt(J,T.href))}if(v==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var J=_t(e.sheet);J&&(G._cssText=Xt(J,tn()))}if(v==="input"||v==="textarea"||v==="select"){var Q=e.value,D=e.checked;G.type!=="radio"&&G.type!=="checkbox"&&G.type!=="submit"&&G.type!=="button"&&Q?G.value=$t({type:G.type,tagName:v,value:Q,maskInputOptions:a,maskInputFn:l}):D&&(G.checked=D)}if(v==="option"&&(e.selected&&!a.select?G.selected=!0:delete G.selected),v==="canvas"&&m){if(e.__context==="2d")ko(e)||(G.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){var y=e.toDataURL(d.type,d.quality),C=document.createElement("canvas");C.width=e.width,C.height=e.height;var K=C.toDataURL(d.type,d.quality);y!==K&&(G.rr_dataURL=y)}}if(v==="img"&&p&&!g&&!X&&!I){Be||(Be=n.createElement("canvas"),zn=Be.getContext("2d"));var O=e,V=O.crossOrigin;O.crossOrigin="anonymous";var R=function(){try{Be.width=O.naturalWidth,Be.height=O.naturalHeight,zn.drawImage(O,0,0),G.rr_dataURL=Be.toDataURL(d.type,d.quality)}catch(L){console.warn("Cannot inline img src=".concat(O.currentSrc,"! Error: ").concat(L))}V?G.crossOrigin=V:O.removeAttribute("crossorigin")};O.complete&&O.naturalWidth!==0?R():O.onload=R}if((v==="audio"||v==="video")&&(G.rr_mediaState=e.paused?"paused":"played",G.rr_mediaCurrentTime=e.currentTime),Z||(e.scrollLeft&&(G.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(G.rr_scrollTop=e.scrollTop)),g||X||I&&en(v)){var k=e.getBoundingClientRect(),N=k.width,x=k.height;G={class:G.class,rr_width:"".concat(N,"px"),rr_height:"".concat(x,"px")}}return I&&en(v)&&(g=!0),v==="iframe"&&!h(G.src)&&(e.contentDocument||(G.rr_src=G.src),delete G.src),{type:oe.Element,tagName:v,attributes:G,childNodes:[],isSVG:Oo(e)||void 0,needBlock:g,needMask:X,rootId:f}}function te(e){return e===void 0?"":e.toLowerCase()}function jo(e,t){return!!(t.comment&&e.type===oe.Comment||e.type===oe.Element&&(t.script&&(e.tagName==="script"||e.tagName==="link"&&e.attributes.rel==="preload"&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js"))||t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(te(e.attributes.name).match(/^msapplication-tile(image|color)$/)||te(e.attributes.name)==="application-name"||te(e.attributes.rel)==="icon"||te(e.attributes.rel)==="apple-touch-icon"||te(e.attributes.rel)==="shortcut icon"))||e.tagName==="meta"&&(t.headMetaDescKeywords&&te(e.attributes.name).match(/^description|keywords$/)||t.headMetaSocial&&(te(e.attributes.property).match(/^(og|twitter|fb):/)||te(e.attributes.name).match(/^(og|twitter):/)||te(e.attributes.name)==="pinterest")||t.headMetaRobots&&(te(e.attributes.name)==="robots"||te(e.attributes.name)==="googlebot"||te(e.attributes.name)==="bingbot")||t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0||t.headMetaAuthorship&&(te(e.attributes.name)==="author"||te(e.attributes.name)==="generator"||te(e.attributes.name)==="framework"||te(e.attributes.name)==="publisher"||te(e.attributes.name)==="progid"||te(e.attributes.property).match(/^article:/)||te(e.attributes.property).match(/^product:/))||t.headMetaVerification&&(te(e.attributes.name)==="google-site-verification"||te(e.attributes.name)==="yandex-verification"||te(e.attributes.name)==="csrf-token"||te(e.attributes.name)==="p:domain_verify"||te(e.attributes.name)==="verify-v1"||te(e.attributes.name)==="verification"||te(e.attributes.name)==="shopify-checkout-api-token"))))}function Ae(e,t){var n=t.doc,i=t.mirror,r=t.blockClass,o=t.blockSelector,s=t.maskTextClass,a=t.maskTextSelector,l=t.skipChild,c=l===void 0?!1:l,u=t.inlineStylesheet,d=u===void 0?!0:u,p=t.maskInputOptions,m=p===void 0?{}:p,h=t.maskTextFn,b=t.maskInputFn,Z=t.slimDOMOptions,I=t.dataURLOptions,f=I===void 0?{}:I,g=t.inlineImages,X=g===void 0?!1:g,v=t.recordCanvas,G=v===void 0?!1:v,w=t.onSerialize,S=t.onIframeLoad,Y=t.iframeLoadTimeout,T=Y===void 0?5e3:Y,J=t.onStylesheetLoad,Q=t.stylesheetLoadTimeout,D=Q===void 0?5e3:Q,y=t.keepIframeSrcFn,C=y===void 0?function(){return!1}:y,K=t.newlyAddedElement,O=K===void 0?!1:K,V=t.enableStrictPrivacy,R=t.preserveWhiteSpace,k=R===void 0?!0:R,N=Mo(e,{doc:n,mirror:i,blockClass:r,blockSelector:o,maskTextClass:s,maskTextSelector:a,inlineStylesheet:d,maskInputOptions:m,maskTextFn:h,maskInputFn:b,dataURLOptions:f,inlineImages:X,recordCanvas:G,keepIframeSrcFn:C,newlyAddedElement:O,enableStrictPrivacy:V});if(!N)return console.warn(e,"not serialized"),null;var x;i.hasNode(e)?x=i.getId(e):jo(N,Z)||!k&&N.type===oe.Text&&!N.isStyle&&!N.textContent.replace(/^\s+|\s+$/gm,"").length?x=st:x=No();var L=Object.assign(N,{id:x});if(i.add(e,L),x===st)return null;w&&w(e);var A=!c,z=V;if(L.type===oe.Element){if(A=A&&!L.needBlock,z=V||!!L.needBlock||!!L.needMask,z&&en(L.tagName)){var _=e.cloneNode();_.src="",i.add(_,L)}delete L.needBlock,delete L.needMask;var U=e.shadowRoot;U&&ot(U)&&(L.isShadowHost=!0)}if((L.type===oe.Document||L.type===oe.Element)&&A){Z.headWhitespace&&L.type===oe.Element&&L.tagName==="head"&&(k=!1);for(var F={doc:n,mirror:i,blockClass:r,blockSelector:o,maskTextClass:s,maskTextSelector:a,skipChild:c,inlineStylesheet:d,maskInputOptions:m,maskTextFn:h,maskInputFn:b,slimDOMOptions:Z,dataURLOptions:f,inlineImages:X,recordCanvas:G,preserveWhiteSpace:k,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:T,onStylesheetLoad:J,stylesheetLoadTimeout:D,keepIframeSrcFn:C,enableStrictPrivacy:z},j=0,ee=Array.from(e.childNodes);j<ee.length;j++){var M=ee[j],ne=Ae(M,F);ne&&L.childNodes.push(ne)}if(Ro(e)&&e.shadowRoot)for(var P=0,ue=Array.from(e.shadowRoot.childNodes);P<ue.length;P++){var M=ue[P],ne=Ae(M,F);ne&&(ot(e.shadowRoot)&&(ne.isShadow=!0),L.childNodes.push(ne))}}return e.parentNode&&rt(e.parentNode)&&ot(e.parentNode)&&(L.isShadow=!0),L.type===oe.Element&&L.tagName==="iframe"&&zo(e,function(){var he=e.contentDocument;if(he&&S){var ae=Ae(he,{doc:he,mirror:i,blockClass:r,blockSelector:o,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:d,maskInputOptions:m,maskTextFn:h,maskInputFn:b,slimDOMOptions:Z,dataURLOptions:f,inlineImages:X,recordCanvas:G,preserveWhiteSpace:k,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:T,onStylesheetLoad:J,stylesheetLoadTimeout:D,keepIframeSrcFn:C,enableStrictPrivacy:V});ae&&S(e,ae)}},T),L.type===oe.Element&&L.tagName==="link"&&L.attributes.rel==="stylesheet"&&Po(e,function(){if(J){var he=Ae(e,{doc:n,mirror:i,blockClass:r,blockSelector:o,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:d,maskInputOptions:m,maskTextFn:h,maskInputFn:b,slimDOMOptions:Z,dataURLOptions:f,inlineImages:X,recordCanvas:G,preserveWhiteSpace:k,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:T,onStylesheetLoad:J,stylesheetLoadTimeout:D,keepIframeSrcFn:C,enableStrictPrivacy:V});he&&J(e,he)}},D),L}function Qo(e,t){var n=t||{},i=n.mirror,r=i===void 0?new Hn:i,o=n.blockClass,s=o===void 0?"highlight-block":o,a=n.blockSelector,l=a===void 0?null:a,c=n.maskTextClass,u=c===void 0?"highlight-mask":c,d=n.maskTextSelector,p=d===void 0?null:d,m=n.inlineStylesheet,h=m===void 0?!0:m,b=n.inlineImages,Z=b===void 0?!1:b,I=n.recordCanvas,f=I===void 0?!1:I,g=n.maskAllInputs,X=g===void 0?!1:g,v=n.maskTextFn,G=n.maskInputFn,w=n.slimDOM,S=w===void 0?!1:w,Y=n.dataURLOptions,T=n.preserveWhiteSpace,J=n.onSerialize,Q=n.onIframeLoad,D=n.iframeLoadTimeout,y=n.onStylesheetLoad,C=n.stylesheetLoadTimeout,K=n.keepIframeSrcFn,O=K===void 0?function(){return!1}:K,V=n.enableStrictPrivacy,R=V===void 0?!1:V,k=X===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:X===!1?{password:!0}:X,N=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S;return Ae(e,{doc:e,mirror:r,blockClass:s,blockSelector:l,maskTextClass:u,maskTextSelector:p,skipChild:!1,inlineStylesheet:h,maskInputOptions:k,maskTextFn:v,maskInputFn:G,slimDOMOptions:N,dataURLOptions:Y,inlineImages:Z,recordCanvas:f,preserveWhiteSpace:T,onSerialize:J,onIframeLoad:Q,iframeLoadTimeout:D,onStylesheetLoad:y,stylesheetLoadTimeout:C,keepIframeSrcFn:O,newlyAddedElement:!1,enableStrictPrivacy:R})}function be(e,t,n=document){const i={capture:!0,passive:!0};return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}const De=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let An={map:{},getId(){return console.error(De),-1},getNode(){return console.error(De),null},removeNodeFromMap(){console.error(De)},has(){return console.error(De),!1},reset(){console.error(De)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(An=new Proxy(An,{get(e,t,n){return t==="map"&&console.error(De),Reflect.get(e,t,n)}}));function at(e,t,n={}){let i=null,r=0;return function(...o){const s=Date.now();!r&&n.leading===!1&&(r=s);const a=t-(s-r),l=this;a<=0||a>t?(i&&(clearTimeout(i),i=null),r=s,e.apply(l,o)):!i&&n.trailing!==!1&&(i=setTimeout(()=>{r=n.leading===!1?0:Date.now(),i=null,e.apply(l,o)},a))}}function Wt(e,t,n,i,r=window){const o=r.Object.getOwnPropertyDescriptor(e,t);return r.Object.defineProperty(e,t,i?n:{set(s){setTimeout(()=>{n.set.call(this,s)},0),o&&o.set&&o.set.call(this,s)}}),()=>Wt(e,t,o||{},!0)}function je(e,t,n){try{if(!(t in e))return()=>{};const i=e[t],r=n(i);return typeof r=="function"&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:i}})),e[t]=r,()=>{e[t]=i}}catch(i){return()=>{}}}function Dn(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function jn(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}const _o=e=>{try{if(e instanceof HTMLElement)return e.tagName==="CANVAS"}catch(t){return!1}return!1};function fe(e,t,n,i){if(!e)return!1;const r=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!r)return!1;if(typeof t=="string"){if(r.classList.contains(t)||i&&r.closest("."+t)!==null)return!0}else if(Rt(r,t,i))return!0;return!!(n&&(e.matches(n)||i&&r.closest(n)!==null))}function $o(e,t){return t.getId(e)!==-1}function nn(e,t){return t.getId(e)===st}function Qn(e,t){if(rt(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Qn(e.parentNode,t):!0:!0}function _n(e){return Boolean(e.changedTouches)}function qo(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function $n(e,t){return Boolean(e.nodeName==="IFRAME"&&t.getMeta(e))}function qn(e,t){return Boolean(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function ei(e){return Boolean(e==null?void 0:e.shadowRoot)}class es{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var n;return(n=this.styleIDMap.get(t))!==null&&n!==void 0?n:-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let i;return n===void 0?i=this.id++:i=n,this.styleIDMap.set(t,i),this.idStyleMap.set(i,t),i}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}}var ie;(function(e){e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin"})(ie||(ie={}));var de;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(de||(de={}));var Ct;(function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel"})(Ct||(Ct={}));var Ue;(function(e){e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2"})(Ue||(Ue={}));var ti;(function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange"})(ti||(ti={}));var ni;(function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back",e.Destroy="destroy"})(ni||(ni={}));function ii(e){return"__ln"in e}class ts{constructor(){this.length=0,this.head=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let i=0;i<t;i++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&ii(t.previousSibling)){const i=t.previousSibling.__ln.next;n.next=i,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,i&&(i.previous=n)}else if(t.nextSibling&&ii(t.nextSibling)&&t.nextSibling.__ln.previous){const i=t.nextSibling.__ln.previous;n.previous=i,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,i&&(i.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;this.length++}removeNode(t){const n=t.__ln;!this.head||(n.previous?(n.previous.next=n.next,n.next&&(n.next.previous=n.previous)):(this.head=n.next,this.head&&(this.head.previous=null)),t.__ln&&delete t.__ln,this.length--)}}const ri=(e,t)=>`${e}@${t}`;class ns{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new ts,i=a=>{let l=a,c=st;for(;c===st;)l=l&&l.nextSibling,c=l&&this.mirror.getId(l);return c},r=a=>{var l,c,u,d;let p=null;((c=(l=a.getRootNode)===null||l===void 0?void 0:l.call(a))===null||c===void 0?void 0:c.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&a.getRootNode().host&&(p=a.getRootNode().host);let m=p;for(;((d=(u=m==null?void 0:m.getRootNode)===null||u===void 0?void 0:u.call(m))===null||d===void 0?void 0:d.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&m.getRootNode().host;)m=m.getRootNode().host;const h=!this.doc.contains(a)&&(!m||!this.doc.contains(m));if(!a.parentNode||h)return;const b=rt(a.parentNode)?this.mirror.getId(p):this.mirror.getId(a.parentNode),Z=i(a);if(b===-1||Z===-1)return n.addNode(a);const I=Ae(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,enableStrictPrivacy:this.enableStrictPrivacy,onSerialize:f=>{$n(f,this.mirror)&&this.iframeManager.addIframe(f),qn(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),ei(a)&&this.shadowDomManager.addShadowRoot(a.shadowRoot,this.doc)},onIframeLoad:(f,g)=>{this.iframeManager.attachIframe(f,g,this.mirror),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,g)=>{this.stylesheetManager.attachLinkElement(f,g)}});I&&t.push({parentId:b,nextId:Z,node:I})};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of Array.from(this.movedSet.values()))oi(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||r(a);for(const a of Array.from(this.addedSet.values()))!ai(this.droppedSet,a)&&!oi(this.removes,a,this.mirror)||ai(this.movedSet,a)?r(a):this.droppedSet.add(a);let o=null;for(;n.length;){let a=null;if(o){const l=this.mirror.getId(o.value.parentNode),c=i(o.value);l!==-1&&c!==-1&&(a=o)}if(!a)for(let l=n.length-1;l>=0;l--){const c=n.get(l);if(c){const u=this.mirror.getId(c.value.parentNode);if(i(c.value)===-1)continue;if(u!==-1){a=c;break}else{const d=c.value;if(d.parentNode&&d.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const p=d.parentNode.host;if(this.mirror.getId(p)!==-1){a=c;break}}}}}if(!a){for(;n.head;)n.removeNode(n.head.value);break}o=a.previous,n.removeNode(a.value),r(a.value)}const s={texts:this.texts.map(a=>{let l=a.value;return this.enableStrictPrivacy&&l&&(l=qt(l)),{id:this.mirror.getId(a.node),value:l}}).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>({id:this.mirror.getId(a.node),attributes:a.attributes})).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:t};!s.texts.length&&!s.attributes.length&&!s.removes.length&&!s.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=t=>{if(!nn(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!fe(t.target,this.blockClass,this.blockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Bn(t.target,this.maskTextClass,this.maskTextSelector)&&n?this.maskTextFn?this.maskTextFn(n):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let i=t.target.getAttribute(t.attributeName);if(t.attributeName==="value"&&(i=$t({maskInputOptions:this.maskInputOptions,tagName:t.target.tagName,type:t.target.getAttribute("type"),value:i,maskInputFn:this.maskInputFn})),fe(t.target,this.blockClass,this.blockSelector,!1)||i===t.oldValue)return;let r=this.attributes.find(o=>o.node===t.target);if(n.tagName==="IFRAME"&&t.attributeName==="src"&&!this.keepIframeSrcFn(i))if(!n.contentDocument)t.attributeName="rr_src";else return;if(r||(r={node:t.target,attributes:{}},this.attributes.push(r)),t.attributeName==="style"){const o=this.doc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue),(r.attributes.style===void 0||r.attributes.style===null)&&(r.attributes.style={});const s=r.attributes.style;for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),c=n.style.getPropertyPriority(a);(l!==o.style.getPropertyValue(a)||c!==o.style.getPropertyPriority(a))&&(c===""?s[a]=l:s[a]=[l,c])}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(s[a]=!1)}else{if(t.target.tagName==="INPUT"){const o=t.target;if(o.type==="password"){r.attributes.value="*".repeat(o.value.length);break}}r.attributes[t.attributeName]=Pn(this.doc,n.tagName,t.attributeName,i)}break}case"childList":{if(fe(t.target,this.blockClass,this.blockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const i=this.mirror.getId(n),r=rt(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);fe(t.target,this.blockClass,this.blockSelector,!1)||nn(n,this.mirror)||!$o(n,this.mirror)||(this.addedSet.has(n)?(rn(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&i===-1||Qn(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[ri(i,r)]?rn(this.movedSet,n):this.removes.push({parentId:r,id:i,isShadow:rt(t.target)&&ot(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(this.mirror.hasNode(t)){if(nn(t,this.mirror))return;this.movedSet.add(t);let i=null;n&&this.mirror.hasNode(n)&&(i=this.mirror.getId(n)),i&&i!==-1&&(this.movedMap[ri(this.mirror.getId(t),i)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);fe(t,this.blockClass,this.blockSelector,!1)||t.childNodes.forEach(i=>this.genAdds(i))}}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","enableStrictPrivacy"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function rn(e,t){e.delete(t),t.childNodes.forEach(n=>rn(e,n))}function oi(e,t,n){return e.length===0?!1:si(e,t,n)}function si(e,t,n){const{parentNode:i}=t;if(!i)return!1;const r=n.getId(i);return e.some(o=>o.id===r)?!0:si(e,i,n)}function ai(e,t){return e.size===0?!1:li(e,t)}function li(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:li(e,n):!1}const Ee=[],ci=typeof CSSGroupingRule!="undefined",ui=typeof CSSMediaRule!="undefined",di=typeof CSSSupportsRule!="undefined",pi=typeof CSSConditionRule!="undefined";function lt(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0];return e.target}catch(t){return e.target}}function hi(e,t){var n,i;const r=new ns;Ee.push(r),r.init(e);let o=window.MutationObserver||window.__rrMutationObserver;const s=(i=(n=window==null?void 0:window.Zone)===null||n===void 0?void 0:n.__symbol__)===null||i===void 0?void 0:i.call(n,"MutationObserver");s&&window[s]&&(o=window[s]);const a=new o(r.processMutations.bind(r));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function is({mousemoveCb:e,sampling:t,doc:n,mirror:i}){if(t.mousemove===!1)return()=>{};const r=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let s=[],a;const l=at(d=>{const p=Date.now()-a;e(s.map(m=>(m.timeOffset-=p,m)),d),s=[],a=null},o),c=at(d=>{const p=lt(d),{clientX:m,clientY:h}=_n(d)?d.changedTouches[0]:d;a||(a=Date.now()),s.push({x:m,y:h,id:i.getId(p),timeOffset:Date.now()-a}),l(typeof DragEvent!="undefined"&&d instanceof DragEvent?de.Drag:d instanceof MouseEvent?de.MouseMove:de.TouchMove)},r,{trailing:!1}),u=[be("mousemove",c,n),be("touchmove",c,n),be("drag",c,n)];return()=>{u.forEach(d=>d())}}function rs({mouseInteractionCb:e,doc:t,mirror:n,blockClass:i,blockSelector:r,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const s=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,a=[],l=c=>u=>{const d=lt(u);if(fe(d,i,r,!0)||_o(d))return;const p=_n(u)?u.changedTouches[0]:u;if(!p)return;const m=n.getId(d),{clientX:h,clientY:b}=p;e({type:Ct[c],id:m,x:h,y:b})};return Object.keys(Ct).filter(c=>Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&s[c]!==!1).forEach(c=>{const u=c.toLowerCase(),d=l(c);a.push(be(u,d,t))}),()=>{a.forEach(c=>c())}}function mi({scrollCb:e,doc:t,mirror:n,blockClass:i,blockSelector:r,sampling:o}){const s=at(a=>{const l=lt(a);if(!l||fe(l,i,r,!0))return;const c=n.getId(l);if(l===t){const u=t.scrollingElement||t.documentElement;e({id:c,x:u.scrollLeft,y:u.scrollTop})}else e({id:c,x:l.scrollLeft,y:l.scrollTop})},o.scroll||100);return be("scroll",s,t)}function os({viewportResizeCb:e}){let t=-1,n=-1;const i=at(()=>{const r=Dn(),o=jn();(t!==r||n!==o)&&(e({width:Number(o),height:Number(r)}),t=r,n=o)},200);return be("resize",i,window)}function bi(e,t){const n=Object.assign({},e);return t||delete n.userTriggered,n}const ss=["INPUT","TEXTAREA","SELECT"],fi=new WeakMap;function as({inputCb:e,doc:t,mirror:n,blockClass:i,blockSelector:r,ignoreClass:o,maskInputOptions:s,maskInputFn:a,sampling:l,userTriggeredOnInput:c}){function u(Z){let I=lt(Z);const f=Z.isTrusted;if(I&&I.tagName==="OPTION"&&(I=I.parentElement),!I||!I.tagName||ss.indexOf(I.tagName)<0||fe(I,i,r,!0))return;const g=I.type;if(I.classList.contains(o))return;let X=I.value,v=!1;g==="radio"||g==="checkbox"?v=I.checked:(s[I.tagName.toLowerCase()]||s[g])&&(X=$t({maskInputOptions:s,tagName:I.tagName,type:g,value:X,maskInputFn:a})),d(I,bi({text:X,isChecked:v,userTriggered:f},c));const G=I.name;g==="radio"&&G&&v&&t.querySelectorAll(`input[type="radio"][name="${G}"]`).forEach(w=>{w!==I&&d(w,bi({text:w.value,isChecked:!v,userTriggered:!1},c))})}function d(Z,I){const f=fi.get(Z);if(!f||f.text!==I.text||f.isChecked!==I.isChecked){fi.set(Z,I);const g=n.getId(Z);e(Object.assign(Object.assign({},I),{id:g}))}}const p=(l.input==="last"?["change"]:["input","change"]).map(Z=>be(Z,u,t)),m=t.defaultView;if(!m)return()=>{p.forEach(Z=>Z())};const h=m.Object.getOwnPropertyDescriptor(m.HTMLInputElement.prototype,"value"),b=[[m.HTMLInputElement.prototype,"value"],[m.HTMLInputElement.prototype,"checked"],[m.HTMLSelectElement.prototype,"value"],[m.HTMLTextAreaElement.prototype,"value"],[m.HTMLSelectElement.prototype,"selectedIndex"],[m.HTMLOptionElement.prototype,"selected"]];return h&&h.set&&p.push(...b.map(Z=>Wt(Z[0],Z[1],{set(){u({target:this})}},!1,m))),()=>{p.forEach(Z=>Z())}}function kt(e){const t=[];function n(i,r){if(ci&&i.parentRule instanceof CSSGroupingRule||ui&&i.parentRule instanceof CSSMediaRule||di&&i.parentRule instanceof CSSSupportsRule||pi&&i.parentRule instanceof CSSConditionRule){const o=Array.from(i.parentRule.cssRules).indexOf(i);r.unshift(o)}else if(i.parentStyleSheet){const o=Array.from(i.parentStyleSheet.cssRules).indexOf(i);r.unshift(o)}return r}return n(e,t)}function Ye(e,t,n){let i,r;return e?(e.ownerNode?i=t.getId(e.ownerNode):r=n.getId(e),{styleId:r,id:i}):{}}function ls({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:i}){const r=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=function(u,d){const{id:p,styleId:m}=Ye(this,t,n.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,adds:[{rule:u,index:d}]}),r.apply(this,[u,d])};const o=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=function(u){const{id:d,styleId:p}=Ye(this,t,n.styleMirror);return(d&&d!==-1||p&&p!==-1)&&e({id:d,styleId:p,removes:[{index:u}]}),o.apply(this,[u])};let s;i.CSSStyleSheet.prototype.replace&&(s=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=function(u){const{id:d,styleId:p}=Ye(this,t,n.styleMirror);return(d&&d!==-1||p&&p!==-1)&&e({id:d,styleId:p,replace:u}),s.apply(this,[u])});let a;i.CSSStyleSheet.prototype.replaceSync&&(a=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=function(u){const{id:d,styleId:p}=Ye(this,t,n.styleMirror);return(d&&d!==-1||p&&p!==-1)&&e({id:d,styleId:p,replaceSync:u}),a.apply(this,[u])});const l={};ci?l.CSSGroupingRule=i.CSSGroupingRule:(ui&&(l.CSSMediaRule=i.CSSMediaRule),pi&&(l.CSSConditionRule=i.CSSConditionRule),di&&(l.CSSSupportsRule=i.CSSSupportsRule));const c={};return Object.entries(l).forEach(([u,d])=>{c[u]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=function(p,m){const{id:h,styleId:b}=Ye(this.parentStyleSheet,t,n.styleMirror);return(h&&h!==-1||b&&b!==-1)&&e({id:h,styleId:b,adds:[{rule:p,index:[...kt(this),m||0]}]}),c[u].insertRule.apply(this,[p,m])},d.prototype.deleteRule=function(p){const{id:m,styleId:h}=Ye(this.parentStyleSheet,t,n.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,removes:[{index:[...kt(this),p]}]}),c[u].deleteRule.apply(this,[p])}}),()=>{i.CSSStyleSheet.prototype.insertRule=r,i.CSSStyleSheet.prototype.deleteRule=o,s&&(i.CSSStyleSheet.prototype.replace=s),a&&(i.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([u,d])=>{d.prototype.insertRule=c[u].insertRule,d.prototype.deleteRule=c[u].deleteRule})}}function yi({mirror:e,stylesheetManager:t},n){var i,r,o;let s=null;n.nodeName==="#document"?s=e.getId(n):s=e.getId(n.host);const a=n.nodeName==="#document"?(i=n.defaultView)===null||i===void 0?void 0:i.Document:(o=(r=n.ownerDocument)===null||r===void 0?void 0:r.defaultView)===null||o===void 0?void 0:o.ShadowRoot,l=Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets");return s===null||s===-1||!a||!l?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var c;return(c=l.get)===null||c===void 0?void 0:c.call(this)},set(c){var u;const d=(u=l.set)===null||u===void 0?void 0:u.call(this,c);if(s!==null&&s!==-1)try{t.adoptStyleSheets(c,s)}catch(p){}return d}}),()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})})}function cs({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:i},{win:r}){const o=r.CSSStyleDeclaration.prototype.setProperty;r.CSSStyleDeclaration.prototype.setProperty=function(a,l,c){var u;if(n.has(a))return o.apply(this,[a,l,c]);const{id:d,styleId:p}=Ye((u=this.parentRule)===null||u===void 0?void 0:u.parentStyleSheet,t,i.styleMirror);return(d&&d!==-1||p&&p!==-1)&&e({id:d,styleId:p,set:{property:a,value:l,priority:c},index:kt(this.parentRule)}),o.apply(this,[a,l,c])};const s=r.CSSStyleDeclaration.prototype.removeProperty;return r.CSSStyleDeclaration.prototype.removeProperty=function(a){var l;if(n.has(a))return s.apply(this,[a]);const{id:c,styleId:u}=Ye((l=this.parentRule)===null||l===void 0?void 0:l.parentStyleSheet,t,i.styleMirror);return(c&&c!==-1||u&&u!==-1)&&e({id:c,styleId:u,remove:{property:a},index:kt(this.parentRule)}),s.apply(this,[a])},()=>{r.CSSStyleDeclaration.prototype.setProperty=o,r.CSSStyleDeclaration.prototype.removeProperty=s}}function us({mediaInteractionCb:e,blockClass:t,blockSelector:n,mirror:i,sampling:r}){const o=a=>at(l=>{const c=lt(l);if(!c||fe(c,t,n,!0))return;const{currentTime:u,volume:d,muted:p,playbackRate:m}=c;e({type:a,id:i.getId(c),currentTime:u,volume:d,muted:p,playbackRate:m})},r.media||500),s=[be("play",o(0)),be("pause",o(1)),be("seeked",o(2)),be("volumechange",o(3)),be("ratechange",o(4))];return()=>{s.forEach(a=>a())}}function ds({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const i=[],r=new WeakMap,o=n.FontFace;n.FontFace=function(a,l,c){const u=new o(a,l,c);return r.set(u,{family:a,buffer:typeof l!="string",descriptors:c,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),u};const s=je(t.fonts,"add",function(a){return function(l){return setTimeout(()=>{const c=r.get(l);c&&(e(c),r.delete(l))},0),a.apply(this,[l])}});return i.push(()=>{n.FontFace=o}),i.push(s),()=>{i.forEach(a=>a())}}function ps(e){const{doc:t,mirror:n,blockClass:i,blockSelector:r,selectionCb:o}=e;let s=!0;const a=()=>{const l=t.getSelection();if(!l||s&&(l==null?void 0:l.isCollapsed))return;s=l.isCollapsed||!1;const c=[],u=l.rangeCount||0;for(let d=0;d<u;d++){const p=l.getRangeAt(d),{startContainer:m,startOffset:h,endContainer:b,endOffset:Z}=p;fe(m,i,r,!0)||fe(b,i,r,!0)||c.push({start:n.getId(m),startOffset:h,end:n.getId(b),endOffset:Z})}o({ranges:c})};return a(),be("selectionchange",a)}function hs(e,t){const{mutationCb:n,mousemoveCb:i,mouseInteractionCb:r,scrollCb:o,viewportResizeCb:s,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:c,styleDeclarationCb:u,canvasMutationCb:d,fontCb:p,selectionCb:m}=e;e.mutationCb=(...h)=>{t.mutation&&t.mutation(...h),n(...h)},e.mousemoveCb=(...h)=>{t.mousemove&&t.mousemove(...h),i(...h)},e.mouseInteractionCb=(...h)=>{t.mouseInteraction&&t.mouseInteraction(...h),r(...h)},e.scrollCb=(...h)=>{t.scroll&&t.scroll(...h),o(...h)},e.viewportResizeCb=(...h)=>{t.viewportResize&&t.viewportResize(...h),s(...h)},e.inputCb=(...h)=>{t.input&&t.input(...h),a(...h)},e.mediaInteractionCb=(...h)=>{t.mediaInteaction&&t.mediaInteaction(...h),l(...h)},e.styleSheetRuleCb=(...h)=>{t.styleSheetRule&&t.styleSheetRule(...h),c(...h)},e.styleDeclarationCb=(...h)=>{t.styleDeclaration&&t.styleDeclaration(...h),u(...h)},e.canvasMutationCb=(...h)=>{t.canvasMutation&&t.canvasMutation(...h),d(...h)},e.fontCb=(...h)=>{t.font&&t.font(...h),p(...h)},e.selectionCb=(...h)=>{t.selection&&t.selection(...h),m(...h)}}function ms(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};hs(e,t);const i=hi(e,e.doc),r=is(e),o=rs(e),s=mi(e),a=os(e),l=as(e),c=us(e),u=ls(e,{win:n}),d=yi(e,e.doc),p=cs(e,{win:n}),m=e.collectFonts?ds(e):()=>{},h=ps(e),b=[];for(const Z of e.plugins)b.push(Z.observer(Z.callback,n,Z.options));return()=>{Ee.forEach(Z=>Z.reset()),i.disconnect(),r(),o(),s(),a(),l(),c(),u(),d(),p(),m(),h(),b.forEach(Z=>Z())}}class bs{constructor(t){this.iframes=new WeakMap,this.mutationCb=t.mutationCb,this.stylesheetManager=t.stylesheetManager}addIframe(t){this.iframes.set(t,!0)}addLoadListener(t){this.loadListener=t}attachIframe(t,n,i){var r;this.mutationCb({adds:[{parentId:i.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,i.getId(t.contentDocument))}}class fs{constructor(t){this.shadowDoms=new WeakSet,this.restorePatches=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror;const n=this;this.restorePatches.push(je(Element.prototype,"attachShadow",function(i){return function(r){const o=i.call(this,r);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,this.ownerDocument),o}}))}addShadowRoot(t,n){!ot(t)||this.shadowDoms.has(t)||(this.shadowDoms.add(t),hi(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t),mi(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),yi({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t)},0))}observeAttachShadow(t){if(t.contentWindow){const n=this;this.restorePatches.push(je(t.contentWindow.HTMLElement.prototype,"attachShadow",function(i){return function(r){const o=i.call(this,r);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,t.contentDocument),o}}))}}reset(){this.restorePatches.forEach(t=>t()),this.shadowDoms=new WeakSet}}function ys(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function gs(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}for(var Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zs=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),Lt=0;Lt<Qe.length;Lt++)Zs[Qe.charCodeAt(Lt)]=Lt;var Is=function(e){var t=new Uint8Array(e),n,i=t.length,r="";for(n=0;n<i;n+=3)r+=Qe[t[n]>>2],r+=Qe[(t[n]&3)<<4|t[n+1]>>4],r+=Qe[(t[n+1]&15)<<2|t[n+2]>>6],r+=Qe[t[n+2]&63];return i%3===2?r=r.substring(0,r.length-1)+"=":i%3===1&&(r=r.substring(0,r.length-2)+"=="),r};const gi=new Map;function vs(e,t){let n=gi.get(e);return n||(n=new Map,gi.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const Zi=(e,t,n)=>{if(!e||!(vi(e,t)||typeof e=="object"))return;const i=e.constructor.name,r=vs(n,i);let o=r.indexOf(e);return o===-1&&(o=r.length,r.push(e)),o};function wt(e,t,n){if(e instanceof Array)return e.map(i=>wt(i,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const i=e.constructor.name,r=Is(e);return{rr_type:i,base64:r}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[wt(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const i=e.constructor.name,{src:r}=e;return{rr_type:i,src:r}}else if(e instanceof HTMLCanvasElement){const i="HTMLImageElement",r=e.toDataURL();return{rr_type:i,src:r}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[wt(e.data,t,n),e.width,e.height]};if(vi(e,t)||typeof e=="object"){const i=e.constructor.name,r=Zi(e,t,n);return{rr_type:i,index:r}}}}return e}const Ii=(e,t,n)=>[...e].map(i=>wt(i,t,n)),vi=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>typeof t[i]=="function");return Boolean(n.find(i=>e instanceof t[i]))};function Vs(e,t,n,i){const r=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const s of o)try{if(typeof t.CanvasRenderingContext2D.prototype[s]!="function")continue;const a=je(t.CanvasRenderingContext2D.prototype,s,function(l){return function(...c){return fe(this.canvas,n,i,!0)||setTimeout(()=>{const u=Ii([...c],t,this);e(this.canvas,{type:Ue["2D"],property:s,args:u})},0),l.apply(this,c)}});r.push(a)}catch(a){const l=Wt(t.CanvasRenderingContext2D.prototype,s,{set(c){e(this.canvas,{type:Ue["2D"],property:s,args:[c],setter:!0})}});r.push(l)}return()=>{r.forEach(s=>s())}}function Vi(e,t,n){const i=[];try{const r=je(e.HTMLCanvasElement.prototype,"getContext",function(o){return function(s,...a){return fe(this,t,n,!0)||"__context"in this||(this.__context=s),o.apply(this,[s,...a])}});i.push(r)}catch(r){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(r=>r())}}function Gi(e,t,n,i,r,o,s){const a=[],l=Object.getOwnPropertyNames(e);for(const c of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))try{if(typeof e[c]!="function")continue;const u=je(e,c,function(d){return function(...p){const m=d.apply(this,p);if(Zi(m,s,this),!fe(this.canvas,i,r,!0)){const h=Ii([...p],s,this),b={type:t,property:c,args:h};n(this.canvas,b)}return m}});a.push(u)}catch(u){const d=Wt(e,c,{set(p){n(this.canvas,{type:t,property:c,args:[p],setter:!0})}});a.push(d)}return a}function Gs(e,t,n,i,r){const o=[];return o.push(...Gi(t.WebGLRenderingContext.prototype,Ue.WebGL,e,n,i,r,t)),typeof t.WebGL2RenderingContext!="undefined"&&o.push(...Gi(t.WebGL2RenderingContext.prototype,Ue.WebGL2,e,n,i,r,t)),()=>{o.forEach(s=>s())}}var Xi=null;try{var Xs=typeof module!="undefined"&&typeof module.require=="function"&&module.require("worker_threads")||typeof __non_webpack_require__=="function"&&__non_webpack_require__("worker_threads")||typeof require=="function"&&require("worker_threads");Xi=Xs.Worker}catch(e){}function Ss(e,t){return Buffer.from(e,"base64").toString(t?"utf16":"utf8")}function Rs(e,t,n){var i=t===void 0?null:t,r=n===void 0?!1:n,o=Ss(e,r),s=o.indexOf(`
`,10)+1,a=o.substring(s)+(i?"//# sourceMappingURL="+i:"");return function(l){return new Xi(a,Object.assign({},l,{eval:!0}))}}function Ws(e,t){var n=atob(e);if(t){for(var i=new Uint8Array(n.length),r=0,o=n.length;r<o;++r)i[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}function Cs(e,t,n){var i=t===void 0?null:t,r=n===void 0?!1:n,o=Ws(e,r),s=o.indexOf(`
`,10)+1,a=o.substring(s)+(i?"//# sourceMappingURL="+i:""),l=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(l)}function ks(e,t,n){var i;return function(r){return i=i||Cs(e,t,n),new Worker(i,r)}}var Ls=Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]";function ws(){return Ls}function Ns(e,t,n){return ws()?Rs(e,t,n):ks(e,t,n)}var xs=Ns("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4NCg0KICAgIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueQ0KICAgIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC4NCg0KICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIDQogICAgUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZDQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULA0KICAgIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTQ0KICAgIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SDQogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUg0KICAgIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuDQogICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8NCg0KICAgIGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHsNCiAgICAgICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9DQogICAgICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgew0KICAgICAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfQ0KICAgICAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbInRocm93Il0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfQ0KICAgICAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH0NCiAgICAgICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTsNCiAgICAgICAgfSk7DQogICAgfQoKICAgIC8qCiAgICAgKiBiYXNlNjQtYXJyYXlidWZmZXIgMS4wLjEgPGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXI+CiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMjEgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPgogICAgICogUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2UKICAgICAqLwogICAgdmFyIGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nOwogICAgLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LgogICAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogICAgfQogICAgdmFyIGVuY29kZSA9IGZ1bmN0aW9uIChhcnJheWJ1ZmZlcikgewogICAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSAnJzsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpIHsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdOwogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildOwogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdOwogICAgICAgIH0KICAgICAgICBpZiAobGVuICUgMyA9PT0gMikgewogICAgICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAxKSArICc9JzsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobGVuICUgMyA9PT0gMSkgewogICAgICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArICc9PSc7CiAgICAgICAgfQogICAgICAgIHJldHVybiBiYXNlNjQ7CiAgICB9OwoKICAgIGNvbnN0IGxhc3RCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGNvbnN0IHRyYW5zcGFyZW50QmxvYk1hcCA9IG5ldyBNYXAoKTsNCiAgICBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7DQogICAgICAgICAgICBpZiAoJ09mZnNjcmVlbkNhbnZhcycgaW4gZ2xvYmFsVGhpcykgew0KICAgICAgICAgICAgICAgIGlmICh0cmFuc3BhcmVudEJsb2JNYXAuaGFzKGlkKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zcGFyZW50QmxvYk1hcC5nZXQoaWQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNjcmVlbiA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsIGhlaWdodCk7DQogICAgICAgICAgICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoJzJkJyk7DQogICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IHlpZWxkIG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IHlpZWxkIGJsb2IuYXJyYXlCdWZmZXIoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOw0KICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U2NDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiAnJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfQ0KICAgIGNvbnN0IHdvcmtlciA9IHNlbGY7DQogICAgd29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7DQogICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7DQogICAgICAgICAgICBpZiAoJ09mZnNjcmVlbkNhbnZhcycgaW4gZ2xvYmFsVGhpcykgew0KICAgICAgICAgICAgICAgIGNvbnN0IHsgaWQsIGJpdG1hcCwgd2lkdGgsIGhlaWdodCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgZGF0YVVSTE9wdGlvbnMsIH0gPSBlLmRhdGE7DQogICAgICAgICAgICAgICAgY29uc3QgdHJhbnNwYXJlbnRCYXNlNjQgPSBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNjcmVlbiA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsIGhlaWdodCk7DQogICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gb2Zmc2NyZWVuLmdldENvbnRleHQoJzJkJyk7DQogICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDAsIHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGJpdG1hcC5jbG9zZSgpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSB5aWVsZCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7DQogICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsNCiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IHlpZWxkIGJsb2IuYXJyYXlCdWZmZXIoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOw0KICAgICAgICAgICAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiAoeWllbGQgdHJhbnNwYXJlbnRCYXNlNjQpID09PSBiYXNlNjQpIHsNCiAgICAgICAgICAgICAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsNCiAgICAgICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICBpZCwNCiAgICAgICAgICAgICAgICAgICAgdHlwZSwNCiAgICAgICAgICAgICAgICAgICAgYmFzZTY0LA0KICAgICAgICAgICAgICAgICAgICB3aWR0aCwNCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICBjYW52YXNXaWR0aCwNCiAgICAgICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0LA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZDogZS5kYXRhLmlkIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9OwoKfSkoKTsKCg==",null,!1);class Ts{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(l,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(c)};const{sampling:n="all",win:i,blockClass:r,blockSelector:o,recordCanvas:s,dataURLOptions:a}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,s&&n==="all"&&this.initCanvasMutationObserver(i,r,o),s&&typeof n=="number"&&this.initCanvasFPSObserver(n,i,r,o,{dataURLOptions:a},t.resizeQuality,t.resizeFactor,t.maxSnapshotDimension)}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(t,n,i,r,o,s,a,l){const c=Vi(n,i,r),u=new Map,d=new xs;d.onmessage=I=>{const{id:f}=I.data;if(u.set(f,!1),!("base64"in I.data))return;const{base64:g,type:X,canvasWidth:v,canvasHeight:G}=I.data;this.mutationCb({id:f,type:Ue["2D"],commands:[{property:"clearRect",args:[0,0,v,G]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:g}],type:X}]},0,0,v,G]}]})};const p=1e3/t;let m=0,h;const b=()=>{const I=[];return n.document.querySelectorAll("canvas").forEach(f=>{fe(f,i,r,!0)||I.push(f)}),I},Z=I=>{if(m&&I-m<p){h=requestAnimationFrame(Z);return}m=I,b().forEach(f=>gs(this,void 0,void 0,function*(){var g;const X=this.mirror.getId(f);if(u.get(X))return;if(u.set(X,!0),["webgl","webgl2"].includes(f.__context)){const Y=f.getContext(f.__context);((g=Y==null?void 0:Y.getContextAttributes())===null||g===void 0?void 0:g.preserveDrawingBuffer)===!1&&(Y==null||Y.clear(Y.COLOR_BUFFER_BIT))}if(f.width===0||f.height===0)return;let v=a||1;if(l){const Y=Math.max(f.width,f.height);v=Math.min(v,l/Y)}const G=f.width*v,w=f.height*v,S=yield createImageBitmap(f,{resizeQuality:s||"low",resizeWidth:G,resizeHeight:w});d.postMessage({id:X,bitmap:S,width:G,height:w,canvasWidth:f.width,canvasHeight:f.height,dataURLOptions:o.dataURLOptions},[S])})),h=requestAnimationFrame(Z)};h=requestAnimationFrame(Z),this.resetObservers=()=>{c(),cancelAnimationFrame(h)}}initCanvasMutationObserver(t,n,i){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const r=Vi(t,n,i),o=Vs(this.processMutation.bind(this),t,n,i),s=Gs(this.processMutation.bind(this),t,n,i,this.mirror);this.resetObservers=()=>{r(),o(),s()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const i=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,i)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const i=this.pendingCanvasMutations.get(t);if(!i||n===-1)return;const r=i.map(s=>ys(s,["type"])),{type:o}=i[0];this.mutationCb({id:n,type:o,commands:r}),this.pendingCanvasMutations.delete(t)}}class Ys{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new es,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const i={id:n,styleIds:[]},r=[];for(const o of t){let s;if(this.styleMirror.has(o))s=this.styleMirror.getId(o);else{s=this.styleMirror.add(o);const a=Array.from(o.rules||CSSRule);r.push({styleId:s,rules:a.map((l,c)=>({rule:Kn(l),index:c}))})}i.styleIds.push(s)}r.length>0&&(i.styles=r),this.adoptedStyleSheetCb(i)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}function pe(e){return Object.assign(Object.assign({},e),{timestamp:Date.now()})}let le,Nt,on,xt=!1;const Se=Co();function Ke(e={}){var t,n,i,r;const{emit:o,checkoutEveryNms:s,checkoutEveryNth:a,blockClass:l="highlight-block",blockSelector:c=null,ignoreClass:u="highlight-ignore",maskTextClass:d="highlight-mask",maskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:h,maskInputOptions:b,slimDOMOptions:Z,maskInputFn:I,maskTextFn:f=qt,hooks:g,packFn:X,sampling:v={},dataURLOptions:G={},mousemoveWait:w,recordCanvas:S=!1,userTriggeredOnInput:Y=!1,collectFonts:T=!1,inlineImages:J=!1,plugins:Q,keepIframeSrcFn:D=()=>!1,enableStrictPrivacy:y=!1,ignoreCSSAttributes:C=new Set([])}=e;if(!o)throw new Error("emit function is required");w!==void 0&&v.mousemove===void 0&&(v.mousemove=w),Se.reset();const K=h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:b!==void 0?b:{password:!0},O=Z===!0||Z==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:Z==="all",headMetaDescKeywords:Z==="all"}:Z||{};qo();let V,R=0;for(const F of Q||[])F.getMirror&&F.getMirror(Se);const k=F=>{for(const j of Q||[])j.eventProcessor&&(F=j.eventProcessor(F));return X&&(F=X(F)),F};le=(F,j)=>{var ee;if(((ee=Ee[0])===null||ee===void 0?void 0:ee.isFrozen())&&F.type!==ie.FullSnapshot&&!(F.type===ie.IncrementalSnapshot&&F.data.source===de.Mutation)&&Ee.forEach(M=>M.unfreeze()),o(k(F),j),F.type===ie.FullSnapshot)V=F,R=0;else if(F.type===ie.IncrementalSnapshot){if(F.data.source===de.Mutation&&F.data.isAttachIframe)return;R++;const M=a&&R>=a,ne=s&&F.timestamp-V.timestamp>s;(M||ne)&&Nt(!0)}};const N=F=>{le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.Mutation},F)}))},x=F=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.Scroll},F)})),L=F=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.CanvasMutation},F)})),A=F=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.AdoptedStyleSheet},F)})),z=new Ys({mutationCb:N,adoptedStyleSheetCb:A}),_=new bs({mutationCb:N,stylesheetManager:z});on=new Ts({recordCanvas:S,mutationCb:L,win:window,blockClass:l,blockSelector:c,mirror:Se,sampling:(t=v==null?void 0:v.canvas)===null||t===void 0?void 0:t.fps,dataURLOptions:G,resizeQuality:(n=v==null?void 0:v.canvas)===null||n===void 0?void 0:n.resizeQuality,resizeFactor:(i=v==null?void 0:v.canvas)===null||i===void 0?void 0:i.resizeFactor,maxSnapshotDimension:(r=v==null?void 0:v.canvas)===null||r===void 0?void 0:r.maxSnapshotDimension});const U=new fs({mutationCb:N,scrollCb:x,bypassOptions:{blockClass:l,blockSelector:c,maskTextClass:d,maskTextSelector:p,inlineStylesheet:m,maskInputOptions:K,dataURLOptions:G,maskTextFn:f,maskInputFn:I,recordCanvas:S,inlineImages:J,sampling:v,slimDOMOptions:O,iframeManager:_,stylesheetManager:z,canvasManager:on,keepIframeSrcFn:D,enableStrictPrivacy:y},mirror:Se});Nt=(F=!1)=>{var j,ee,M,ne,P,ue;le(pe({type:ie.Meta,data:{href:window.location.href,width:jn(),height:Dn()}}),F),z.reset(),Ee.forEach(ae=>ae.lock());const he=Qo(document,{mirror:Se,blockClass:l,blockSelector:c,maskTextClass:d,maskTextSelector:p,inlineStylesheet:m,maskAllInputs:K,maskTextFn:f,slimDOM:O,dataURLOptions:G,recordCanvas:S,inlineImages:J,enableStrictPrivacy:y,onSerialize:ae=>{$n(ae,Se)&&_.addIframe(ae),qn(ae,Se)&&z.trackLinkElement(ae),ei(ae)&&U.addShadowRoot(ae.shadowRoot,document)},onIframeLoad:(ae,Me)=>{_.attachIframe(ae,Me,Se),U.observeAttachShadow(ae)},onStylesheetLoad:(ae,Me)=>{z.attachLinkElement(ae,Me)},keepIframeSrcFn:D});if(!he)return console.warn("Failed to snapshot the document");le(pe({type:ie.FullSnapshot,data:{node:he,initialOffset:{left:window.pageXOffset!==void 0?window.pageXOffset:(document==null?void 0:document.documentElement.scrollLeft)||((ee=(j=document==null?void 0:document.body)===null||j===void 0?void 0:j.parentElement)===null||ee===void 0?void 0:ee.scrollLeft)||((M=document==null?void 0:document.body)===null||M===void 0?void 0:M.scrollLeft)||0,top:window.pageYOffset!==void 0?window.pageYOffset:(document==null?void 0:document.documentElement.scrollTop)||((P=(ne=document==null?void 0:document.body)===null||ne===void 0?void 0:ne.parentElement)===null||P===void 0?void 0:P.scrollTop)||((ue=document==null?void 0:document.body)===null||ue===void 0?void 0:ue.scrollTop)||0}}})),Ee.forEach(ae=>ae.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&z.adoptStyleSheets(document.adoptedStyleSheets,Se.getId(document))};try{const F=[];F.push(be("DOMContentLoaded",()=>{le(pe({type:ie.DomContentLoaded,data:{}}))}));const j=M=>{var ne;return ms({mutationCb:N,mousemoveCb:(P,ue)=>le(pe({type:ie.IncrementalSnapshot,data:{source:ue,positions:P}})),mouseInteractionCb:P=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.MouseInteraction},P)})),scrollCb:x,viewportResizeCb:P=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.ViewportResize},P)})),inputCb:P=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.Input},P)})),mediaInteractionCb:P=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.MediaInteraction},P)})),styleSheetRuleCb:P=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.StyleSheetRule},P)})),styleDeclarationCb:P=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.StyleDeclaration},P)})),canvasMutationCb:L,fontCb:P=>le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.Font},P)})),selectionCb:P=>{le(pe({type:ie.IncrementalSnapshot,data:Object.assign({source:de.Selection},P)}))},blockClass:l,ignoreClass:u,maskTextClass:d,maskTextSelector:p,maskInputOptions:K,inlineStylesheet:m,sampling:v,recordCanvas:S,inlineImages:J,userTriggeredOnInput:Y,collectFonts:T,doc:M,maskInputFn:I,maskTextFn:f,keepIframeSrcFn:D,blockSelector:c,slimDOMOptions:O,dataURLOptions:G,mirror:Se,iframeManager:_,stylesheetManager:z,shadowDomManager:U,canvasManager:on,ignoreCSSAttributes:C,enableStrictPrivacy:y,plugins:((ne=Q==null?void 0:Q.filter(P=>P.observer))===null||ne===void 0?void 0:ne.map(P=>({observer:P.observer,options:P.options,callback:ue=>le(pe({type:ie.Plugin,data:{plugin:P.name,payload:ue}}))})))||[]},g)};_.addLoadListener(M=>{F.push(j(M.contentDocument))});const ee=()=>{Nt(),F.push(j(document)),xt=!0};return document.readyState==="interactive"||document.readyState==="complete"?ee():F.push(be("load",()=>{le(pe({type:ie.Load,data:{}})),ee()},window)),()=>{F.forEach(M=>M()),xt=!1}}catch(F){console.warn(F)}}Ke.addCustomEvent=(e,t)=>{!xt||le(pe({type:ie.Custom,data:{tag:e,payload:t}}))},Ke.freezePage=()=>{Ee.forEach(e=>e.freeze())},Ke.takeFullSnapshot=e=>{if(!xt)throw new Error("please take full snapshot after start recording");Nt(e)},Ke.mirror=Se;const{addCustomEvent:Si}=Ke,Ri={key:"_sid"},Js="rrweb/sequential-id@1",Fs=e=>{const t=e?Object.assign({},Ri,e):Ri;let n=0;return{name:Js,eventProcessor(i){return Object.assign(i,{[t.key]:++n}),i},options:t}};function Us(e,t,n){try{if(!(t in e))return()=>{};const i=e[t],r=n(i);return typeof r=="function"&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:i}})),e[t]=r,()=>{e[t]=i}}catch(i){return()=>{}}}function Es(e){if(!e||!e.outerHTML)return"";let t="";for(;e.parentElement;){let n=e.localName;if(!n)break;n=n.toLowerCase();let i=e.parentElement,r=[];if(i.children&&i.children.length>0)for(let o=0;o<i.children.length;o++){let s=i.children[o];s.localName&&s.localName.toLowerCase&&s.localName.toLowerCase()===n&&r.push(s)}r.length>1&&(n+=":eq("+r.indexOf(e)+")"),t=n+(t?">"+t:""),e=i}return t}function sn(e){return Object.prototype.toString.call(e)==="[object Object]"}function Wi(e,t){if(t===0)return!0;const n=Object.keys(e);for(const i of n)if(sn(e[i])&&Wi(e[i],t-1))return!0;return!1}function Ci(e,t){const n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,t);const i=[],r=[];return JSON.stringify(e,function(a,l){if(i.length>0){const c=i.indexOf(this);~c?i.splice(c+1):i.push(this),~c?r.splice(c,1/0,a):r.push(a),~i.indexOf(l)&&(i[0]===l?l="[Circular ~]":l="[Circular ~."+r.slice(0,i.indexOf(l)).join(".")+"]")}else i.push(l);if(l==null)return l;if(o(l))return s(l);if(l instanceof Event){const c={};for(const u in l){const d=l[u];Array.isArray(d)?c[u]=Es(d.length?d[0]:null):c[u]=d}return c}else{if(l instanceof Node)return l instanceof HTMLElement?l?l.outerHTML:"":l.nodeName;if(l instanceof Error)return l.name+": "+l.message}return l});function o(a){return sn(a)&&Object.keys(a).length>n.numOfKeysLimit||typeof a=="function"?!0:a instanceof Event&&a.isTrusted===!1?Object.keys(a).length===1:!!(sn(a)&&Wi(a,n.depthOfLimit))}function s(a){let l=a.toString();return n.stringLengthLimit&&l.length>n.stringLengthLimit&&(l=`${l.slice(0,n.stringLengthLimit)}...`),l}}var $=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ki(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var an={exports:{}},ln={exports:{}},Li;function cn(){return Li||(Li=1,function(e,t){(function(n,i){e.exports=i()})($,function(){function n(b){return!isNaN(parseFloat(b))&&isFinite(b)}function i(b){return b.charAt(0).toUpperCase()+b.substring(1)}function r(b){return function(){return this[b]}}var o=["isConstructor","isEval","isNative","isToplevel"],s=["columnNumber","lineNumber"],a=["fileName","functionName","source"],l=["args"],c=["evalOrigin"],u=o.concat(s,a,l,c);function d(b){if(!!b)for(var Z=0;Z<u.length;Z++)b[u[Z]]!==void 0&&this["set"+i(u[Z])](b[u[Z]])}d.prototype={getArgs:function(){return this.args},setArgs:function(b){if(Object.prototype.toString.call(b)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=b},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(b){if(b instanceof d)this.evalOrigin=b;else if(b instanceof Object)this.evalOrigin=new d(b);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var b=this.getFileName()||"",Z=this.getLineNumber()||"",I=this.getColumnNumber()||"",f=this.getFunctionName()||"";return this.getIsEval()?b?"[eval] ("+b+":"+Z+":"+I+")":"[eval]:"+Z+":"+I:f?f+" ("+b+":"+Z+":"+I+")":b+":"+Z+":"+I}},d.fromString=function(Z){var I=Z.indexOf("("),f=Z.lastIndexOf(")"),g=Z.substring(0,I),X=Z.substring(I+1,f).split(","),v=Z.substring(f+1);if(v.indexOf("@")===0)var G=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(v,""),w=G[1],S=G[2],Y=G[3];return new d({functionName:g,args:X||void 0,fileName:w,lineNumber:S||void 0,columnNumber:Y||void 0})};for(var p=0;p<o.length;p++)d.prototype["get"+i(o[p])]=r(o[p]),d.prototype["set"+i(o[p])]=function(b){return function(Z){this[b]=Boolean(Z)}}(o[p]);for(var m=0;m<s.length;m++)d.prototype["get"+i(s[m])]=r(s[m]),d.prototype["set"+i(s[m])]=function(b){return function(Z){if(!n(Z))throw new TypeError(b+" must be a Number");this[b]=Number(Z)}}(s[m]);for(var h=0;h<a.length;h++)d.prototype["get"+i(a[h])]=r(a[h]),d.prototype["set"+i(a[h])]=function(b){return function(Z){this[b]=String(Z)}}(a[h]);return d})}(ln)),ln.exports}(function(e,t){(function(n,i){e.exports=i(cn())})($,function(i){var r=/(^|@)\S+:\d+/,o=/^\s*at .*(\S+:\d+|\(native\))/m,s=/^(eval@)?(\[native code])?$/;return{parse:function(l){if(typeof l.stacktrace!="undefined"||typeof l["opera#sourceloc"]!="undefined")return this.parseOpera(l);if(l.stack&&l.stack.match(o))return this.parseV8OrIE(l);if(l.stack)return this.parseFFOrSafari(l);throw new Error("Cannot parse given Error object")},extractLocation:function(l){if(l.indexOf(":")===-1)return[l];var c=/(.+?)(?::(\d+))?(?::(\d+))?$/,u=c.exec(l.replace(/[()]/g,""));return[u[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(l){var c=l.stack.split(`
`).filter(function(u){return!!u.match(o)},this);return c.map(function(u){u.indexOf("(eval ")>-1&&(u=u.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var d=u.replace(/^\s+/,"").replace(/\(eval code/g,"("),p=d.match(/ (\((.+):(\d+):(\d+)\)$)/);d=p?d.replace(p[0],""):d;var m=d.split(/\s+/).slice(1),h=this.extractLocation(p?p[1]:m.pop()),b=m.join(" ")||void 0,Z=["eval","<anonymous>"].indexOf(h[0])>-1?void 0:h[0];return new i({functionName:b,fileName:Z,lineNumber:h[1],columnNumber:h[2],source:u})},this)},parseFFOrSafari:function(l){var c=l.stack.split(`
`).filter(function(u){return!u.match(s)},this);return c.map(function(u){if(u.indexOf(" > eval")>-1&&(u=u.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),u.indexOf("@")===-1&&u.indexOf(":")===-1)return new i({functionName:u});var d=/((.*".+"[^@]*)?[^@]*)(?:@)/,p=u.match(d),m=p&&p[1]?p[1]:void 0,h=this.extractLocation(u.replace(d,""));return new i({functionName:m,fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:u})},this)},parseOpera:function(l){return!l.stacktrace||l.message.indexOf(`
`)>-1&&l.message.split(`
`).length>l.stacktrace.split(`
`).length?this.parseOpera9(l):l.stack?this.parseOpera11(l):this.parseOpera10(l)},parseOpera9:function(l){for(var c=/Line (\d+).*script (?:in )?(\S+)/i,u=l.message.split(`
`),d=[],p=2,m=u.length;p<m;p+=2){var h=c.exec(u[p]);h&&d.push(new i({fileName:h[2],lineNumber:h[1],source:u[p]}))}return d},parseOpera10:function(l){for(var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,u=l.stacktrace.split(`
`),d=[],p=0,m=u.length;p<m;p+=2){var h=c.exec(u[p]);h&&d.push(new i({functionName:h[3]||void 0,fileName:h[2],lineNumber:h[1],source:u[p]}))}return d},parseOpera11:function(l){var c=l.stack.split(`
`).filter(function(u){return!!u.match(r)&&!u.match(/^Error created at/)},this);return c.map(function(u){var d=u.split("@"),p=this.extractLocation(d.pop()),m=d.shift()||"",h=m.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,b;m.match(/\(([^)]*)\)/)&&(b=m.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var Z=b===void 0||b==="[arguments not available]"?void 0:b.split(",");return new i({functionName:h,args:Z,fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:u})},this)}}})})(an);var Tt=an.exports;function Ks(e,t){const n=t.logger;if(!n)return()=>{};let i;typeof n=="string"?i=window[n]:i=n;const r=[];if(t.level.includes("error")&&window){const s=a=>{const{message:l,error:c}=a;let u=[];c&&(u=Tt.parse(c));const d=[Ci(l,t.stringifyOptions)];e({type:"Error",trace:u.slice(1),time:Date.now(),value:d})};window.addEventListener("error",s),r.push(()=>{window&&window.removeEventListener("error",s)})}for(const s of t.level)r.push(o(i,s));return()=>{r.forEach(s=>s())};function o(s,a){return s[a]?Us(s,a,l=>(...c)=>{l.apply(this,c);try{const u=Tt.parse(new Error),d=c.map(p=>Ci(p,t.stringifyOptions));e({type:a,trace:u.slice(1),value:d,time:Date.now()})}catch(u){l("highlight logger error:",u,...c)}}):()=>{}}}var un={exports:{}};(function(e,t){t=e.exports=n,t.getSerialize=i;function n(r,o,s,a){return JSON.stringify(r,i(o,a),s)}function i(r,o){var s=[],a=[];return o==null&&(o=function(l,c){return s[0]===c?"[Circular ~]":"[Circular ~."+a.slice(0,s.indexOf(c)).join(".")+"]"}),function(l,c){if(s.length>0){var u=s.indexOf(this);~u?s.splice(u+1):s.push(this),~u?a.splice(u,1/0,l):a.push(l),~s.indexOf(c)&&(c=o.call(this,l,c))}else s.push(c);return r==null?c:r.call(this,l,c)}}})(un,un.exports);var ct=un.exports;const Hs=e=>{const t=window.onerror;return window.onerror=(n,i,r,o,s)=>{var a,l,c,u;if(s){let d=[];try{d=Tt.parse(s)}catch(m){}const p=Os(d);e({event:ct(n),type:"window.onerror",url:window.location.href,source:i||"",lineNumber:(a=p[0])!=null&&a.lineNumber?(l=p[0])==null?void 0:l.lineNumber:0,columnNumber:(c=p[0])!=null&&c.columnNumber?(u=p[0])==null?void 0:u.columnNumber:0,stackTrace:p,timestamp:new Date().toISOString()})}},()=>{window.onerror=t}},Os=e=>{var t;if(e.length===0)return e;const n=e[0];return n.functionName==="console.error"&&((t=n.fileName)==null?void 0:t.includes("highlight.run"))?e.slice(1):e},zs=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var ut=(e=>(e.DeviceMemory="DeviceMemory",e.ViewportHeight="ViewportHeight",e.ViewportWidth="ViewportWidth",e.ViewportArea="ViewportArea",e))(ut||{}),we=(e=>(e.Device="Device",e.WebVital="WebVital",e.Frontend="Frontend",e.Backend="Backend",e))(we||{});const Ps=['["\\"Script error.\\""]','[{"isTrusted":true}]','["{}"]','[""]','["\\"\\""]'],Ms=["websocket error",'\\"ResizeObserver loop'];var Bs=Object.defineProperty,As=Object.defineProperties,Ds=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,js=Object.prototype.hasOwnProperty,Qs=Object.prototype.propertyIsEnumerable,Ni=(e,t,n)=>t in e?Bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dn=(e,t)=>{for(var n in t||(t={}))js.call(t,n)&&Ni(e,n,t[n]);if(wi)for(var n of wi(t))Qs.call(t,n)&&Ni(e,n,t[n]);return e},xi=(e,t)=>As(e,Ds(t));const _s=(e,t,n)=>{const i=Ti(t,e.headers,n);return xi(dn({},e),{headers:i})},$s=(e,t,n)=>{const i=Ti(t,e.headers,n);return xi(dn({},e),{headers:i})},Ti=(e,t,n)=>{var i,r;const o=dn({},t);return n?((i=Object.keys(o))==null||i.forEach(s=>{[...n].includes(s==null?void 0:s.toLowerCase())||(o[s]="[REDACTED]")}),o):((r=Object.keys(o))==null||r.forEach(s=>{[...qs,...e].includes(s==null?void 0:s.toLowerCase())&&(o[s]="[REDACTED]")}),o)},qs=["authorization","cookie","proxy-authorization","token"],ea=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"];var Yi=void 0;const Ji="X-Highlight-Request",Fi=e=>{let t=e;return!e.startsWith("https://")&&!e.startsWith("http://")&&(t=`${window.location.origin}${t}`),t.replace(/\/+$/,"")},Ui=(e,t,n)=>{e.sort((a,l)=>a.responseEnd-l.responseEnd);const i={xmlhttprequest:{},others:{},fetch:{}},r=e.reduce((a,l)=>{const c=Fi(l.name);return l.initiatorType===n?a[n][c]=[...a[n][c]||[],l]:a.others[c]=[...a.others[c]||[],l],a},i);let o={};o=t.reduce((a,l)=>{const c=Fi(l.request.url);return a[c]=[...a[c]||[],l],a},o);for(let a in r[n]){const l=r[n][a],c=o[a];if(!c)continue;const u=Math.max(l.length-c.length,0);for(let d=u;d<l.length;d++)l[d]&&(l[d].requestResponsePair=c[d-u])}let s=[];for(let a in r)for(let l in r[a])s=s.concat(r[a][l]);return s.sort((a,l)=>a.fetchStart-l.fetchStart).map(a=>(a.toJSON=function(){return{initiatorType:this.initiatorType,startTime:this.startTime,responseEnd:this.responseEnd,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,requestResponsePairs:this.requestResponsePair}},a))},ta=(e,t)=>{var n;return e.toLocaleLowerCase().includes((n=Yi)!=null?n:"highlight.run")||e.toLocaleLowerCase().includes("highlight.run")||e.toLocaleLowerCase().includes(t)},pn=(e,t,n)=>!ta(e,t)||hn(e,n),hn=(e,t)=>{var n;let i=[];t===!0?(i=["localhost",/^\//],(n=window==null?void 0:window.location)!=null&&n.host&&i.push(window.location.host)):t instanceof Array&&(i=t);let r=!1;return i.forEach(o=>{e.match(o)&&(r=!0)}),r};function na(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}const Ei=()=>na(10),Ki=(e,t)=>e+"/"+t;var Hi=(e,t,n)=>new Promise((i,r)=>{var o=l=>{try{a(n.next(l))}catch(c){r(c)}},s=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});const ia=(e,t,n,i,r,o)=>{const s=XMLHttpRequest.prototype,a=s.open,l=s.send,c=s.setRequestHeader;return s.open=function(u,d){return this._method=u,this._url=d,this._requestHeaders={},this._shouldRecordHeaderAndBody=!i.some(p=>d.toLowerCase().includes(p)),a.apply(this,arguments)},s.setRequestHeader=function(u,d){return this._requestHeaders[u]=d,c.apply(this,arguments)},s.send=function(u){if(!pn(this._url,t,n))return l.apply(this,arguments);const d=Ei();hn(this._url,n)&&this.setRequestHeader(Ji,Ki(r,d));const p=this._shouldRecordHeaderAndBody,m={id:d,url:this._url,verb:this._method,headers:p?this._requestHeaders:{},body:void 0};if(p&&u){const h=Oi(u,m.url);h&&(m.body=He(h,o))}return this.addEventListener("load",function(){return Hi(this,null,function*(){const h={status:this.status,headers:{},body:void 0};if(p){if(u){const I=Oi(u,m.url);I&&(m.body=He(I,o))}const b=this.getAllResponseHeaders().trim().split(/[\r\n]+/),Z={};if(b.forEach(function(I){const f=I.split(": "),g=f.shift();Z[g]=f.join(": ")}),h.headers=Z,this.responseType===""||this.responseType==="text")h.body=He(this.responseText,o),h.size=this.responseText.length*8;else if(this.responseType==="blob"){const I=this.response,f=yield I.text();h.body=He(f,o),h.size=I.size}else try{h.body=He(this.response,o)}catch(I){}}e({request:m,response:h,urlBlocked:!p})})}),this.addEventListener("error",function(){return Hi(this,null,function*(){const h={status:this.status,headers:void 0,body:void 0};e({request:m,response:h,urlBlocked:!1})})}),l.apply(this,arguments)},()=>{s.open=a,s.send=l,s.setRequestHeader=c}},Oi=(e,t)=>{if(typeof e=="string"){if(!(((t==null?void 0:t.includes("localhost"))||(t==null?void 0:t.includes("highlight.run")))&&e.includes("pushPayload")))return e}else if(typeof e=="object"||typeof e=="number"||typeof e=="boolean")return e.toString();return null},He=(e,t)=>{if(!t||!e)return e;try{const n=JSON.parse(e);return Object.keys(n).forEach(i=>{t.includes(i.toLocaleLowerCase())||(n[i]="[REDACTED]")}),JSON.stringify(n)}catch(n){}return e};var ra=Object.defineProperty,oa=Object.defineProperties,sa=Object.getOwnPropertyDescriptors,zi=Object.getOwnPropertySymbols,aa=Object.prototype.hasOwnProperty,la=Object.prototype.propertyIsEnumerable,Pi=(e,t,n)=>t in e?ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mi=(e,t)=>{for(var n in t||(t={}))aa.call(t,n)&&Pi(e,n,t[n]);if(zi)for(var n of zi(t))la.call(t,n)&&Pi(e,n,t[n]);return e},Bi=(e,t)=>oa(e,sa(t)),ca=(e,t,n)=>new Promise((i,r)=>{var o=l=>{try{a(n.next(l))}catch(c){r(c)}},s=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});const ua=(e,t,n,i,r,o)=>{const s=window._fetchProxy;return window._fetchProxy=function(a,l){const{method:c,url:u}=da(a,l);if(!pn(u,t,n))return s.call(this,a,l);const d=Ei();if(hn(u,n)){l=l||{};let b=new Headers(l.headers);b.set(Ji,Ki(r,d)),l.headers=Object.fromEntries(b.entries())}const p={id:d,headers:{},body:void 0,url:u,verb:c},m=!i.some(b=>u.toLowerCase().includes(b));m&&(p.headers=Object.fromEntries(new Headers(l==null?void 0:l.headers).entries()),p.body=He(l==null?void 0:l.body,o));let h=s.call(this,a,l);return pa(h,p,e,m,o),h},()=>{window._fetchProxy=s}},da=(e,t)=>{const n=t&&t.method||typeof e=="object"&&"method"in e&&e.method||"GET";let i;return typeof e=="object"?"url"in e&&e.url?i=e.url:i=e.toString():i=e,{method:n,url:i}},pa=(e,t,n,i,r)=>{const o=s=>ca(void 0,null,function*(){let a={body:void 0,headers:void 0,status:0,size:0},l=!1;if("stack"in s||s instanceof Error)a=Bi(Mi({},a),{body:s.message,status:0,size:void 0}),l=!0;else if("status"in s){if(a=Bi(Mi({},a),{status:s.status}),i){let c;try{const u=s.clone().body;if(u){let d=u.getReader(),p=new TextDecoder,m,h="";for(;!(m=yield d.read()).done;){let b=m.value;h+=p.decode(b)}c=h,c=He(c,r)}else c=""}catch(u){c=`Unable to clone response: ${u}`}a.body=c,a.headers=Object.fromEntries(s.headers.entries()),a.size=c.length*8}l=!0}l&&n({request:t,response:a,urlBlocked:!i})});e.then(o).catch(()=>{})};var ha=Object.defineProperty,Yt=Object.getOwnPropertySymbols,Ai=Object.prototype.hasOwnProperty,Di=Object.prototype.propertyIsEnumerable,ji=(e,t,n)=>t in e?ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ma=(e,t)=>{for(var n in t||(t={}))Ai.call(t,n)&&ji(e,n,t[n]);if(Yt)for(var n of Yt(t))Di.call(t,n)&&ji(e,n,t[n]);return e},ba=(e,t)=>{var n={};for(var i in e)Ai.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Yt)for(var i of Yt(e))t.indexOf(i)<0&&Di.call(e,i)&&(n[i]=e[i]);return n};const fa=({xhrCallback:e,fetchCallback:t,headersToRedact:n,backendUrl:i,tracingOrigins:r,urlBlocklist:o,sessionSecureID:s,bodyKeysToRecord:a,headerKeysToRecord:l})=>{const c=ia(d=>{e(Qi(d,n,l))},i,r,o,s,a),u=ua(d=>{t(Qi(d,n,l))},i,r,o,s,a);return()=>{c(),u()}},Qi=(e,t,n)=>{var i=e,{request:r,response:o}=i,s=ba(i,["request","response"]);return ma({request:_s(r,t,n),response:$s(o,t,n)},s)};var ya=Object.defineProperty,ga=Object.defineProperties,Za=Object.getOwnPropertyDescriptors,_i=Object.getOwnPropertySymbols,Ia=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,$i=(e,t,n)=>t in e?ya(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Va=(e,t)=>{for(var n in t||(t={}))Ia.call(t,n)&&$i(e,n,t[n]);if(_i)for(var n of _i(t))va.call(t,n)&&$i(e,n,t[n]);return e},Ga=(e,t)=>ga(e,Za(t));class Je{constructor(t){this.hasNetworkRecording=!0,this.options=t,this.disableConsoleRecording=window.location.hostname==="localhost"||!!t.disableConsoleRecording,this.consoleMethodsToRecord=t.consoleMethodsToRecord||[...zs],this.listeners=[],this.errors=[],this.messages=[]}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const t=this;this.disableConsoleRecording||this.listeners.push(Ks(n=>{var i,r,o;if((n.type==="Error"||n.type==="error")&&n.value&&n.trace){const s=ct(n.value);if(Ps.includes(s)||Ms.some(a=>s.includes(a)))return;t.errors.push({event:s,type:"console.error",url:window.location.href,source:(i=n.trace[0])!=null&&i.fileName?n.trace[0].fileName:"",lineNumber:(r=n.trace[0])!=null&&r.lineNumber?n.trace[0].lineNumber:0,columnNumber:(o=n.trace[0])!=null&&o.columnNumber?n.trace[0].columnNumber:0,stackTrace:n.trace,timestamp:new Date().toISOString()})}else t.messages.push(n)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(Hs(n=>t.errors.push(n))),Je.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(t=>t()),this.listeners=[]}static setupNetworkListener(t,n){var i,r,o,s,a,l,c,u;t._backendUrl=(n==null?void 0:n.backendUrl)||Yi||"https://pub.highlight.run",t.xhrNetworkContents=[],t.fetchNetworkContents=[],t.networkHeadersToRedact=[],t.urlBlocklist=[],t.tracingOrigins=n.tracingOrigins||[],(n==null?void 0:n.disableNetworkRecording)!==void 0?(t.disableNetworkRecording=n==null?void 0:n.disableNetworkRecording,t.enableRecordingNetworkContents=!1,t.networkHeadersToRedact=[],t.urlBlocklist=[],t.networkBodyKeysToRecord=[],t.networkBodyKeysToRecord=[]):typeof(n==null?void 0:n.networkRecording)=="boolean"?(t.disableNetworkRecording=!n.networkRecording,t.enableRecordingNetworkContents=!1,t.networkHeadersToRedact=[],t.urlBlocklist=[]):(((i=n.networkRecording)==null?void 0:i.enabled)!==void 0?t.disableNetworkRecording=!n.networkRecording.enabled:t.disableNetworkRecording=!1,t.enableRecordingNetworkContents=((r=n.networkRecording)==null?void 0:r.recordHeadersAndBody)||!1,t.networkHeadersToRedact=((s=(o=n.networkRecording)==null?void 0:o.networkHeadersToRedact)==null?void 0:s.map(d=>d.toLowerCase()))||[],t.urlBlocklist=((l=(a=n.networkRecording)==null?void 0:a.urlBlocklist)==null?void 0:l.map(d=>d.toLowerCase()))||[],t.urlBlocklist=[...t.urlBlocklist,...ea],t.networkHeaderKeysToRecord=(c=n.networkRecording)==null?void 0:c.headerKeysToRecord,t.networkHeaderKeysToRecord&&(t.networkHeadersToRedact=[],t.networkHeaderKeysToRecord=t.networkHeaderKeysToRecord.map(d=>d.toLocaleLowerCase())),t.networkBodyKeysToRecord=(u=n.networkRecording)==null?void 0:u.bodyKeysToRecord,t.networkBodyKeysToRecord&&(t.networkBodyKeysToRecord=t.networkBodyKeysToRecord.map(d=>d.toLocaleLowerCase()))),!t.disableNetworkRecording&&t.enableRecordingNetworkContents&&t.listeners.push(fa({xhrCallback:d=>{t.xhrNetworkContents.push(d)},fetchCallback:d=>{t.fetchNetworkContents.push(d)},headersToRedact:t.networkHeadersToRedact,backendUrl:t._backendUrl,tracingOrigins:t.tracingOrigins,urlBlocklist:t.urlBlocklist,sessionSecureID:n.sessionSecureID,headerKeysToRecord:t.networkHeaderKeysToRecord,bodyKeysToRecord:t.networkBodyKeysToRecord}))}static getRecordedNetworkResources(t,n){var i;let r=[];if(!t.disableNetworkRecording){const o=((i=window==null?void 0:window.performance)==null?void 0:i.timeOrigin)||0;r=performance.getEntriesByType("resource");const s=(n-o)*2;r=r.filter(a=>pn(a.name,t._backendUrl,t.tracingOrigins)).map(a=>Ga(Va({},a.toJSON()),{offsetStartTime:a.startTime-s,offsetResponseEnd:a.responseEnd-s,offsetFetchStart:a.fetchStart-s})),t.enableRecordingNetworkContents&&(r=Ui(r,t.xhrNetworkContents,"xmlhttprequest"),r=Ui(r,t.fetchNetworkContents,"fetch"))}return r}static clearRecordedNetworkResources(t){t.disableNetworkRecording||(t.xhrNetworkContents=[],t.fetchNetworkContents=[],performance.clearResourceTimings())}}const Xa=e=>{e(window.location.href);const t=history.pushState;history.pushState=(o=>function(){var s=o.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),s})(history.pushState);const n=history.replaceState;history.replaceState=(o=>function(){var s=o.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),s})(history.replaceState);const i=()=>{window.dispatchEvent(new Event("locationchange"))};window.addEventListener("popstate",i);const r=function(){e(window.location.href)};return window.addEventListener("locationchange",r),()=>{window.removeEventListener("popstate",i),window.removeEventListener("locationchange",r),history.pushState=t,history.replaceState=n}};var mn={},Jt={exports:{}},qi;function Sa(){return qi||(qi=1,function(e,t){var n=typeof self!="undefined"?self:$,i=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch(y){return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(y){return y&&DataView.prototype.isPrototypeOf(y)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(y){return y&&c.indexOf(Object.prototype.toString.call(y))>-1};function d(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(y))throw new TypeError("Invalid character in header field name");return y.toLowerCase()}function p(y){return typeof y!="string"&&(y=String(y)),y}function m(y){var C={next:function(){var K=y.shift();return{done:K===void 0,value:K}}};return a.iterable&&(C[Symbol.iterator]=function(){return C}),C}function h(y){this.map={},y instanceof h?y.forEach(function(C,K){this.append(K,C)},this):Array.isArray(y)?y.forEach(function(C){this.append(C[0],C[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(C){this.append(C,y[C])},this)}h.prototype.append=function(y,C){y=d(y),C=p(C);var K=this.map[y];this.map[y]=K?K+", "+C:C},h.prototype.delete=function(y){delete this.map[d(y)]},h.prototype.get=function(y){return y=d(y),this.has(y)?this.map[y]:null},h.prototype.has=function(y){return this.map.hasOwnProperty(d(y))},h.prototype.set=function(y,C){this.map[d(y)]=p(C)},h.prototype.forEach=function(y,C){for(var K in this.map)this.map.hasOwnProperty(K)&&y.call(C,this.map[K],K,this)},h.prototype.keys=function(){var y=[];return this.forEach(function(C,K){y.push(K)}),m(y)},h.prototype.values=function(){var y=[];return this.forEach(function(C){y.push(C)}),m(y)},h.prototype.entries=function(){var y=[];return this.forEach(function(C,K){y.push([K,C])}),m(y)},a.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);function b(y){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}function Z(y){return new Promise(function(C,K){y.onload=function(){C(y.result)},y.onerror=function(){K(y.error)}})}function I(y){var C=new FileReader,K=Z(C);return C.readAsArrayBuffer(y),K}function f(y){var C=new FileReader,K=Z(C);return C.readAsText(y),K}function g(y){for(var C=new Uint8Array(y),K=new Array(C.length),O=0;O<C.length;O++)K[O]=String.fromCharCode(C[O]);return K.join("")}function X(y){if(y.slice)return y.slice(0);var C=new Uint8Array(y.byteLength);return C.set(new Uint8Array(y)),C.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(y){this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:a.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:a.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():a.arrayBuffer&&a.blob&&l(y)?(this._bodyArrayBuffer=X(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||u(y))?this._bodyArrayBuffer=X(y):this._bodyText=y=Object.prototype.toString.call(y):this._bodyText="",this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var y=b(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(I)}),this.text=function(){var y=b(this);if(y)return y;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(Y)}),this.json=function(){return this.text().then(JSON.parse)},this}var G=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(y){var C=y.toUpperCase();return G.indexOf(C)>-1?C:y}function S(y,C){C=C||{};var K=C.body;if(y instanceof S){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,C.headers||(this.headers=new h(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!K&&y._bodyInit!=null&&(K=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new h(C.headers)),this.method=w(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&K)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(K)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function Y(y){var C=new FormData;return y.trim().split("&").forEach(function(K){if(K){var O=K.split("="),V=O.shift().replace(/\+/g," "),R=O.join("=").replace(/\+/g," ");C.append(decodeURIComponent(V),decodeURIComponent(R))}}),C}function T(y){var C=new h,K=y.replace(/\r?\n[\t ]+/g," ");return K.split(/\r?\n/).forEach(function(O){var V=O.split(":"),R=V.shift().trim();if(R){var k=V.join(":").trim();C.append(R,k)}}),C}v.call(S.prototype);function J(y,C){C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in C?C.statusText:"OK",this.headers=new h(C.headers),this.url=C.url||"",this._initBody(y)}v.call(J.prototype),J.prototype.clone=function(){return new J(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},J.error=function(){var y=new J(null,{status:0,statusText:""});return y.type="error",y};var Q=[301,302,303,307,308];J.redirect=function(y,C){if(Q.indexOf(C)===-1)throw new RangeError("Invalid status code");return new J(null,{status:C,headers:{location:y}})},s.DOMException=o.DOMException;try{new s.DOMException}catch(y){s.DOMException=function(C,K){this.message=C,this.name=K;var O=Error(C);this.stack=O.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function D(y,C){return new Promise(function(K,O){var V=new S(y,C);if(V.signal&&V.signal.aborted)return O(new s.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function k(){R.abort()}R.onload=function(){var N={status:R.status,statusText:R.statusText,headers:T(R.getAllResponseHeaders()||"")};N.url="responseURL"in R?R.responseURL:N.headers.get("X-Request-URL");var x="response"in R?R.response:R.responseText;K(new J(x,N))},R.onerror=function(){O(new TypeError("Network request failed"))},R.ontimeout=function(){O(new TypeError("Network request failed"))},R.onabort=function(){O(new s.DOMException("Aborted","AbortError"))},R.open(V.method,V.url,!0),V.credentials==="include"?R.withCredentials=!0:V.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&a.blob&&(R.responseType="blob"),V.headers.forEach(function(N,x){R.setRequestHeader(x,N)}),V.signal&&(V.signal.addEventListener("abort",k),R.onreadystatechange=function(){R.readyState===4&&V.signal.removeEventListener("abort",k)}),R.send(typeof V._bodyInit=="undefined"?null:V._bodyInit)})}return D.polyfill=!0,o.fetch||(o.fetch=D,o.Headers=h,o.Request=S,o.Response=J),s.Headers=h,s.Request=S,s.Response=J,s.fetch=D,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var r=i;t=r.fetch,t.default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t}(Jt,Jt.exports)),Jt.exports}function Ra(e){return typeof e=="object"&&e!==null}function Wa(e,t){if(!Boolean(e))throw new Error(t!=null?t:"Unexpected invariant triggered.")}const Ca=/\r\n|[\n\r]/g;function bn(e,t){let n=0,i=1;for(const r of e.body.matchAll(Ca)){if(typeof r.index=="number"||Wa(!1),r.index>=t)break;n=r.index+r[0].length,i+=1}return{line:i,column:t+1-n}}function ka(e){return er(e.source,bn(e.source,e.start))}function er(e,t){const n=e.locationOffset.column-1,i="".padStart(n)+e.body,r=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=t.line===1?n:0,l=t.column+a,c=`${e.name}:${s}:${l}
`,u=i.split(/\r\n|[\n\r]/g),d=u[r];if(d.length>120){const p=Math.floor(l/80),m=l%80,h=[];for(let b=0;b<d.length;b+=80)h.push(d.slice(b,b+80));return c+tr([[`${s} |`,h[0]],...h.slice(1,p+1).map(b=>["|",b]),["|","^".padStart(m)],["|",h[p+1]]])}return c+tr([[`${s-1} |`,u[r-1]],[`${s} |`,d],["|","^".padStart(l)],[`${s+1} |`,u[r+1]]])}function tr(e){const t=e.filter(([i,r])=>r!==void 0),n=Math.max(...t.map(([i])=>i.length));return t.map(([i,r])=>i.padStart(n)+(r?" "+r:"")).join(`
`)}function La(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class fn extends Error{constructor(t,...n){var i,r,o;const{nodes:s,source:a,positions:l,path:c,originalError:u,extensions:d}=La(n);super(t),this.name="GraphQLError",this.path=c!=null?c:void 0,this.originalError=u!=null?u:void 0,this.nodes=nr(Array.isArray(s)?s:s?[s]:void 0);const p=nr((i=this.nodes)===null||i===void 0?void 0:i.map(h=>h.loc).filter(h=>h!=null));this.source=a!=null?a:p==null||(r=p[0])===null||r===void 0?void 0:r.source,this.positions=l!=null?l:p==null?void 0:p.map(h=>h.start),this.locations=l&&a?l.map(h=>bn(a,h)):p==null?void 0:p.map(h=>bn(h.source,h.start));const m=Ra(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(o=d!=null?d:m)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,fn):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+ka(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+er(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function nr(e){return e===void 0||e.length===0?void 0:e}function me(e,t,n){return new fn(`Syntax Error: ${n}`,{source:e,positions:[t]})}class wa{constructor(t,n,i){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class ir{constructor(t,n,i,r,o,s){this.kind=t,this.start=n,this.end=i,this.line=r,this.column=o,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const rr={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Na=new Set(Object.keys(rr));function or(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&Na.has(t)}let _e;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(_e||(_e={}));let yn;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(yn||(yn={}));let H;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(H||(H={}));function gn(e){return e===9||e===32}function dt(e){return e>=48&&e<=57}function sr(e){return e>=97&&e<=122||e>=65&&e<=90}function ar(e){return sr(e)||e===95}function xa(e){return sr(e)||dt(e)||e===95}function Ta(e){var t;let n=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let s=0;s<e.length;++s){var o;const a=e[s],l=Ya(a);l!==a.length&&(i=(o=i)!==null&&o!==void 0?o:s,r=s,s!==0&&l<n&&(n=l))}return e.map((s,a)=>a===0?s:s.slice(n)).slice((t=i)!==null&&t!==void 0?t:0,r+1)}function Ya(e){let t=0;for(;t<e.length&&gn(e.charCodeAt(t));)++t;return t}function Ja(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),r=i.length===1,o=i.length>1&&i.slice(1).every(m=>m.length===0||gn(m.charCodeAt(0))),s=n.endsWith('\\"""'),a=e.endsWith('"')&&!s,l=e.endsWith("\\"),c=a||l,u=!(t!=null&&t.minimize)&&(!r||e.length>70||c||o||s);let d="";const p=r&&gn(e.charCodeAt(0));return(u&&!p||o)&&(d+=`
`),d+=n,(u||c)&&(d+=`
`),'"""'+d+'"""'}let W;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(W||(W={}));class Fa{constructor(t){const n=new ir(W.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==W.EOF)do if(t.next)t=t.next;else{const n=Ea(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===W.COMMENT);return t}}function Ua(e){return e===W.BANG||e===W.DOLLAR||e===W.AMP||e===W.PAREN_L||e===W.PAREN_R||e===W.SPREAD||e===W.COLON||e===W.EQUALS||e===W.AT||e===W.BRACKET_L||e===W.BRACKET_R||e===W.BRACE_L||e===W.PIPE||e===W.BRACE_R}function $e(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Ft(e,t){return lr(e.charCodeAt(t))&&cr(e.charCodeAt(t+1))}function lr(e){return e>=55296&&e<=56319}function cr(e){return e>=56320&&e<=57343}function Oe(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return W.EOF;if(n>=32&&n<=126){const i=String.fromCodePoint(n);return i==='"'?`'"'`:`"${i}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function ce(e,t,n,i,r){const o=e.line,s=1+n-e.lineStart;return new ir(t,n,i,o,s,r)}function Ea(e,t){const n=e.source.body,i=n.length;let r=t;for(;r<i;){const o=n.charCodeAt(r);switch(o){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:n.charCodeAt(r+1)===10?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return Ka(e,r);case 33:return ce(e,W.BANG,r,r+1);case 36:return ce(e,W.DOLLAR,r,r+1);case 38:return ce(e,W.AMP,r,r+1);case 40:return ce(e,W.PAREN_L,r,r+1);case 41:return ce(e,W.PAREN_R,r,r+1);case 46:if(n.charCodeAt(r+1)===46&&n.charCodeAt(r+2)===46)return ce(e,W.SPREAD,r,r+3);break;case 58:return ce(e,W.COLON,r,r+1);case 61:return ce(e,W.EQUALS,r,r+1);case 64:return ce(e,W.AT,r,r+1);case 91:return ce(e,W.BRACKET_L,r,r+1);case 93:return ce(e,W.BRACKET_R,r,r+1);case 123:return ce(e,W.BRACE_L,r,r+1);case 124:return ce(e,W.PIPE,r,r+1);case 125:return ce(e,W.BRACE_R,r,r+1);case 34:return n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34?Ba(e,r):Oa(e,r)}if(dt(o)||o===45)return Ha(e,r,o);if(ar(o))return Aa(e,r);throw me(e.source,r,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:$e(o)||Ft(n,r)?`Unexpected character: ${Oe(e,r)}.`:`Invalid character: ${Oe(e,r)}.`)}return ce(e,W.EOF,i,i)}function Ka(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const o=n.charCodeAt(r);if(o===10||o===13)break;if($e(o))++r;else if(Ft(n,r))r+=2;else break}return ce(e,W.COMMENT,t,r,n.slice(t+1,r))}function Ha(e,t,n){const i=e.source.body;let r=t,o=n,s=!1;if(o===45&&(o=i.charCodeAt(++r)),o===48){if(o=i.charCodeAt(++r),dt(o))throw me(e.source,r,`Invalid number, unexpected digit after 0: ${Oe(e,r)}.`)}else r=Zn(e,r,o),o=i.charCodeAt(r);if(o===46&&(s=!0,o=i.charCodeAt(++r),r=Zn(e,r,o),o=i.charCodeAt(r)),(o===69||o===101)&&(s=!0,o=i.charCodeAt(++r),(o===43||o===45)&&(o=i.charCodeAt(++r)),r=Zn(e,r,o),o=i.charCodeAt(r)),o===46||ar(o))throw me(e.source,r,`Invalid number, expected digit but got: ${Oe(e,r)}.`);return ce(e,s?W.FLOAT:W.INT,t,r,i.slice(t,r))}function Zn(e,t,n){if(!dt(n))throw me(e.source,t,`Invalid number, expected digit but got: ${Oe(e,t)}.`);const i=e.source.body;let r=t+1;for(;dt(i.charCodeAt(r));)++r;return r}function Oa(e,t){const n=e.source.body,i=n.length;let r=t+1,o=r,s="";for(;r<i;){const a=n.charCodeAt(r);if(a===34)return s+=n.slice(o,r),ce(e,W.STRING,t,r+1,s);if(a===92){s+=n.slice(o,r);const l=n.charCodeAt(r+1)===117?n.charCodeAt(r+2)===123?za(e,r):Pa(e,r):Ma(e,r);s+=l.value,r+=l.size,o=r;continue}if(a===10||a===13)break;if($e(a))++r;else if(Ft(n,r))r+=2;else throw me(e.source,r,`Invalid character within String: ${Oe(e,r)}.`)}throw me(e.source,r,"Unterminated string.")}function za(e,t){const n=e.source.body;let i=0,r=3;for(;r<12;){const o=n.charCodeAt(t+r++);if(o===125){if(r<5||!$e(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|pt(o),i<0)break}throw me(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+r)}".`)}function Pa(e,t){const n=e.source.body,i=ur(n,t+2);if($e(i))return{value:String.fromCodePoint(i),size:6};if(lr(i)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const r=ur(n,t+8);if(cr(r))return{value:String.fromCodePoint(i,r),size:12}}throw me(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function ur(e,t){return pt(e.charCodeAt(t))<<12|pt(e.charCodeAt(t+1))<<8|pt(e.charCodeAt(t+2))<<4|pt(e.charCodeAt(t+3))}function pt(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Ma(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw me(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Ba(e,t){const n=e.source.body,i=n.length;let r=e.lineStart,o=t+3,s=o,a="";const l=[];for(;o<i;){const c=n.charCodeAt(o);if(c===34&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34){a+=n.slice(s,o),l.push(a);const u=ce(e,W.BLOCK_STRING,t,o+3,Ta(l).join(`
`));return e.line+=l.length-1,e.lineStart=r,u}if(c===92&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34&&n.charCodeAt(o+3)===34){a+=n.slice(s,o),s=o+1,o+=4;continue}if(c===10||c===13){a+=n.slice(s,o),l.push(a),c===13&&n.charCodeAt(o+1)===10?o+=2:++o,a="",s=o,r=o;continue}if($e(c))++o;else if(Ft(n,o))o+=2;else throw me(e.source,o,`Invalid character within String: ${Oe(e,o)}.`)}throw me(e.source,o,"Unterminated string.")}function Aa(e,t){const n=e.source.body,i=n.length;let r=t+1;for(;r<i;){const o=n.charCodeAt(r);if(xa(o))++r;else break}return ce(e,W.NAME,t,r,n.slice(t,r))}function Ut(e,t){if(!Boolean(e))throw new Error(t)}const Da=10,dr=2;function pr(e){return Et(e,[])}function Et(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return ja(e,t);default:return String(e)}}function ja(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(Qa(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:Et(i,n)}else if(Array.isArray(e))return $a(e,n);return _a(e,n)}function Qa(e){return typeof e.toJSON=="function"}function _a(e,t){const n=Object.entries(e);if(n.length===0)return"{}";if(t.length>dr)return"["+qa(e)+"]";const i=n.map(([r,o])=>r+": "+Et(o,t));return"{ "+i.join(", ")+" }"}function $a(e,t){if(e.length===0)return"[]";if(t.length>dr)return"[Array]";const n=Math.min(Da,e.length),i=e.length-n,r=[];for(let o=0;o<n;++o)r.push(Et(e[o],t));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function qa(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const el=function(t,n){return t instanceof n};class hr{constructor(t,n="GraphQL request",i={line:1,column:1}){typeof t=="string"||Ut(!1,`Body must be a string. Received: ${pr(t)}.`),this.body=t,this.name=n,this.locationOffset=i,this.locationOffset.line>0||Ut(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ut(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function tl(e){return el(e,hr)}function mr(e,t){return new ht(e,t).parseDocument()}function nl(e,t){const n=new ht(e,t);n.expectToken(W.SOF);const i=n.parseValueLiteral(!1);return n.expectToken(W.EOF),i}function il(e,t){const n=new ht(e,t);n.expectToken(W.SOF);const i=n.parseConstValueLiteral();return n.expectToken(W.EOF),i}function rl(e,t){const n=new ht(e,t);n.expectToken(W.SOF);const i=n.parseTypeReference();return n.expectToken(W.EOF),i}class ht{constructor(t,n){const i=tl(t)?t:new hr(t);this._lexer=new Fa(i),this._options=n}parseName(){const t=this.expectToken(W.NAME);return this.node(t,{kind:H.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:H.DOCUMENT,definitions:this.many(W.SOF,this.parseDefinition,W.EOF)})}parseDefinition(){if(this.peek(W.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===W.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw me(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(W.BRACE_L))return this.node(t,{kind:H.OPERATION_DEFINITION,operation:_e.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let i;return this.peek(W.NAME)&&(i=this.parseName()),this.node(t,{kind:H.OPERATION_DEFINITION,operation:n,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(W.NAME);switch(t.value){case"query":return _e.QUERY;case"mutation":return _e.MUTATION;case"subscription":return _e.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(W.PAREN_L,this.parseVariableDefinition,W.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:H.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(W.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(W.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(W.DOLLAR),this.node(t,{kind:H.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:H.SELECTION_SET,selections:this.many(W.BRACE_L,this.parseSelection,W.BRACE_R)})}parseSelection(){return this.peek(W.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let i,r;return this.expectOptionalToken(W.COLON)?(i=n,r=this.parseName()):r=n,this.node(t,{kind:H.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(W.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(W.PAREN_L,n,W.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,i=this.parseName();return this.expectToken(W.COLON),this.node(n,{kind:H.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(W.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(W.NAME)?this.node(t,{kind:H.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:H.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var t;const n=this._lexer.token;return this.expectKeyword("fragment"),((t=this._options)===null||t===void 0?void 0:t.allowLegacyFragmentVariables)===!0?this.node(n,{kind:H.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:H.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case W.BRACKET_L:return this.parseList(t);case W.BRACE_L:return this.parseObject(t);case W.INT:return this._lexer.advance(),this.node(n,{kind:H.INT,value:n.value});case W.FLOAT:return this._lexer.advance(),this.node(n,{kind:H.FLOAT,value:n.value});case W.STRING:case W.BLOCK_STRING:return this.parseStringLiteral();case W.NAME:switch(this._lexer.advance(),n.value){case"true":return this.node(n,{kind:H.BOOLEAN,value:!0});case"false":return this.node(n,{kind:H.BOOLEAN,value:!1});case"null":return this.node(n,{kind:H.NULL});default:return this.node(n,{kind:H.ENUM,value:n.value})}case W.DOLLAR:if(t)if(this.expectToken(W.DOLLAR),this._lexer.token.kind===W.NAME){const i=this._lexer.token.value;throw me(this._lexer.source,n.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this._lexer.advance(),this.node(t,{kind:H.STRING,value:t.value,block:t.kind===W.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:H.LIST,values:this.any(W.BRACKET_L,n,W.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:H.OBJECT,fields:this.any(W.BRACE_L,n,W.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,i=this.parseName();return this.expectToken(W.COLON),this.node(n,{kind:H.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(W.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(W.AT),this.node(n,{kind:H.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(W.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(W.BRACKET_R),n=this.node(t,{kind:H.LIST_TYPE,type:i})}else n=this.parseNamedType();return this.expectOptionalToken(W.BANG)?this.node(t,{kind:H.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:H.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(W.STRING)||this.peek(W.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(W.BRACE_L,this.parseOperationTypeDefinition,W.BRACE_R);return this.node(t,{kind:H.SCHEMA_DEFINITION,description:n,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(W.COLON);const i=this.parseNamedType();return this.node(t,{kind:H.OPERATION_TYPE_DEFINITION,operation:n,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(t,{kind:H.SCALAR_TYPE_DEFINITION,description:n,name:i,directives:r})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:H.OBJECT_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:o,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(W.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(W.BRACE_L,this.parseFieldDefinition,W.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(W.COLON);const o=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:H.FIELD_DEFINITION,description:n,name:i,arguments:r,type:o,directives:s})}parseArgumentDefs(){return this.optionalMany(W.PAREN_L,this.parseInputValueDef,W.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(W.COLON);const r=this.parseTypeReference();let o;this.expectOptionalToken(W.EQUALS)&&(o=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:H.INPUT_VALUE_DEFINITION,description:n,name:i,type:r,defaultValue:o,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:H.INTERFACE_TYPE_DEFINITION,description:n,name:i,interfaces:r,directives:o,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(t,{kind:H.UNION_TYPE_DEFINITION,description:n,name:i,directives:r,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(W.EQUALS)?this.delimitedMany(W.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(t,{kind:H.ENUM_TYPE_DEFINITION,description:n,name:i,directives:r,values:o})}parseEnumValuesDefinition(){return this.optionalMany(W.BRACE_L,this.parseEnumValueDefinition,W.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(t,{kind:H.ENUM_VALUE_DEFINITION,description:n,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw me(this._lexer.source,this._lexer.token.start,`${Kt(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(t,{kind:H.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:i,directives:r,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(W.BRACE_L,this.parseInputValueDef,W.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===W.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.optionalMany(W.BRACE_L,this.parseOperationTypeDefinition,W.BRACE_R);if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:H.SCHEMA_EXTENSION,directives:n,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:H.SCALAR_TYPE_EXTENSION,name:n,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:H.OBJECT_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:o})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:H.INTERFACE_TYPE_EXTENSION,name:n,interfaces:i,directives:r,fields:o})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:H.UNION_TYPE_EXTENSION,name:n,directives:i,types:r})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:H.ENUM_TYPE_EXTENSION,name:n,directives:i,values:r})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:H.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:i,fields:r})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(W.AT);const i=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:H.DIRECTIVE_DEFINITION,description:n,name:i,arguments:r,repeatable:o,locations:s})}parseDirectiveLocations(){return this.delimitedMany(W.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(yn,n.value))return n;throw this.unexpected(t)}node(t,n){var i;return((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0&&(n.loc=new wa(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this._lexer.advance(),n;throw me(this._lexer.source,n.start,`Expected ${br(t)}, found ${Kt(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this._lexer.advance(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===W.NAME&&n.value===t)this._lexer.advance();else throw me(this._lexer.source,n.start,`Expected "${t}", found ${Kt(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===W.NAME&&n.value===t?(this._lexer.advance(),!0):!1}unexpected(t){const n=t!=null?t:this._lexer.token;return me(this._lexer.source,n.start,`Unexpected ${Kt(n)}.`)}any(t,n,i){this.expectToken(t);const r=[];for(;!this.expectOptionalToken(i);)r.push(n.call(this));return r}optionalMany(t,n,i){if(this.expectOptionalToken(t)){const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(t,n,i){this.expectToken(t);const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(t,n){this.expectOptionalToken(t);const i=[];do i.push(n.call(this));while(this.expectOptionalToken(t));return i}}function Kt(e){const t=e.value;return br(e.kind)+(t!=null?` "${t}"`:"")}function br(e){return Ua(e)?`"${e}"`:e}var ol=Object.freeze({__proto__:null,parse:mr,parseValue:nl,parseConstValue:il,parseType:rl,Parser:ht}),sl=ki(ol);function al(e){return`"${e.replace(ll,cl)}"`}const ll=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function cl(e){return ul[e.charCodeAt(0)]}const ul=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],dl=Object.freeze({});function pl(e,t,n=rr){const i=new Map;for(const I of Object.values(H))i.set(I,hl(t,I));let r,o=Array.isArray(e),s=[e],a=-1,l=[],c=e,u,d;const p=[],m=[];do{a++;const I=a===s.length,f=I&&l.length!==0;if(I){if(u=m.length===0?void 0:p[p.length-1],c=d,d=m.pop(),f)if(o){c=c.slice();let X=0;for(const[v,G]of l){const w=v-X;G===null?(c.splice(w,1),X++):c[w]=G}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[X,v]of l)c[X]=v}a=r.index,s=r.keys,l=r.edits,o=r.inArray,r=r.prev}else if(d){if(u=o?a:s[a],c=d[u],c==null)continue;p.push(u)}let g;if(!Array.isArray(c)){var h,b;or(c)||Ut(!1,`Invalid AST Node: ${pr(c)}.`);const X=I?(h=i.get(c.kind))===null||h===void 0?void 0:h.leave:(b=i.get(c.kind))===null||b===void 0?void 0:b.enter;if(g=X==null?void 0:X.call(t,c,u,d,p,m),g===dl)break;if(g===!1){if(!I){p.pop();continue}}else if(g!==void 0&&(l.push([u,g]),!I))if(or(g))c=g;else{p.pop();continue}}if(g===void 0&&f&&l.push([u,c]),I)p.pop();else{var Z;r={inArray:o,index:a,keys:s,edits:l,prev:r},o=Array.isArray(c),s=o?c:(Z=n[c.kind])!==null&&Z!==void 0?Z:[],a=-1,l=[],d&&m.push(d),d=c}}while(r!==void 0);return l.length!==0?l[l.length-1][1]:e}function hl(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function fr(e){return pl(e,bl)}const ml=80,bl={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>E(e.definitions,`

`)},OperationDefinition:{leave(e){const t=B("(",E(e.variableDefinitions,", "),")"),n=E([e.operation,E([e.name,t]),E(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:i})=>e+": "+t+B(" = ",n)+B(" ",E(i," "))},SelectionSet:{leave:({selections:e})=>Re(e)},Field:{leave({alias:e,name:t,arguments:n,directives:i,selectionSet:r}){const o=B("",e,": ")+t;let s=o+B("(",E(n,", "),")");return s.length>ml&&(s=o+B(`(
`,Ht(E(n,`
`)),`
)`)),E([s,E(i," "),r]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+B(" ",E(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>E(["...",B("on ",e),E(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:i,selectionSet:r})=>`fragment ${e}${B("(",E(n,", "),")")} on ${t} ${B("",E(i," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?Ja(e):al(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+E(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+E(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+B("(",E(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>B("",e,`
`)+E(["schema",E(t," "),Re(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>B("",e,`
`)+E(["scalar",t,E(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>B("",e,`
`)+E(["type",t,B("implements ",E(n," & ")),E(i," "),Re(r)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:i,directives:r})=>B("",e,`
`)+t+(yr(n)?B(`(
`,Ht(E(n,`
`)),`
)`):B("(",E(n,", "),")"))+": "+i+B(" ",E(r," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:i,directives:r})=>B("",e,`
`)+E([t+": "+n,B("= ",i),E(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>B("",e,`
`)+E(["interface",t,B("implements ",E(n," & ")),E(i," "),Re(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:i})=>B("",e,`
`)+E(["union",t,E(n," "),B("= ",E(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:i})=>B("",e,`
`)+E(["enum",t,E(n," "),Re(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>B("",e,`
`)+E([t,E(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:i})=>B("",e,`
`)+E(["input",t,E(n," "),Re(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:i,locations:r})=>B("",e,`
`)+"directive @"+t+(yr(n)?B(`(
`,Ht(E(n,`
`)),`
)`):B("(",E(n,", "),")"))+(i?" repeatable":"")+" on "+E(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>E(["extend schema",E(e," "),Re(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>E(["extend scalar",e,E(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>E(["extend type",e,B("implements ",E(t," & ")),E(n," "),Re(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>E(["extend interface",e,B("implements ",E(t," & ")),E(n," "),Re(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>E(["extend union",e,E(t," "),B("= ",E(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>E(["extend enum",e,E(t," "),Re(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>E(["extend input",e,E(t," "),Re(n)]," ")}};function E(e,t=""){var n;return(n=e==null?void 0:e.filter(i=>i).join(t))!==null&&n!==void 0?n:""}function Re(e){return B(`{
`,Ht(E(e,`
`)),`
}`)}function B(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function Ht(e){return B("  ",e.replace(/\n/g,`
  `))}function yr(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}var fl=Object.freeze({__proto__:null,print:fr}),yl=ki(fl),In={},Ot={},gr=function(t){var n=t.uri,i=t.name,r=t.type;this.uri=n,this.name=i,this.type=r},gl=gr,Zr=function(t){return typeof File!="undefined"&&t instanceof File||typeof Blob!="undefined"&&t instanceof Blob||t instanceof gl},Zl=Zr,Il=function e(t,n,i){n===void 0&&(n=""),i===void 0&&(i=Zl);var r,o=new Map;function s(u,d){var p=o.get(d);p?p.push.apply(p,u):o.set(d,u)}if(i(t))r=null,s([n],t);else{var a=n?n+".":"";if(typeof FileList!="undefined"&&t instanceof FileList)r=Array.prototype.map.call(t,function(u,d){return s([""+a+d],u),null});else if(Array.isArray(t))r=t.map(function(u,d){var p=e(u,""+a+d,i);return p.files.forEach(s),p.clone});else if(t&&t.constructor===Object){r={};for(var l in t){var c=e(t[l],""+a+l,i);c.files.forEach(s),r[l]=c.clone}}else r=t}return{clone:r,files:o}};Ot.ReactNativeFile=gr,Ot.extractFiles=Il,Ot.isExtractableFile=Zr;var vl=typeof self=="object"?self.FormData:window.FormData,mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.defaultJsonSerializer=void 0,mt.defaultJsonSerializer={parse:JSON.parse,stringify:JSON.stringify};var Vl=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(In,"__esModule",{value:!0});var Ir=Ot,Gl=Vl(vl),Xl=mt,Sl=function(e){return Ir.isExtractableFile(e)||e!==null&&typeof e=="object"&&typeof e.pipe=="function"};function Rl(e,t,n,i){i===void 0&&(i=Xl.defaultJsonSerializer);var r=Ir.extractFiles({query:e,variables:t,operationName:n},"",Sl),o=r.clone,s=r.files;if(s.size===0){if(!Array.isArray(e))return i.stringify(o);if(typeof t!="undefined"&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");var a=e.reduce(function(p,m,h){return p.push({query:m,variables:t?t[h]:void 0}),p},[]);return i.stringify(a)}var l=typeof FormData=="undefined"?Gl.default:FormData,c=new l;c.append("operations",i.stringify(o));var u={},d=0;return s.forEach(function(p){u[++d]=p}),c.append("map",i.stringify(u)),d=0,s.forEach(function(p,m){c.append(""+ ++d,m)}),c}In.default=Rl;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.parseBatchRequestsExtendedArgs=Ie.parseRawRequestExtendedArgs=Ie.parseRequestExtendedArgs=Ie.parseBatchRequestArgs=Ie.parseRawRequestArgs=Ie.parseRequestArgs=void 0;function Wl(e,t,n){return e.document?e:{document:e,variables:t,requestHeaders:n,signal:void 0}}Ie.parseRequestArgs=Wl;function Cl(e,t,n){return e.query?e:{query:e,variables:t,requestHeaders:n,signal:void 0}}Ie.parseRawRequestArgs=Cl;function kl(e,t){return e.documents?e:{documents:e,requestHeaders:t,signal:void 0}}Ie.parseBatchRequestArgs=kl;function Ll(e,t,n,i){return e.document?e:{url:e,document:t,variables:n,requestHeaders:i,signal:void 0}}Ie.parseRequestExtendedArgs=Ll;function wl(e,t,n,i){return e.query?e:{url:e,query:t,variables:n,requestHeaders:i,signal:void 0}}Ie.parseRawRequestExtendedArgs=wl;function Nl(e,t,n){return e.documents?e:{url:e,documents:t,requestHeaders:n,signal:void 0}}Ie.parseBatchRequestsExtendedArgs=Nl;var bt={},xl=$&&$.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(bt,"__esModule",{value:!0}),bt.ClientError=void 0;var Tl=function(e){xl(t,e);function t(n,i){var r=this,o=t.extractMessage(n)+": "+JSON.stringify({response:n,request:i});return r=e.call(this,o)||this,Object.setPrototypeOf(r,t.prototype),r.response=n,r.request=i,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(r,t),r}return t.extractMessage=function(n){try{return n.errors[0].message}catch(i){return"GraphQL Error (Code: "+n.status+")"}},t}(Error);bt.ClientError=Tl;var ft={},vr;function Yl(){if(vr)return ft;vr=1;var e=$&&$.__assign||function(){return e=Object.assign||function(v){for(var G,w=1,S=arguments.length;w<S;w++){G=arguments[w];for(var Y in G)Object.prototype.hasOwnProperty.call(G,Y)&&(v[Y]=G[Y])}return v},e.apply(this,arguments)},t=$&&$.__awaiter||function(v,G,w,S){function Y(T){return T instanceof w?T:new w(function(J){J(T)})}return new(w||(w=Promise))(function(T,J){function Q(C){try{y(S.next(C))}catch(K){J(K)}}function D(C){try{y(S.throw(C))}catch(K){J(K)}}function y(C){C.done?T(C.value):Y(C.value).then(Q,D)}y((S=S.apply(v,G||[])).next())})},n=$&&$.__generator||function(v,G){var w={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},S,Y,T,J;return J={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function Q(y){return function(C){return D([y,C])}}function D(y){if(S)throw new TypeError("Generator is already executing.");for(;w;)try{if(S=1,Y&&(T=y[0]&2?Y.return:y[0]?Y.throw||((T=Y.return)&&T.call(Y),0):Y.next)&&!(T=T.call(Y,y[1])).done)return T;switch(Y=0,T&&(y=[y[0]&2,T.value]),y[0]){case 0:case 1:T=y;break;case 4:return w.label++,{value:y[1],done:!1};case 5:w.label++,Y=y[1],y=[0];continue;case 7:y=w.ops.pop(),w.trys.pop();continue;default:if(T=w.trys,!(T=T.length>0&&T[T.length-1])&&(y[0]===6||y[0]===2)){w=0;continue}if(y[0]===3&&(!T||y[1]>T[0]&&y[1]<T[3])){w.label=y[1];break}if(y[0]===6&&w.label<T[1]){w.label=T[1],T=y;break}if(T&&w.label<T[2]){w.label=T[2],w.ops.push(y);break}T[2]&&w.ops.pop(),w.trys.pop();continue}y=G.call(v,w)}catch(C){y=[6,C],Y=0}finally{S=T=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(ft,"__esModule",{value:!0}),ft.GraphQLWebSocketClient=void 0;var i=bt,r=Gr(),o="connection_init",s="connection_ack",a="ping",l="pong",c="subscribe",u="next",d="error",p="complete",m=function(){function v(G,w,S){this._type=G,this._payload=w,this._id=S}return Object.defineProperty(v.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"payload",{get:function(){return this._payload},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"text",{get:function(){var G={type:this.type};return this.id!=null&&this.id!=null&&(G.id=this.id),this.payload!=null&&this.payload!=null&&(G.payload=this.payload),JSON.stringify(G)},enumerable:!1,configurable:!0}),v.parse=function(G,w){var S=JSON.parse(G),Y=S.type,T=S.payload,J=S.id;return new v(Y,w(T),J)},v}(),h=function(){function v(G,w){var S=this,Y=w.onInit,T=w.onAcknowledged,J=w.onPing,Q=w.onPong;this.socketState={acknowledged:!1,lastRequestId:0,subscriptions:{}},this.socket=G,G.onopen=function(D){return t(S,void 0,void 0,function(){var y,C,K,O;return n(this,function(V){switch(V.label){case 0:return this.socketState.acknowledged=!1,this.socketState.subscriptions={},C=(y=G).send,K=Z,Y?[4,Y()]:[3,2];case 1:return O=V.sent(),[3,3];case 2:O=null,V.label=3;case 3:return C.apply(y,[K.apply(void 0,[O]).text]),[2]}})})},G.onclose=function(D){S.socketState.acknowledged=!1,S.socketState.subscriptions={}},G.onerror=function(D){console.error(D)},G.onmessage=function(D){try{var y=b(D.data);switch(y.type){case s:{S.socketState.acknowledged?console.warn("Duplicate CONNECTION_ACK message ignored"):(S.socketState.acknowledged=!0,T&&T(y.payload));return}case a:{J?J(y.payload).then(function(R){return G.send(f(R).text)}):G.send(f(null).text);return}case l:{Q&&Q(y.payload);return}}if(!S.socketState.acknowledged||y.id===void 0||y.id===null||!S.socketState.subscriptions[y.id])return;var C=S.socketState.subscriptions[y.id],K=C.query,O=C.variables,V=C.subscriber;switch(y.type){case u:{!y.payload.errors&&y.payload.data&&V.next&&V.next(y.payload.data),y.payload.errors&&V.error&&V.error(new i.ClientError(e(e({},y.payload),{status:200}),{query:K,variables:O}));return}case d:{V.error&&V.error(new i.ClientError({errors:y.payload,status:200},{query:K,variables:O}));return}case p:{V.complete&&V.complete(),delete S.socketState.subscriptions[y.id];return}}}catch(R){console.error(R),G.close(1006)}G.close(4400,"Unknown graphql-ws message.")}}return v.prototype.makeSubscribe=function(G,w,S,Y){var T=this,J=(this.socketState.lastRequestId++).toString();return this.socketState.subscriptions[J]={query:G,variables:S,subscriber:Y},this.socket.send(g(J,{query:G,operationName:w,variables:S}).text),function(){T.socket.send(X(J).text),delete T.socketState.subscriptions[J]}},v.prototype.rawRequest=function(G,w){var S=this;return new Promise(function(Y,T){var J;S.rawSubscribe(G,{next:function(Q,D){return J={data:Q,extensions:D}},error:T,complete:function(){return Y(J)}},w)})},v.prototype.request=function(G,w){var S=this;return new Promise(function(Y,T){var J;S.subscribe(G,{next:function(Q){return J=Q},error:T,complete:function(){return Y(J)}},w)})},v.prototype.subscribe=function(G,w,S){var Y=r.resolveRequestDocument(G),T=Y.query,J=Y.operationName;return this.makeSubscribe(T,J,S,w)},v.prototype.rawSubscribe=function(G,w,S){return this.makeSubscribe(G,void 0,S,w)},v.prototype.ping=function(G){this.socket.send(I(G).text)},v.prototype.close=function(){this.socket.close(1e3)},v.PROTOCOL="graphql-transport-ws",v}();ft.GraphQLWebSocketClient=h;function b(v,G){G===void 0&&(G=function(S){return S});var w=m.parse(v,G);return w}function Z(v){return new m(o,v)}function I(v){return new m(a,v,void 0)}function f(v){return new m(l,v,void 0)}function g(v,G){return new m(c,G,v)}function X(v){return new m(p,void 0,v)}return ft}var Vr;function Gr(){return Vr||(Vr=1,function(e){var t=$&&$.__assign||function(){return t=Object.assign||function(V){for(var R,k=1,N=arguments.length;k<N;k++){R=arguments[k];for(var x in R)Object.prototype.hasOwnProperty.call(R,x)&&(V[x]=R[x])}return V},t.apply(this,arguments)},n=$&&$.__createBinding||(Object.create?function(V,R,k,N){N===void 0&&(N=k),Object.defineProperty(V,N,{enumerable:!0,get:function(){return R[k]}})}:function(V,R,k,N){N===void 0&&(N=k),V[N]=R[k]}),i=$&&$.__setModuleDefault||(Object.create?function(V,R){Object.defineProperty(V,"default",{enumerable:!0,value:R})}:function(V,R){V.default=R}),r=$&&$.__importStar||function(V){if(V&&V.__esModule)return V;var R={};if(V!=null)for(var k in V)k!=="default"&&Object.prototype.hasOwnProperty.call(V,k)&&n(R,V,k);return i(R,V),R},o=$&&$.__awaiter||function(V,R,k,N){function x(L){return L instanceof k?L:new k(function(A){A(L)})}return new(k||(k=Promise))(function(L,A){function z(F){try{U(N.next(F))}catch(j){A(j)}}function _(F){try{U(N.throw(F))}catch(j){A(j)}}function U(F){F.done?L(F.value):x(F.value).then(z,_)}U((N=N.apply(V,R||[])).next())})},s=$&&$.__generator||function(V,R){var k={label:0,sent:function(){if(L[0]&1)throw L[1];return L[1]},trys:[],ops:[]},N,x,L,A;return A={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function z(U){return function(F){return _([U,F])}}function _(U){if(N)throw new TypeError("Generator is already executing.");for(;k;)try{if(N=1,x&&(L=U[0]&2?x.return:U[0]?x.throw||((L=x.return)&&L.call(x),0):x.next)&&!(L=L.call(x,U[1])).done)return L;switch(x=0,L&&(U=[U[0]&2,L.value]),U[0]){case 0:case 1:L=U;break;case 4:return k.label++,{value:U[1],done:!1};case 5:k.label++,x=U[1],U=[0];continue;case 7:U=k.ops.pop(),k.trys.pop();continue;default:if(L=k.trys,!(L=L.length>0&&L[L.length-1])&&(U[0]===6||U[0]===2)){k=0;continue}if(U[0]===3&&(!L||U[1]>L[0]&&U[1]<L[3])){k.label=U[1];break}if(U[0]===6&&k.label<L[1]){k.label=L[1],L=U;break}if(L&&k.label<L[2]){k.label=L[2],k.ops.push(U);break}L[2]&&k.ops.pop(),k.trys.pop();continue}U=R.call(V,k)}catch(F){U=[6,F],x=0}finally{N=L=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}},a=$&&$.__rest||function(V,R){var k={};for(var N in V)Object.prototype.hasOwnProperty.call(V,N)&&R.indexOf(N)<0&&(k[N]=V[N]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,N=Object.getOwnPropertySymbols(V);x<N.length;x++)R.indexOf(N[x])<0&&Object.prototype.propertyIsEnumerable.call(V,N[x])&&(k[N[x]]=V[N[x]]);return k},l=$&&$.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(e,"__esModule",{value:!0}),e.GraphQLWebSocketClient=e.gql=e.resolveRequestDocument=e.batchRequests=e.request=e.rawRequest=e.GraphQLClient=e.ClientError=void 0;var c=r(Sa()),u=c,d=sl,p=yl,m=l(In),h=mt,b=Ie,Z=bt;Object.defineProperty(e,"ClientError",{enumerable:!0,get:function(){return Z.ClientError}});var I=function(V){var R={};return V&&(typeof Headers!="undefined"&&V instanceof Headers||V instanceof u.Headers?R=K(V):Array.isArray(V)?V.forEach(function(k){var N=k[0],x=k[1];R[N]=x}):R=V),R},f=function(V){return V.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},g=function(V){var R=V.query,k=V.variables,N=V.operationName,x=V.jsonSerializer;if(!Array.isArray(R)){var L=["query="+encodeURIComponent(f(R))];return k&&L.push("variables="+encodeURIComponent(x.stringify(k))),N&&L.push("operationName="+encodeURIComponent(N)),L.join("&")}if(typeof k!="undefined"&&!Array.isArray(k))throw new Error("Cannot create query with given variable type, array expected");var A=R.reduce(function(z,_,U){return z.push({query:f(_),variables:k?x.stringify(k[U]):void 0}),z},[]);return"query="+encodeURIComponent(x.stringify(A))},X=function(V){var R=V.url,k=V.query,N=V.variables,x=V.operationName,L=V.headers,A=V.fetch,z=V.fetchOptions;return o(void 0,void 0,void 0,function(){var _;return s(this,function(U){switch(U.label){case 0:return _=m.default(k,N,x,z.jsonSerializer),[4,A(R,t({method:"POST",headers:t(t({},typeof _=="string"?{"Content-Type":"application/json"}:{}),L),body:_},z))];case 1:return[2,U.sent()]}})})},v=function(V){var R=V.url,k=V.query,N=V.variables,x=V.operationName,L=V.headers,A=V.fetch,z=V.fetchOptions;return o(void 0,void 0,void 0,function(){var _;return s(this,function(U){switch(U.label){case 0:return _=g({query:k,variables:N,operationName:x,jsonSerializer:z.jsonSerializer}),[4,A(R+"?"+_,t({method:"GET",headers:L},z))];case 1:return[2,U.sent()]}})})},G=function(){function V(R,k){this.url=R,this.options=k||{}}return V.prototype.rawRequest=function(R,k,N){return o(this,void 0,void 0,function(){var x,L,A,z,_,U,F,j,ee,M;return s(this,function(ne){return x=b.parseRawRequestArgs(R,k,N),L=this.options,A=L.headers,z=L.fetch,_=z===void 0?c.default:z,U=L.method,F=U===void 0?"POST":U,j=a(L,["headers","fetch","method"]),ee=this.url,x.signal!==void 0&&(j.signal=x.signal),M=D(x.query).operationName,[2,w({url:ee,query:x.query,variables:x.variables,headers:t(t({},I(y(A))),I(x.requestHeaders)),operationName:M,fetch:_,method:F,fetchOptions:j})]})})},V.prototype.request=function(R,k,N){return o(this,void 0,void 0,function(){var x,L,A,z,_,U,F,j,ee,M,ne,P,ue;return s(this,function(he){switch(he.label){case 0:return x=b.parseRequestArgs(R,k,N),L=this.options,A=L.headers,z=L.fetch,_=z===void 0?c.default:z,U=L.method,F=U===void 0?"POST":U,j=a(L,["headers","fetch","method"]),ee=this.url,x.signal!==void 0&&(j.signal=x.signal),M=D(x.document),ne=M.query,P=M.operationName,[4,w({url:ee,query:ne,variables:x.variables,headers:t(t({},I(y(A))),I(x.requestHeaders)),operationName:P,fetch:_,method:F,fetchOptions:j})];case 1:return ue=he.sent().data,[2,ue]}})})},V.prototype.batchRequests=function(R,k){return o(this,void 0,void 0,function(){var N,x,L,A,z,_,U,F,j,ee,M,ne;return s(this,function(P){switch(P.label){case 0:return N=b.parseBatchRequestArgs(R,k),x=this.options,L=x.headers,A=x.fetch,z=A===void 0?c.default:A,_=x.method,U=_===void 0?"POST":_,F=a(x,["headers","fetch","method"]),j=this.url,N.signal!==void 0&&(F.signal=N.signal),ee=N.documents.map(function(ue){var he=ue.document;return D(he).query}),M=N.documents.map(function(ue){var he=ue.variables;return he}),[4,w({url:j,query:ee,variables:M,headers:t(t({},I(y(L))),I(N.requestHeaders)),operationName:void 0,fetch:z,method:U,fetchOptions:F})];case 1:return ne=P.sent().data,[2,ne]}})})},V.prototype.setHeaders=function(R){return this.options.headers=R,this},V.prototype.setHeader=function(R,k){var N,x=this.options.headers;return x?x[R]=k:this.options.headers=(N={},N[R]=k,N),this},V.prototype.setEndpoint=function(R){return this.url=R,this},V}();e.GraphQLClient=G;function w(V){var R=V.url,k=V.query,N=V.variables,x=V.headers,L=V.operationName,A=V.fetch,z=V.method,_=z===void 0?"POST":z,U=V.fetchOptions;return o(this,void 0,void 0,function(){var F,j,ee,M,ne,P,ue,he,ae,Me,So;return s(this,function(En){switch(En.label){case 0:return F=_.toUpperCase()==="POST"?X:v,j=Array.isArray(k),[4,F({url:R,query:k,variables:N,operationName:L,headers:x,fetch:A,fetchOptions:U})];case 1:return ee=En.sent(),[4,J(ee,U.jsonSerializer)];case 2:if(M=En.sent(),ne=j&&Array.isArray(M)?!M.some(function($d){var qd=$d.data;return!qd}):!!M.data,P=!M.errors||U.errorPolicy==="all"||U.errorPolicy==="ignore",ee.ok&&P&&ne)return ue=ee.headers,he=ee.status,ae=a(M,["errors"]),Me=U.errorPolicy==="ignore"?ae:M,[2,t(t({},j?{data:Me}:Me),{headers:ue,status:he})];throw So=typeof M=="string"?{error:M}:M,new Z.ClientError(t(t({},So),{status:ee.status,headers:ee.headers}),{query:k,variables:N})}})})}function S(V,R,k,N){return o(this,void 0,void 0,function(){var x,L;return s(this,function(A){return x=b.parseRawRequestExtendedArgs(V,R,k,N),L=new G(x.url),[2,L.rawRequest(t({},x))]})})}e.rawRequest=S;function Y(V,R,k,N){return o(this,void 0,void 0,function(){var x,L;return s(this,function(A){return x=b.parseRequestExtendedArgs(V,R,k,N),L=new G(x.url),[2,L.request(t({},x))]})})}e.request=Y;function T(V,R,k){return o(this,void 0,void 0,function(){var N,x;return s(this,function(L){return N=b.parseBatchRequestsExtendedArgs(V,R,k),x=new G(N.url),[2,x.batchRequests(t({},N))]})})}e.batchRequests=T,e.default=Y;function J(V,R){return R===void 0&&(R=h.defaultJsonSerializer),o(this,void 0,void 0,function(){var k,N,x;return s(this,function(L){switch(L.label){case 0:return V.headers.forEach(function(A,z){z.toLowerCase()==="content-type"&&(k=A)}),k&&k.toLowerCase().startsWith("application/json")?(x=(N=R).parse,[4,V.text()]):[3,2];case 1:return[2,x.apply(N,[L.sent()])];case 2:return[2,V.text()]}})})}function Q(V){var R,k=void 0,N=V.definitions.filter(function(x){return x.kind==="OperationDefinition"});return N.length===1&&(k=(R=N[0].name)===null||R===void 0?void 0:R.value),k}function D(V){if(typeof V=="string"){var R=void 0;try{var k=d.parse(V);R=Q(k)}catch(x){}return{query:V,operationName:R}}var N=Q(V);return{query:p.print(V),operationName:N}}e.resolveRequestDocument=D;function y(V){return typeof V=="function"?V():V}function C(V){for(var R=[],k=1;k<arguments.length;k++)R[k-1]=arguments[k];return V.reduce(function(N,x,L){return""+N+x+(L in R?R[L]:"")},"")}e.gql=C;function K(V){var R={};return V.forEach(function(k,N){R[N]=k}),R}var O=Yl();Object.defineProperty(e,"GraphQLWebSocketClient",{enumerable:!0,get:function(){return O.GraphQLWebSocketClient}})}(mn)),mn}var Jl=Gr(),yt=function(){return yt=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},yt.apply(this,arguments)};function Ne(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function ke(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(o=c[0]&2?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],r=0}finally{i=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Xr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var zt=new Map,vn=new Map,Sr=!0,Pt=!1;function Rr(e){return e.replace(/[\s,]+/g," ").trim()}function Fl(e){return Rr(e.source.body.substring(e.start,e.end))}function Ul(e){var t=new Set,n=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,o=Fl(i.loc),s=vn.get(r);s&&!s.has(o)?Sr&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||vn.set(r,s=new Set),s.add(o),t.has(o)||(t.add(o),n.push(i))}else n.push(i)}),yt(yt({},e),{definitions:n})}function El(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var o=i[r];o&&typeof o=="object"&&t.add(o)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function Kl(e){var t=Rr(e);if(!zt.has(t)){var n=mr(e,{experimentalFragmentVariables:Pt,allowLegacyFragmentVariables:Pt});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");zt.set(t,El(Ul(n)))}return zt.get(t)}function qe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(r,o){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=e[o+1]}),Kl(i)}function Hl(){zt.clear(),vn.clear()}function Ol(){Sr=!1}function zl(){Pt=!0}function Pl(){Pt=!1}var gt={gql:qe,resetCaches:Hl,disableFragmentWarnings:Ol,enableExperimentalFragmentVariables:zl,disableExperimentalFragmentVariables:Pl};(function(e){e.gql=gt.gql,e.resetCaches=gt.resetCaches,e.disableFragmentWarnings=gt.disableFragmentWarnings,e.enableExperimentalFragmentVariables=gt.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=gt.disableExperimentalFragmentVariables})(qe||(qe={})),qe.default=qe;var ze=qe,Ml=Object.defineProperty,Wr=Object.getOwnPropertySymbols,Bl=Object.prototype.hasOwnProperty,Al=Object.prototype.propertyIsEnumerable,Cr=(e,t,n)=>t in e?Ml(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))Bl.call(t,n)&&Cr(e,n,t[n]);if(Wr)for(var n of Wr(t))Al.call(t,n)&&Cr(e,n,t[n]);return e};const kr=ze`
	mutation PushPayload(
		$session_secure_id: String!
		$events: ReplayEventsInput!
		$messages: String!
		$resources: String!
		$errors: [ErrorObjectInput]!
		$is_beacon: Boolean
		$has_session_unloaded: Boolean
		$highlight_logs: String
		$payload_id: ID
	) {
		pushPayload(
			session_secure_id: $session_secure_id
			events: $events
			messages: $messages
			resources: $resources
			errors: $errors
			is_beacon: $is_beacon
			has_session_unloaded: $has_session_unloaded
			highlight_logs: $highlight_logs
			payload_id: $payload_id
		)
	}
`,Dl=ze`
	mutation identifySession(
		$session_secure_id: String!
		$user_identifier: String!
		$user_object: Any
	) {
		identifySession(
			session_secure_id: $session_secure_id
			user_identifier: $user_identifier
			user_object: $user_object
		)
	}
`,jl=ze`
	mutation addSessionProperties(
		$session_secure_id: String!
		$properties_object: Any
	) {
		addSessionProperties(
			session_secure_id: $session_secure_id
			properties_object: $properties_object
		)
	}
`,Ql=ze`
	mutation pushMetrics($metrics: [MetricInput]!) {
		pushMetrics(metrics: $metrics)
	}
`,_l=ze`
	mutation addSessionFeedback(
		$session_secure_id: String!
		$user_name: String
		$user_email: String
		$verbatim: String!
		$timestamp: Timestamp!
	) {
		addSessionFeedback(
			session_secure_id: $session_secure_id
			user_name: $user_name
			user_email: $user_email
			verbatim: $verbatim
			timestamp: $timestamp
		)
	}
`,$l=ze`
	mutation initializeSession(
		$session_secure_id: String!
		$organization_verbose_id: String!
		$enable_strict_privacy: Boolean!
		$enable_recording_network_contents: Boolean!
		$clientVersion: String!
		$firstloadVersion: String!
		$clientConfig: String!
		$environment: String!
		$id: String!
		$appVersion: String
		$client_id: String!
		$network_recording_domains: [String!]
	) {
		initializeSession(
			session_secure_id: $session_secure_id
			organization_verbose_id: $organization_verbose_id
			enable_strict_privacy: $enable_strict_privacy
			enable_recording_network_contents: $enable_recording_network_contents
			clientVersion: $clientVersion
			firstloadVersion: $firstloadVersion
			clientConfig: $clientConfig
			environment: $environment
			appVersion: $appVersion
			fingerprint: $id
			client_id: $client_id
			network_recording_domains: $network_recording_domains
		) {
			secure_id
			project_id
		}
	}
`,ql=ze`
	query Ignore($id: ID!) {
		ignore(id: $id)
	}
`,ec=(e,t,n)=>e();function tc(e,t=ec){return{PushPayload(n,i){return t(r=>e.request(kr,n,ve(ve({},i),r)),"PushPayload","mutation")},identifySession(n,i){return t(r=>e.request(Dl,n,ve(ve({},i),r)),"identifySession","mutation")},addSessionProperties(n,i){return t(r=>e.request(jl,n,ve(ve({},i),r)),"addSessionProperties","mutation")},pushMetrics(n,i){return t(r=>e.request(Ql,n,ve(ve({},i),r)),"pushMetrics","mutation")},addSessionFeedback(n,i){return t(r=>e.request(_l,n,ve(ve({},i),r)),"addSessionFeedback","mutation")},initializeSession(n,i){return t(r=>e.request($l,n,ve(ve({},i),r)),"initializeSession","mutation")},Ignore(n,i){return t(r=>e.request(ql,n,ve(ve({},i),r)),"Ignore","query")}}}var Lr={exports:{}},Vn={exports:{}},wr;function nc(){return wr||(wr=1,function(e,t){(function(n,i){e.exports=i(cn())})($,function(n){return{backtrace:function(r){var o=[],s=10;typeof r=="object"&&typeof r.maxStackSize=="number"&&(s=r.maxStackSize);for(var a=arguments.callee;a&&o.length<s&&a.arguments;){for(var l=new Array(a.arguments.length),c=0;c<l.length;++c)l[c]=a.arguments[c];/function(?:\s+([\w$]+))+\s*\(/.test(a.toString())?o.push(new n({functionName:RegExp.$1||void 0,args:l})):o.push(new n({args:l}));try{a=a.caller}catch(u){break}}return o}}})}(Vn)),Vn.exports}var Gn={exports:{}},Zt={},Xn={},Nr;function xr(){return Nr||(Nr=1,function(e){function t(f,g,X){if(g in f)return f[g];if(arguments.length===3)return X;throw new Error('"'+g+'" is a required argument.')}e.getArg=t;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,i=/^data:.+\,.+$/;function r(f){var g=f.match(n);return g?{scheme:g[1],auth:g[2],host:g[3],port:g[4],path:g[5]}:null}e.urlParse=r;function o(f){var g="";return f.scheme&&(g+=f.scheme+":"),g+="//",f.auth&&(g+=f.auth+"@"),f.host&&(g+=f.host),f.port&&(g+=":"+f.port),f.path&&(g+=f.path),g}e.urlGenerate=o;function s(f){var g=f,X=r(f);if(X){if(!X.path)return f;g=X.path}for(var v=e.isAbsolute(g),G=g.split(/\/+/),w,S=0,Y=G.length-1;Y>=0;Y--)w=G[Y],w==="."?G.splice(Y,1):w===".."?S++:S>0&&(w===""?(G.splice(Y+1,S),S=0):(G.splice(Y,2),S--));return g=G.join("/"),g===""&&(g=v?"/":"."),X?(X.path=g,o(X)):g}e.normalize=s;function a(f,g){f===""&&(f="."),g===""&&(g=".");var X=r(g),v=r(f);if(v&&(f=v.path||"/"),X&&!X.scheme)return v&&(X.scheme=v.scheme),o(X);if(X||g.match(i))return g;if(v&&!v.host&&!v.path)return v.host=g,o(v);var G=g.charAt(0)==="/"?g:s(f.replace(/\/+$/,"")+"/"+g);return v?(v.path=G,o(v)):G}e.join=a,e.isAbsolute=function(f){return f.charAt(0)==="/"||!!f.match(n)};function l(f,g){f===""&&(f="."),f=f.replace(/\/$/,"");for(var X=0;g.indexOf(f+"/")!==0;){var v=f.lastIndexOf("/");if(v<0||(f=f.slice(0,v),f.match(/^([^\/]+:\/)?\/*$/)))return g;++X}return Array(X+1).join("../")+g.substr(f.length+1)}e.relative=l;var c=function(){var f=Object.create(null);return!("__proto__"in f)}();function u(f){return f}function d(f){return m(f)?"$"+f:f}e.toSetString=c?u:d;function p(f){return m(f)?f.slice(1):f}e.fromSetString=c?u:p;function m(f){if(!f)return!1;var g=f.length;if(g<9||f.charCodeAt(g-1)!==95||f.charCodeAt(g-2)!==95||f.charCodeAt(g-3)!==111||f.charCodeAt(g-4)!==116||f.charCodeAt(g-5)!==111||f.charCodeAt(g-6)!==114||f.charCodeAt(g-7)!==112||f.charCodeAt(g-8)!==95||f.charCodeAt(g-9)!==95)return!1;for(var X=g-10;X>=0;X--)if(f.charCodeAt(X)!==36)return!1;return!0}function h(f,g,X){var v=f.source-g.source;return v!==0||(v=f.originalLine-g.originalLine,v!==0)||(v=f.originalColumn-g.originalColumn,v!==0||X)||(v=f.generatedColumn-g.generatedColumn,v!==0)||(v=f.generatedLine-g.generatedLine,v!==0)?v:f.name-g.name}e.compareByOriginalPositions=h;function b(f,g,X){var v=f.generatedLine-g.generatedLine;return v!==0||(v=f.generatedColumn-g.generatedColumn,v!==0||X)||(v=f.source-g.source,v!==0)||(v=f.originalLine-g.originalLine,v!==0)||(v=f.originalColumn-g.originalColumn,v!==0)?v:f.name-g.name}e.compareByGeneratedPositionsDeflated=b;function Z(f,g){return f===g?0:f>g?1:-1}function I(f,g){var X=f.generatedLine-g.generatedLine;return X!==0||(X=f.generatedColumn-g.generatedColumn,X!==0)||(X=Z(f.source,g.source),X!==0)||(X=f.originalLine-g.originalLine,X!==0)||(X=f.originalColumn-g.originalColumn,X!==0)?X:Z(f.name,g.name)}e.compareByGeneratedPositionsInflated=I}(Xn)),Xn}var Sn={},Tr;function ic(){return Tr||(Tr=1,function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(n,i,r,o,s,a){var l=Math.floor((i-n)/2)+n,c=s(r,o[l],!0);return c===0?l:c>0?i-l>1?t(l,i,r,o,s,a):a==e.LEAST_UPPER_BOUND?i<o.length?i:-1:l:l-n>1?t(n,l,r,o,s,a):a==e.LEAST_UPPER_BOUND?l:n<0?-1:n}e.search=function(i,r,o,s){if(r.length===0)return-1;var a=t(-1,r.length,i,r,o,s||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&o(r[a],r[a-1],!0)===0;)--a;return a}}(Sn)),Sn}var Rn={},Yr;function rc(){if(Yr)return Rn;Yr=1;var e=xr(),t=Object.prototype.hasOwnProperty;function n(){this._array=[],this._set=Object.create(null)}return n.fromArray=function(r,o){for(var s=new n,a=0,l=r.length;a<l;a++)s.add(r[a],o);return s},n.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(r,o){var s=e.toSetString(r),a=t.call(this._set,s),l=this._array.length;(!a||o)&&this._array.push(r),a||(this._set[s]=l)},n.prototype.has=function(r){var o=e.toSetString(r);return t.call(this._set,o)},n.prototype.indexOf=function(r){var o=e.toSetString(r);if(t.call(this._set,o))return this._set[o];throw new Error('"'+r+'" is not in the set.')},n.prototype.at=function(r){if(r>=0&&r<this._array.length)return this._array[r];throw new Error("No element indexed by "+r)},n.prototype.toArray=function(){return this._array.slice()},Rn.ArraySet=n,Rn}var Mt={},Bt={},Jr;function oc(){if(Jr)return Bt;Jr=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Bt.encode=function(t){if(0<=t&&t<e.length)return e[t];throw new TypeError("Must be between 0 and 63: "+t)},Bt.decode=function(t){var n=65,i=90,r=97,o=122,s=48,a=57,l=43,c=47,u=26,d=52;return n<=t&&t<=i?t-n:r<=t&&t<=o?t-r+u:s<=t&&t<=a?t-s+d:t==l?62:t==c?63:-1},Bt}var Fr;function sc(){if(Fr)return Mt;Fr=1;var e=oc(),t=5,n=1<<t,i=n-1,r=n;function o(a){return a<0?(-a<<1)+1:(a<<1)+0}function s(a){var l=(a&1)===1,c=a>>1;return l?-c:c}return Mt.encode=function(l){var c="",u,d=o(l);do u=d&i,d>>>=t,d>0&&(u|=r),c+=e.encode(u);while(d>0);return c},Mt.decode=function(l,c,u){var d=l.length,p=0,m=0,h,b;do{if(c>=d)throw new Error("Expected more digits in base 64 VLQ value.");if(b=e.decode(l.charCodeAt(c++)),b===-1)throw new Error("Invalid base64 digit: "+l.charAt(c-1));h=!!(b&r),b&=i,p=p+(b<<m),m+=t}while(h);u.value=s(p),u.rest=c},Mt}var Wn={},Ur;function ac(){if(Ur)return Wn;Ur=1;function e(i,r,o){var s=i[r];i[r]=i[o],i[o]=s}function t(i,r){return Math.round(i+Math.random()*(r-i))}function n(i,r,o,s){if(o<s){var a=t(o,s),l=o-1;e(i,a,s);for(var c=i[s],u=o;u<s;u++)r(i[u],c)<=0&&(l+=1,e(i,l,u));e(i,l+1,u);var d=l+1;n(i,r,o,d-1),n(i,r,d+1,s)}}return Wn.quickSort=function(i,r){n(i,r,0,i.length-1)},Wn}var Er;function lc(){if(Er)return Zt;Er=1;var e=xr(),t=ic(),n=rc().ArraySet,i=sc(),r=ac().quickSort;function o(c){var u=c;return typeof c=="string"&&(u=JSON.parse(c.replace(/^\)\]\}'/,""))),u.sections!=null?new l(u):new s(u)}o.fromSourceMap=function(c){return s.fromSourceMap(c)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),o.prototype._charIsMappingSeparator=function(u,d){var p=u.charAt(d);return p===";"||p===","},o.prototype._parseMappings=function(u,d){throw new Error("Subclasses must implement _parseMappings")},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(u,d,p){var m=d||null,h=p||o.GENERATED_ORDER,b;switch(h){case o.GENERATED_ORDER:b=this._generatedMappings;break;case o.ORIGINAL_ORDER:b=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var Z=this.sourceRoot;b.map(function(I){var f=I.source===null?null:this._sources.at(I.source);return f!=null&&Z!=null&&(f=e.join(Z,f)),{source:f,generatedLine:I.generatedLine,generatedColumn:I.generatedColumn,originalLine:I.originalLine,originalColumn:I.originalColumn,name:I.name===null?null:this._names.at(I.name)}},this).forEach(u,m)},o.prototype.allGeneratedPositionsFor=function(u){var d=e.getArg(u,"line"),p={source:e.getArg(u,"source"),originalLine:d,originalColumn:e.getArg(u,"column",0)};if(this.sourceRoot!=null&&(p.source=e.relative(this.sourceRoot,p.source)),!this._sources.has(p.source))return[];p.source=this._sources.indexOf(p.source);var m=[],h=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(h>=0){var b=this._originalMappings[h];if(u.column===void 0)for(var Z=b.originalLine;b&&b.originalLine===Z;)m.push({line:e.getArg(b,"generatedLine",null),column:e.getArg(b,"generatedColumn",null),lastColumn:e.getArg(b,"lastGeneratedColumn",null)}),b=this._originalMappings[++h];else for(var I=b.originalColumn;b&&b.originalLine===d&&b.originalColumn==I;)m.push({line:e.getArg(b,"generatedLine",null),column:e.getArg(b,"generatedColumn",null),lastColumn:e.getArg(b,"lastGeneratedColumn",null)}),b=this._originalMappings[++h]}return m},Zt.SourceMapConsumer=o;function s(c){var u=c;typeof c=="string"&&(u=JSON.parse(c.replace(/^\)\]\}'/,"")));var d=e.getArg(u,"version"),p=e.getArg(u,"sources"),m=e.getArg(u,"names",[]),h=e.getArg(u,"sourceRoot",null),b=e.getArg(u,"sourcesContent",null),Z=e.getArg(u,"mappings"),I=e.getArg(u,"file",null);if(d!=this._version)throw new Error("Unsupported version: "+d);p=p.map(String).map(e.normalize).map(function(f){return h&&e.isAbsolute(h)&&e.isAbsolute(f)?e.relative(h,f):f}),this._names=n.fromArray(m.map(String),!0),this._sources=n.fromArray(p,!0),this.sourceRoot=h,this.sourcesContent=b,this._mappings=Z,this.file=I}s.prototype=Object.create(o.prototype),s.prototype.consumer=o,s.fromSourceMap=function(u){var d=Object.create(s.prototype),p=d._names=n.fromArray(u._names.toArray(),!0),m=d._sources=n.fromArray(u._sources.toArray(),!0);d.sourceRoot=u._sourceRoot,d.sourcesContent=u._generateSourcesContent(d._sources.toArray(),d.sourceRoot),d.file=u._file;for(var h=u._mappings.toArray().slice(),b=d.__generatedMappings=[],Z=d.__originalMappings=[],I=0,f=h.length;I<f;I++){var g=h[I],X=new a;X.generatedLine=g.generatedLine,X.generatedColumn=g.generatedColumn,g.source&&(X.source=m.indexOf(g.source),X.originalLine=g.originalLine,X.originalColumn=g.originalColumn,g.name&&(X.name=p.indexOf(g.name)),Z.push(X)),b.push(X)}return r(d.__originalMappings,e.compareByOriginalPositions),d},s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){return this._sources.toArray().map(function(c){return this.sourceRoot!=null?e.join(this.sourceRoot,c):c},this)}});function a(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s.prototype._parseMappings=function(u,d){for(var p=1,m=0,h=0,b=0,Z=0,I=0,f=u.length,g=0,X={},v={},G=[],w=[],S,Y,T,J,Q;g<f;)if(u.charAt(g)===";")p++,g++,m=0;else if(u.charAt(g)===",")g++;else{for(S=new a,S.generatedLine=p,J=g;J<f&&!this._charIsMappingSeparator(u,J);J++);if(Y=u.slice(g,J),T=X[Y],T)g+=Y.length;else{for(T=[];g<J;)i.decode(u,g,v),Q=v.value,g=v.rest,T.push(Q);if(T.length===2)throw new Error("Found a source, but no line and column");if(T.length===3)throw new Error("Found a source and line, but no column");X[Y]=T}S.generatedColumn=m+T[0],m=S.generatedColumn,T.length>1&&(S.source=Z+T[1],Z+=T[1],S.originalLine=h+T[2],h=S.originalLine,S.originalLine+=1,S.originalColumn=b+T[3],b=S.originalColumn,T.length>4&&(S.name=I+T[4],I+=T[4])),w.push(S),typeof S.originalLine=="number"&&G.push(S)}r(w,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,r(G,e.compareByOriginalPositions),this.__originalMappings=G},s.prototype._findMapping=function(u,d,p,m,h,b){if(u[p]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+u[p]);if(u[m]<0)throw new TypeError("Column must be greater than or equal to 0, got "+u[m]);return t.search(u,d,h,b)},s.prototype.computeColumnSpans=function(){for(var u=0;u<this._generatedMappings.length;++u){var d=this._generatedMappings[u];if(u+1<this._generatedMappings.length){var p=this._generatedMappings[u+1];if(d.generatedLine===p.generatedLine){d.lastGeneratedColumn=p.generatedColumn-1;continue}}d.lastGeneratedColumn=1/0}},s.prototype.originalPositionFor=function(u){var d={generatedLine:e.getArg(u,"line"),generatedColumn:e.getArg(u,"column")},p=this._findMapping(d,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(u,"bias",o.GREATEST_LOWER_BOUND));if(p>=0){var m=this._generatedMappings[p];if(m.generatedLine===d.generatedLine){var h=e.getArg(m,"source",null);h!==null&&(h=this._sources.at(h),this.sourceRoot!=null&&(h=e.join(this.sourceRoot,h)));var b=e.getArg(m,"name",null);return b!==null&&(b=this._names.at(b)),{source:h,line:e.getArg(m,"originalLine",null),column:e.getArg(m,"originalColumn",null),name:b}}}return{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(u){return u==null}):!1},s.prototype.sourceContentFor=function(u,d){if(!this.sourcesContent)return null;if(this.sourceRoot!=null&&(u=e.relative(this.sourceRoot,u)),this._sources.has(u))return this.sourcesContent[this._sources.indexOf(u)];var p;if(this.sourceRoot!=null&&(p=e.urlParse(this.sourceRoot))){var m=u.replace(/^file:\/\//,"");if(p.scheme=="file"&&this._sources.has(m))return this.sourcesContent[this._sources.indexOf(m)];if((!p.path||p.path=="/")&&this._sources.has("/"+u))return this.sourcesContent[this._sources.indexOf("/"+u)]}if(d)return null;throw new Error('"'+u+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(u){var d=e.getArg(u,"source");if(this.sourceRoot!=null&&(d=e.relative(this.sourceRoot,d)),!this._sources.has(d))return{line:null,column:null,lastColumn:null};d=this._sources.indexOf(d);var p={source:d,originalLine:e.getArg(u,"line"),originalColumn:e.getArg(u,"column")},m=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(u,"bias",o.GREATEST_LOWER_BOUND));if(m>=0){var h=this._originalMappings[m];if(h.source===p.source)return{line:e.getArg(h,"generatedLine",null),column:e.getArg(h,"generatedColumn",null),lastColumn:e.getArg(h,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Zt.BasicSourceMapConsumer=s;function l(c){var u=c;typeof c=="string"&&(u=JSON.parse(c.replace(/^\)\]\}'/,"")));var d=e.getArg(u,"version"),p=e.getArg(u,"sections");if(d!=this._version)throw new Error("Unsupported version: "+d);this._sources=new n,this._names=new n;var m={line:-1,column:0};this._sections=p.map(function(h){if(h.url)throw new Error("Support for url field in sections not implemented.");var b=e.getArg(h,"offset"),Z=e.getArg(b,"line"),I=e.getArg(b,"column");if(Z<m.line||Z===m.line&&I<m.column)throw new Error("Section offsets must be ordered and non-overlapping.");return m=b,{generatedOffset:{generatedLine:Z+1,generatedColumn:I+1},consumer:new o(e.getArg(h,"map"))}})}return l.prototype=Object.create(o.prototype),l.prototype.constructor=o,l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){for(var c=[],u=0;u<this._sections.length;u++)for(var d=0;d<this._sections[u].consumer.sources.length;d++)c.push(this._sections[u].consumer.sources[d]);return c}}),l.prototype.originalPositionFor=function(u){var d={generatedLine:e.getArg(u,"line"),generatedColumn:e.getArg(u,"column")},p=t.search(d,this._sections,function(h,b){var Z=h.generatedLine-b.generatedOffset.generatedLine;return Z||h.generatedColumn-b.generatedOffset.generatedColumn}),m=this._sections[p];return m?m.consumer.originalPositionFor({line:d.generatedLine-(m.generatedOffset.generatedLine-1),column:d.generatedColumn-(m.generatedOffset.generatedLine===d.generatedLine?m.generatedOffset.generatedColumn-1:0),bias:u.bias}):{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(u){return u.consumer.hasContentsOfAllSources()})},l.prototype.sourceContentFor=function(u,d){for(var p=0;p<this._sections.length;p++){var m=this._sections[p],h=m.consumer.sourceContentFor(u,!0);if(h)return h}if(d)return null;throw new Error('"'+u+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(u){for(var d=0;d<this._sections.length;d++){var p=this._sections[d];if(p.consumer.sources.indexOf(e.getArg(u,"source"))!==-1){var m=p.consumer.generatedPositionFor(u);if(m){var h={line:m.line+(p.generatedOffset.generatedLine-1),column:m.column+(p.generatedOffset.generatedLine===m.line?p.generatedOffset.generatedColumn-1:0)};return h}}}return{line:null,column:null}},l.prototype._parseMappings=function(u,d){this.__generatedMappings=[],this.__originalMappings=[];for(var p=0;p<this._sections.length;p++)for(var m=this._sections[p],h=m.consumer._generatedMappings,b=0;b<h.length;b++){var Z=h[b],I=m.consumer._sources.at(Z.source);m.consumer.sourceRoot!==null&&(I=e.join(m.consumer.sourceRoot,I)),this._sources.add(I),I=this._sources.indexOf(I);var f=m.consumer._names.at(Z.name);this._names.add(f),f=this._names.indexOf(f);var g={source:I,generatedLine:Z.generatedLine+(m.generatedOffset.generatedLine-1),generatedColumn:Z.generatedColumn+(m.generatedOffset.generatedLine===Z.generatedLine?m.generatedOffset.generatedColumn-1:0),originalLine:Z.originalLine,originalColumn:Z.originalColumn,name:f};this.__generatedMappings.push(g),typeof g.originalLine=="number"&&this.__originalMappings.push(g)}r(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),r(this.__originalMappings,e.compareByOriginalPositions)},Zt.IndexedSourceMapConsumer=l,Zt}var Kr;function cc(){return Kr||(Kr=1,function(e,t){(function(n,i){e.exports=i(lc(),cn())})($,function(n,i){function r(p){return new Promise(function(m,h){var b=new XMLHttpRequest;b.open("get",p),b.onerror=h,b.onreadystatechange=function(){b.readyState===4&&(b.status>=200&&b.status<300||p.substr(0,7)==="file://"&&b.responseText?m(b.responseText):h(new Error("HTTP status: "+b.status+" retrieving "+p)))},b.send()})}function o(p){if(typeof window!="undefined"&&window.atob)return window.atob(p);throw new Error("You must supply a polyfill for window.atob in this environment")}function s(p){if(typeof JSON!="undefined"&&JSON.parse)return JSON.parse(p);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function a(p,m){for(var h=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],b=p.split(`
`),Z="",I=Math.min(m,20),f=0;f<I;++f){var g=b[m-f-1],X=g.indexOf("//");if(X>=0&&(g=g.substr(0,X)),g){Z=g+Z;for(var v=h.length,G=0;G<v;G++){var w=h[G].exec(Z);if(w&&w[1])return w[1]}}}}function l(){if(typeof Object.defineProperty!="function"||typeof Object.create!="function")throw new Error("Unable to consume source maps in older browsers")}function c(p){if(typeof p!="object")throw new TypeError("Given StackFrame is not an object");if(typeof p.fileName!="string")throw new TypeError("Given file name is not a String");if(typeof p.lineNumber!="number"||p.lineNumber%1!==0||p.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if(typeof p.columnNumber!="number"||p.columnNumber%1!==0||p.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function u(p){for(var m=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/mg,h,b;b=m.exec(p);)h=b[1];if(h)return h;throw new Error("sourceMappingURL not found")}function d(p,m,h){return new Promise(function(b,Z){var I=m.originalPositionFor({line:p.lineNumber,column:p.columnNumber});if(I.source){var f=m.sourceContentFor(I.source);f&&(h[I.source]=f),b(new i({functionName:I.name||p.functionName,args:p.args,fileName:I.source,lineNumber:I.line,columnNumber:I.column}))}else Z(new Error("Could not get original source for given stackframe and source map"))})}return function p(m){if(!(this instanceof p))return new p(m);m=m||{},this.sourceCache=m.sourceCache||{},this.sourceMapConsumerCache=m.sourceMapConsumerCache||{},this.ajax=m.ajax||r,this._atob=m.atob||o,this._get=function(b){return new Promise(function(Z,I){var f=b.substr(0,5)==="data:";if(this.sourceCache[b])Z(this.sourceCache[b]);else if(m.offline&&!f)I(new Error("Cannot make network requests in offline mode"));else if(f){var g=/^data:application\/json;([\w=:"-]+;)*base64,/,X=b.match(g);if(X){var v=X[0].length,G=b.substr(v),w=this._atob(G);this.sourceCache[b]=w,Z(w)}else I(new Error("The encoding of the inline sourcemap is not supported"))}else{var S=this.ajax(b,{method:"get"});this.sourceCache[b]=S,S.then(Z,I)}}.bind(this))},this._getSourceMapConsumer=function(b,Z){return new Promise(function(I){if(this.sourceMapConsumerCache[b])I(this.sourceMapConsumerCache[b]);else{var f=new Promise(function(g,X){return this._get(b).then(function(v){typeof v=="string"&&(v=s(v.replace(/^\)\]\}'/,""))),typeof v.sourceRoot=="undefined"&&(v.sourceRoot=Z),g(new n.SourceMapConsumer(v))},X)}.bind(this));this.sourceMapConsumerCache[b]=f,I(f)}}.bind(this))},this.pinpoint=function(b){return new Promise(function(Z,I){this.getMappedLocation(b).then(function(f){function g(){Z(f)}this.findFunctionName(f).then(Z,g).catch(g)}.bind(this),I)}.bind(this))},this.findFunctionName=function(b){return new Promise(function(Z,I){c(b),this._get(b.fileName).then(function(g){var X=b.lineNumber,v=b.columnNumber,G=a(g,X);Z(G?new i({functionName:G,args:b.args,fileName:b.fileName,lineNumber:X,columnNumber:v}):b)},I).catch(I)}.bind(this))},this.getMappedLocation=function(b){return new Promise(function(Z,I){l(),c(b);var f=this.sourceCache,g=b.fileName;this._get(g).then(function(X){var v=u(X),G=v.substr(0,5)==="data:",w=g.substring(0,g.lastIndexOf("/")+1);return v[0]!=="/"&&!G&&!/^https?:\/\/|^\/\//i.test(v)&&(v=w+v),this._getSourceMapConsumer(v,w).then(function(S){return d(b,S,f).then(Z).catch(function(){Z(b)})})}.bind(this),I).catch(I)}.bind(this))}}})}(Gn)),Gn.exports}(function(e,t){(function(n,i){e.exports=i(an.exports,nc(),cc())})($,function(i,r,o){var s={filter:function(d){return(d.functionName||"").indexOf("StackTrace$$")===-1&&(d.functionName||"").indexOf("ErrorStackParser$$")===-1&&(d.functionName||"").indexOf("StackTraceGPS$$")===-1&&(d.functionName||"").indexOf("StackGenerator$$")===-1},sourceCache:{}},a=function(){try{throw new Error}catch(p){return p}};function l(d,p){var m={};return[d,p].forEach(function(h){for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(m[b]=h[b]);return m}),m}function c(d){return d.stack||d["opera#sourceloc"]}function u(d,p){return typeof p=="function"?d.filter(p):d}return{get:function(p){var m=a();return c(m)?this.fromError(m,p):this.generateArtificially(p)},getSync:function(p){p=l(s,p);var m=a(),h=c(m)?i.parse(m):r.backtrace(p);return u(h,p.filter)},fromError:function(p,m){m=l(s,m);var h=new o(m);return new Promise(function(b){var Z=u(i.parse(p),m.filter);b(Promise.all(Z.map(function(I){return new Promise(function(f){function g(){f(I)}h.pinpoint(I).then(f,g).catch(g)})})))}.bind(this))},generateArtificially:function(p){p=l(s,p);var m=r.backtrace(p);return typeof p.filter=="function"&&(m=m.filter(p.filter)),Promise.resolve(m)},instrument:function(p,m,h,b){if(typeof p!="function")throw new Error("Cannot instrument non-function object");if(typeof p.__stacktraceOriginalFn=="function")return p;var Z=function(){try{return this.get().then(m,h).catch(h),p.apply(b||this,arguments)}catch(f){throw c(f)&&this.fromError(f).then(m,h).catch(h),f}}.bind(this);return Z.__stacktraceOriginalFn=p,Z},deinstrument:function(p){if(typeof p!="function")throw new Error("Cannot de-instrument non-function object");return typeof p.__stacktraceOriginalFn=="function"?p.__stacktraceOriginalFn:p},report:function(p,m,h,b){return new Promise(function(Z,I){var f=new XMLHttpRequest;if(f.onerror=I,f.onreadystatechange=function(){f.readyState===4&&(f.status>=200&&f.status<400?Z(f.responseText):I(new Error("POST to "+m+" failed with status: "+f.status)))},f.open("post",m),f.setRequestHeader("Content-Type","application/json"),b&&typeof b.headers=="object"){var g=b.headers;for(var X in g)Object.prototype.hasOwnProperty.call(g,X)&&f.setRequestHeader(X,g[X])}var v={stack:p};h!=null&&(v.message=h),f.send(JSON.stringify(v))})}}})})(Lr);var uc=Lr.exports;const dc=e=>{let t;const n=()=>{clearTimeout(t),t=setTimeout(()=>{e({height:window.innerHeight,width:window.innerWidth})},500)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)};var se=(e=>(e.RECORDING_START_TIME="highlightRecordingStartTime",e.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",e.SESSION_DATA="sessionData",e.SESSION_SECURE_ID="sessionSecureID",e.USER_IDENTIFIER="highlightIdentifier",e.USER_OBJECT="highlightUserObject",e.PAYLOAD_ID="payloadId",e))(se||{}),pc=(e=>(e.USER_ID="ajs_user_id",e.USER_TRAITS="ajs_user_traits",e.ANONYMOUS_ID="ajs_anonymous_id",e))(pc||{});const hc=e=>{e(window.location.href);var t=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(o){setTimeout(()=>{var s,a;try{a=JSON.parse((s=o==null?void 0:o.toString())!=null?s:"")}catch(l){return}(a.type==="track"||a.type==="identify")&&Cn(a)&&e(a)},100),t.call(this,o)};const n=o=>{if(o.key==="ajs_user_id"||o.key==="ajs_anonymous_id"||o.key==="ajs_user_traits"){const{userId:s,userTraits:a}=Hr();if(s){let l={};a&&(l=JSON.parse(a));const c={type:"identify",userId:s.toString(),traits:l};Cn(c)&&e(c)}}},{userId:i,userTraits:r}=Hr();if(i){let o={};r&&(o=JSON.parse(r));const s={type:"identify",userId:i.toString(),traits:o};Cn(s)&&e(s)}return window.addEventListener("storage",n),mc(({keyName:o})=>{n({key:o})}),()=>{window.removeEventListener("storage",n),XMLHttpRequest.prototype.send=t}},Hr=()=>{const e=window.localStorage.getItem("ajs_user_id"),t=window.localStorage.getItem("ajs_user_traits"),n=window.localStorage.getItem("ajs_anonymous_id");return{userId:e,userTraits:t,anonymousId:n}},mc=e=>{const t=window.localStorage.setItem;window.localStorage.setItem=function(){const[n,i]=arguments;e({keyName:n,keyValue:i}),t.apply(this,[n,i])}},Cn=e=>{if(!Boolean(e))return!1;let t="";try{t=JSON.stringify(e)}catch(r){return!1}const n=bc(t),i=window.sessionStorage.getItem(se.SEGMENT_LAST_SENT_HASH_KEY);return i===void 0||n!==i?(window.sessionStorage.setItem(se.SEGMENT_LAST_SENT_HASH_KEY,n),!0):!1},bc=e=>{var t=0,n=e.length,i=0;if(n>0)for(;i<n;)t=(t<<5)-t+e.charCodeAt(i++)|0;return t.toString()};var fc=(e=>(e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One",e))(fc||{});function Or(e,t){return yc(e)}function zr(e){if(e.id.length)return`#${e.id}`;if(e.classList.length){let t=[];for(const n of e.classList)t.push(`.${n}`);return`${e.nodeName.toLowerCase()}${t.join(",")}`}return e.nodeName.toLowerCase()}const yc=e=>{let t="";const n=e.getAttribute("class"),i=e.getAttribute("id");return i&&(t=t.concat(Pr(i,"#"))),n&&(t=t.concat(Pr(n,"."))),t===""&&(t=t.concat(e.tagName.toLowerCase())),t},Pr=(e,t)=>`${t}${e.trim().split(" ").join(t)}`,gc=e=>{const t=n=>{if(n.target){const i=n.target,r=Or(i);e(r,n)}};return window.addEventListener("click",t),()=>window.removeEventListener("click",t)},Zc=e=>{const t=n=>{if(n.target){const i=Or(n.target);e(i)}};return window.addEventListener("focusin",t),()=>window.removeEventListener("focusin",t)};var Ic=(e,t)=>{const n=vc(e);let i=[];const r=!1,o=!0;for(let s=0;s<n.length;s++){let a=n[s].split("+");i=[],a.length>1&&(i=Xc(Br,a)),a=a[a.length-1],a=a==="*"?"*":Gc(a),a in Le||(Le[a]=[]),Le[a].push({mods:i,shortcut:n[s],key:n[s],method:t,keyup:r,keydown:o,scope:"all",splitKey:"+"})}Sc(document,"keydown",s=>{Wc(s)})};let ye=[];function vc(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}const Le={},kn=typeof navigator!="undefined"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1,Vc={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":kn?173:189,"=":kn?61:187,";":kn?59:186,"'":222,"[":219,"]":221,"\\":220},Mr={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ge={16:!1,18:!1,17:!1,91:!1},Br={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Gc=e=>Vc[e.toLowerCase()]||Br[e.toLowerCase()]||e.toUpperCase().charCodeAt(0);function Xc(e,t){const n=t.slice(0,t.length-1);for(let i=0;i<n.length;i++)n[i]=e[n[i].toLowerCase()];return n}function Sc(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent(`on${t}`,()=>{n(window.event)})}function Rc(e,t,n){let i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(const r in ge)Object.prototype.hasOwnProperty.call(ge,r)&&(!ge[r]&&t.mods.indexOf(+r)>-1||ge[r]&&t.mods.indexOf(+r)===-1)&&(i=!1);(t.mods.length===0&&!ge[16]&&!ge[18]&&!ge[17]&&!ge[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function Wc(e){const t=Le["*"];let n=e.keyCode||e.which||e.charCode;if((n===93||n===224)&&(n=91),ye.indexOf(n)===-1&&n!==229&&ye.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(i=>{const r=Mr[i];e[i]&&ye.indexOf(r)===-1?ye.push(r):!e[i]&&ye.indexOf(r)>-1?ye.splice(ye.indexOf(r),1):i==="metaKey"&&e[i]&&ye.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(ye=ye.slice(ye.indexOf(r))))}),!(n in ge&&(ge[n]=!0,!t))){for(const i in ge)Object.prototype.hasOwnProperty.call(ge,i)&&(ge[i]=e[Mr[i]]);if(e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(ye.indexOf(17)===-1&&ye.push(17),ye.indexOf(18)===-1&&ye.push(18),ge[17]=!0,ge[18]=!0),n in Le){for(let i=0;i<Le[n].length;i++)if((e.type==="keydown"&&Le[n][i].keydown||e.type==="keyup"&&Le[n][i].keyup)&&Le[n][i].key){const r=Le[n][i];Rc(e,r,"all")}}}}const Cc=e=>{const t=document.createElement("script");return t.src="https://static.highlight.io/web-vitals.iife.js",t.onload=function(){var n,i,r,o,s;(n=window==null?void 0:window.webVitals)==null||n.getCLS(e),(i=window==null?void 0:window.webVitals)==null||i.getFCP(e),(r=window==null?void 0:window.webVitals)==null||r.getFID(e),(o=window==null?void 0:window.webVitals)==null||o.getLCP(e),(s=window==null?void 0:window.webVitals)==null||s.getTTFB(e)},document.head.appendChild(t),()=>{document.head.removeChild(t)}},kc="highlight-feedback-container",Ar="highlight-form-container",Lc=e=>{const{subTitle:t="We appreciate your feedback!",submitButtonLabel:n="Send Feedback",title:i="Got Feedback?",onSubmit:r,onCancel:o}=e,s=Ec(kc),a=Kc(Ar),l=document.createElement("div");l.id="highlight-header-container";const c=Fc(i),u=Uc(t);[c,u].forEach(g=>{l.appendChild(g)});const d=jr("text","Ada Lovelace","highlight-name-input"),p=jr("email","ada@lovelace.org","highlight-email-input"),m=Yc("highlight-verbatim-input"),h=()=>{if(document.body.querySelector(`#${Ar}`))s.removeChild(a);else{s.appendChild(a);const{userName:g,userEmail:X}=Oc();g&&(d.value=g),X&&(p.value=X)}},b=Nc(g=>{var X;g.preventDefault(),(X=window==null?void 0:window.H)!=null&&X.addSessionFeedback&&window.H.addSessionFeedback({verbatim:m.value,userEmail:p.value,userName:d.value}),h(),r&&r(d.value,p.value,m.value)},()=>{h(),o&&o()}),Z=Jc(n),I=xc();[l,d,p,m,Z].forEach(g=>{b.appendChild(g)}),a.appendChild(b),a.appendChild(I);const f=Hc(h);return s.appendChild(f),document.body.appendChild(s),{onToggleFeedbackFormVisibility:h}},Dr=e=>{e.style.setProperty("border","0"),e.style.setProperty("border-radius","8px"),e.style.setProperty("font-size","14px"),e.style.setProperty("padding","16px"),e.style.setProperty("width","100%"),e.style.setProperty("background-color","#f2f2f2"),e.style.setProperty("color","#111111"),e.style.setProperty("outline","none")},wc=e=>{e.style.setProperty("align-items","center"),e.style.setProperty("display","flex"),e.style.setProperty("justify-content","center"),e.style.setProperty("min-height","40px"),e.style.setProperty("height","auto"),e.style.setProperty("padding-bottom","8px"),e.style.setProperty("padding-top","8px"),e.style.setProperty("color","white"),e.style.setProperty("background","#5629c6"),e.style.setProperty("text-shadow","none"),e.style.setProperty("box-shadow","none"),e.style.setProperty("padding","4px 16px"),e.style.setProperty("font-size","14px"),e.style.setProperty("border-radius","8px"),e.style.setProperty("border","0"),e.style.setProperty("cursor","pointer")},Nc=(e,t)=>{const n=document.createElement("form");n.id="highlight-form",n.style.setProperty("position","fixed"),n.style.setProperty("z-index","10"),n.style.setProperty("transform","translate(-50%, -50%)"),n.style.setProperty("top","50%"),n.style.setProperty("left","50%"),n.style.setProperty("background","white"),n.style.setProperty("width","400px"),n.style.setProperty("box-shadow","0 3px 6px -4px rgb(0 0 0 / 12%), 0 6px 16px 0 rgb(0 0 0 / 8%), 0 9px 28px 8px rgb(0 0 0 / 5%)"),n.style.setProperty("padding","32px"),n.style.setProperty("padding-top","24px"),n.style.setProperty("border-radius","8px"),n.style.setProperty("border","1px solid #eaeaea"),n.style.setProperty("display","flex"),n.style.setProperty("flex-direction","column"),n.style.setProperty("row-gap","24px"),n.addEventListener("submit",e);const i=Tc(t);return n.appendChild(i),n},xc=()=>{const e=document.createElement("div");return e.id="highlight-backdrop",e.style.setProperty("position","fixed"),e.style.setProperty("top","0"),e.style.setProperty("left","0"),e.style.setProperty("width","100vw"),e.style.setProperty("height","100vh"),e.style.setProperty("background","hsl(0deg 0% 0% / 75%)"),e},Tc=e=>{const t=document.createElement("button");return t.style.setProperty("border","0"),t.style.setProperty("background","none"),t.style.setProperty("height","32px"),t.style.setProperty("width","32px"),t.style.setProperty("position","absolute"),t.style.setProperty("top","8px"),t.style.setProperty("right","12px"),t.style.setProperty("cursor","pointer"),t.style.setProperty("padding","0"),t.style.setProperty("display","flex"),t.style.setProperty("align-items","center"),t.style.setProperty("justify-content","center"),t.innerHTML=`<svg width="24" height="24" fill="none" viewBox="0 0 24 24">
    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.25 6.75L6.75 17.25"></path>
    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6.75 6.75L17.25 17.25"></path>
  </svg>
  `,t.addEventListener("click",e),t},jr=(e,t,n)=>{const i=document.createElement("input");return i.type=e,i.id=n,i.placeholder=t,i.style.setProperty("height","40px"),Dr(i),i},Yc=e=>{const t=document.createElement("textarea");return t.id=e,Dr(t),t},Jc=e=>{const t=document.createElement("input");return t.id="highlight-form-submit-button",wc(t),t.type="submit",t.value=e,t},Fc=e=>{const t=document.createElement("h1");return t.id="highlight-form-title",t.innerText=e,t.style.setProperty("font-size","24px"),t.style.setProperty("margin","0"),t.style.setProperty("font-weight","500"),t},Uc=e=>{const t=document.createElement("h2");return t.id="highlight-form-sub-title",t.innerText=e,t.style.setProperty("font-size","16px"),t.style.setProperty("margin","0 !important"),t.style.setProperty("margin-top","8px","important"),t.style.setProperty("margin-bottom","0px","important"),t.style.setProperty("font-weight","400"),t.style.setProperty("color","#828282","important"),t},Ec=e=>{const t=document.createElement("div");return t.id=e,t.style.setProperty("position","fixed"),t.style.setProperty("z-index","2147483001"),t.style.setProperty("bottom","20px"),t.style.setProperty("right","20px"),t.style.setProperty("font-family","'Steradian', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif"),t},Kc=e=>{const t=document.createElement("div");return t.id=e,t},Hc=e=>{const t=document.createElement("button");return t.id="highlight-feedback-launcher-button",t.style.setProperty("border","0"),t.style.setProperty("z-index","10"),t.style.setProperty("position","relative"),t.style.setProperty("height","60px"),t.style.setProperty("width","60px"),t.style.setProperty("border-radius","50%"),t.style.setProperty("background","linear-gradient(180deg, #5629C6 0%, #321873 100%)"),t.style.setProperty("box-shadow","0 3px 6px -4px rgb(0 0 0 / 12%), 0 6px 16px 0 rgb(0 0 0 / 8%), 0 9px 28px 8px rgb(0 0 0 / 5%)"),t.style.setProperty("cursor","pointer"),t.style.setProperty("padding","17px"),t.addEventListener("click",e),t.innerHTML=`<svg width="83" height="83" viewBox="0 0 83 83" fill="none" xmlns="http://www.w3.org/2000/svg" style="height: 100%; width: 100%;">
    <path d="M18.8448 1.78645L8.82205 1.81786C4.82839 1.83038 1.60104 5.07803 1.61356 9.07168L1.81847 74.4451C1.83099 78.4388 5.07864 81.6661 9.07229 81.6536L45.4291 81.5396L18.8448 1.78645Z" fill="white"/>
    <path d="M64.987 81.4783L37.0749 1.72931L74.1955 1.61295C78.1891 1.60043 81.4368 4.82778 81.4493 8.82144L81.6542 74.1949C81.6667 78.1885 78.4394 81.4362 74.4457 81.4487L64.987 81.4783Z" fill="white"/>
    </svg>`,t},Oc=()=>{let e="",t="";const n=window.sessionStorage.getItem(se.USER_IDENTIFIER);n&&n.includes("@")&&(t=n);const i=window.sessionStorage.getItem(se.USER_OBJECT);if(i)try{const r=JSON.parse(i),o=r.name||r.Name,s=r.email||r.Email;o&&(e=o),s&&(t=s)}catch(r){}return{userName:e,userEmail:t}},zc=()=>{if(!("performance"in window&&"memory"in performance))return{getDeviceDetails:void 0,getCurrentDeviceDetails:void 0};const e=window.performance;return{getDeviceDetails:()=>({deviceMemory:Pc(navigator.deviceMemory||0)}),getCurrentDeviceDetails:()=>{const t=Ln(e.memory.jsHeapSizeLimit),n=Ln(e.memory.totalJSHeapSize),i=Ln(e.memory.usedJSHeapSize);return{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:i}}}},Ln=e=>e/Math.pow(1e3,2),Pc=e=>1024*e;var Qr="3.3.5";function et(e,t){return new Promise(function(n){return setTimeout(n,e,t)})}function Mc(e,t){t===void 0&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise(function(i){return n.call(window,function(){return i()},{timeout:t})}):et(Math.min(e,t))}function Bc(e){return e&&typeof e.then=="function"}function _r(e,t){try{var n=e();Bc(n)?n.then(function(i){return t(!0,i)},function(i){return t(!1,i)}):t(!0,n)}catch(i){t(!1,i)}}function $r(e,t,n){return n===void 0&&(n=16),Ne(this,void 0,void 0,function(){var i,r,o;return ke(this,function(s){switch(s.label){case 0:i=Date.now(),r=0,s.label=1;case 1:return r<e.length?(t(e[r],r),o=Date.now(),o>=i+n?(i=o,[4,et(0)]):[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return++r,[3,1];case 4:return[2]}})})}function wn(e){e.then(void 0,function(){})}function Fe(e,t){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535],t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function Ge(e,t){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535],t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function tt(e,t){return t%=64,t===32?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function Ve(e,t){return t%=64,t===0?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function re(e,t){return[e[0]^t[0],e[1]^t[1]]}function qr(e){return e=re(e,[0,e[0]>>>1]),e=Ge(e,[4283543511,3981806797]),e=re(e,[0,e[0]>>>1]),e=Ge(e,[3301882366,444984403]),e=re(e,[0,e[0]>>>1]),e}function Ac(e,t){e=e||"",t=t||0;var n=e.length%16,i=e.length-n,r=[0,t],o=[0,t],s=[0,0],a=[0,0],l=[2277735313,289559509],c=[1291169091,658871167],u;for(u=0;u<i;u=u+16)s=[e.charCodeAt(u+4)&255|(e.charCodeAt(u+5)&255)<<8|(e.charCodeAt(u+6)&255)<<16|(e.charCodeAt(u+7)&255)<<24,e.charCodeAt(u)&255|(e.charCodeAt(u+1)&255)<<8|(e.charCodeAt(u+2)&255)<<16|(e.charCodeAt(u+3)&255)<<24],a=[e.charCodeAt(u+12)&255|(e.charCodeAt(u+13)&255)<<8|(e.charCodeAt(u+14)&255)<<16|(e.charCodeAt(u+15)&255)<<24,e.charCodeAt(u+8)&255|(e.charCodeAt(u+9)&255)<<8|(e.charCodeAt(u+10)&255)<<16|(e.charCodeAt(u+11)&255)<<24],s=Ge(s,l),s=tt(s,31),s=Ge(s,c),r=re(r,s),r=tt(r,27),r=Fe(r,o),r=Fe(Ge(r,[0,5]),[0,1390208809]),a=Ge(a,c),a=tt(a,33),a=Ge(a,l),o=re(o,a),o=tt(o,31),o=Fe(o,r),o=Fe(Ge(o,[0,5]),[0,944331445]);switch(s=[0,0],a=[0,0],n){case 15:a=re(a,Ve([0,e.charCodeAt(u+14)],48));case 14:a=re(a,Ve([0,e.charCodeAt(u+13)],40));case 13:a=re(a,Ve([0,e.charCodeAt(u+12)],32));case 12:a=re(a,Ve([0,e.charCodeAt(u+11)],24));case 11:a=re(a,Ve([0,e.charCodeAt(u+10)],16));case 10:a=re(a,Ve([0,e.charCodeAt(u+9)],8));case 9:a=re(a,[0,e.charCodeAt(u+8)]),a=Ge(a,c),a=tt(a,33),a=Ge(a,l),o=re(o,a);case 8:s=re(s,Ve([0,e.charCodeAt(u+7)],56));case 7:s=re(s,Ve([0,e.charCodeAt(u+6)],48));case 6:s=re(s,Ve([0,e.charCodeAt(u+5)],40));case 5:s=re(s,Ve([0,e.charCodeAt(u+4)],32));case 4:s=re(s,Ve([0,e.charCodeAt(u+3)],24));case 3:s=re(s,Ve([0,e.charCodeAt(u+2)],16));case 2:s=re(s,Ve([0,e.charCodeAt(u+1)],8));case 1:s=re(s,[0,e.charCodeAt(u)]),s=Ge(s,l),s=tt(s,31),s=Ge(s,c),r=re(r,s)}return r=re(r,[0,e.length]),o=re(o,[0,e.length]),r=Fe(r,o),o=Fe(o,r),r=qr(r),o=qr(o),r=Fe(r,o),o=Fe(o,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}function Dc(e){var t;return yt({name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split(`
`)},e)}function jc(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return!0;return!1}function Qc(e,t){return!jc(e,t)}function Nn(e){return parseInt(e)}function We(e){return parseFloat(e)}function xe(e,t){return typeof e=="number"&&isNaN(e)?t:e}function Ce(e){return e.reduce(function(t,n){return t+(n?1:0)},0)}function eo(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function _c(e){for(var t,n,i="Unexpected syntax '"+e+"'",r=/^\s*([a-z-]*)(.*)$/i.exec(e),o=r[1]||void 0,s={},a=/([.:#][\w-]+|\[.+?\])/gi,l=function(p,m){s[p]=s[p]||[],s[p].push(m)};;){var c=a.exec(r[2]);if(!c)break;var u=c[0];switch(u[0]){case".":l("class",u.slice(1));break;case"#":l("id",u.slice(1));break;case"[":{var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(u);if(d)l(d[1],(n=(t=d[4])!==null&&t!==void 0?t:d[5])!==null&&n!==void 0?n:"");else throw new Error(i);break}default:throw new Error(i)}}return[o,s]}function to(e){return e&&typeof e=="object"&&"message"in e?e:{message:e}}function $c(e){return typeof e!="function"}function qc(e,t){var n=new Promise(function(i){var r=Date.now();_r(e.bind(null,t),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=Date.now()-r;if(!o[0])return i(function(){return{error:to(o[1]),duration:a}});var l=o[1];if($c(l))return i(function(){return{value:l,duration:a}});i(function(){return new Promise(function(c){var u=Date.now();_r(l,function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var m=a+Date.now()-u;if(!d[0])return c({error:to(d[1]),duration:m});c({value:d[1],duration:m})})})})})});return wn(n),function(){return n.then(function(r){return r()})}}function eu(e,t,n){var i=Object.keys(e).filter(function(o){return Qc(n,o)}),r=Array(i.length);return $r(i,function(o,s){r[s]=qc(e[o],t)}),function(){return Ne(this,void 0,void 0,function(){var s,a,l,c,u,d,p;return ke(this,function(m){switch(m.label){case 0:for(s={},a=0,l=i;a<l.length;a++)c=l[a],s[c]=void 0;u=Array(i.length),d=function(){var h;return ke(this,function(b){switch(b.label){case 0:return h=!0,[4,$r(i,function(Z,I){if(!u[I])if(r[I]){var f=r[I]().then(function(g){return s[Z]=g});wn(f),u[I]=f}else h=!1})];case 1:return b.sent(),h?[2,"break"]:[4,et(1)];case 2:return b.sent(),[2]}})},m.label=1;case 1:return[5,d()];case 2:if(p=m.sent(),p==="break")return[3,4];m.label=3;case 3:return[3,1];case 4:return[4,Promise.all(u)];case 5:return m.sent(),[2,s]}})})}}function no(){var e=window,t=navigator;return Ce(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function tu(){var e=window,t=navigator;return Ce(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!no()}function xn(){var e=window,t=navigator;return Ce(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,t.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function It(){var e=window,t=navigator;return Ce(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function Tn(){var e=window;return Ce(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function nu(){var e,t,n=window;return Ce(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function iu(){var e=window;return Ce([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function ru(){var e=window;return Ce(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function ou(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return Ce(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function su(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function au(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function io(){var e=xn(),t=nu();if(!e&&!t)return!1;var n=window;return Ce(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function lu(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(cu())return-1;var n=4500,i=5e3,r=new t(1,i,44100),o=r.createOscillator();o.type="triangle",o.frequency.value=1e4;var s=r.createDynamicsCompressor();s.threshold.value=-50,s.knee.value=40,s.ratio.value=12,s.attack.value=0,s.release.value=.25,o.connect(s),s.connect(r.destination),o.start(0);var a=uu(r),l=a[0],c=a[1],u=l.then(function(d){return du(d.getChannelData(0).subarray(n))},function(d){if(d.name==="timeout"||d.name==="suspended")return-3;throw d});return wn(u),function(){return c(),u}}function cu(){return It()&&!Tn()&&!ru()}function uu(e){var t=3,n=500,i=500,r=5e3,o=function(){},s=new Promise(function(a,l){var c=!1,u=0,d=0;e.oncomplete=function(h){return a(h.renderedBuffer)};var p=function(){setTimeout(function(){return l(ro("timeout"))},Math.min(i,d+r-Date.now()))},m=function(){try{switch(e.startRendering(),e.state){case"running":d=Date.now(),c&&p();break;case"suspended":document.hidden||u++,c&&u>=t?l(ro("suspended")):setTimeout(m,n);break}}catch(h){l(h)}};m(),o=function(){c||(c=!0,d>0&&p())}});return[s,o]}function du(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}function ro(e){var t=new Error(e);return t.name=e,t}function oo(e,t,n){var i,r,o;return n===void 0&&(n=50),Ne(this,void 0,void 0,function(){var s,a;return ke(this,function(l){switch(l.label){case 0:s=document,l.label=1;case 1:return s.body?[3,3]:[4,et(n)];case 2:return l.sent(),[3,1];case 3:a=s.createElement("iframe"),l.label=4;case 4:return l.trys.push([4,,10,11]),[4,new Promise(function(c,u){var d=!1,p=function(){d=!0,c()},m=function(Z){d=!0,u(Z)};a.onload=p,a.onerror=m;var h=a.style;h.setProperty("display","block","important"),h.position="absolute",h.top="0",h.left="0",h.visibility="hidden",t&&"srcdoc"in a?a.srcdoc=t:a.src="about:blank",s.body.appendChild(a);var b=function(){var Z,I;d||(((I=(Z=a.contentWindow)===null||Z===void 0?void 0:Z.document)===null||I===void 0?void 0:I.readyState)==="complete"?p():setTimeout(b,10))};b()})];case 5:l.sent(),l.label=6;case 6:return!((r=(i=a.contentWindow)===null||i===void 0?void 0:i.document)===null||r===void 0)&&r.body?[3,8]:[4,et(n)];case 7:return l.sent(),[3,6];case 8:return[4,e(a,a.contentWindow)];case 9:return[2,l.sent()];case 10:return(o=a.parentNode)===null||o===void 0||o.removeChild(a),[7];case 11:return[2]}})})}function pu(e){for(var t=_c(e),n=t[0],i=t[1],r=document.createElement(n!=null?n:"div"),o=0,s=Object.keys(i);o<s.length;o++){var a=s[o],l=i[a].join(" ");a==="style"?hu(r.style,l):r.setAttribute(a,l)}return r}function hu(e,t){for(var n=0,i=t.split(";");n<i.length;n++){var r=i[n],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(r);if(o){var s=o[1],a=o[2],l=o[4];e.setProperty(s,a,l||"")}}}var mu="mmMwWLliI0O&1",bu="48px",nt=["monospace","sans-serif","serif"],so=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function fu(){return oo(function(e,t){var n=t.document,i=n.body;i.style.fontSize=bu;var r=n.createElement("div"),o={},s={},a=function(b){var Z=n.createElement("span"),I=Z.style;return I.position="absolute",I.top="0",I.left="0",I.fontFamily=b,Z.textContent=mu,r.appendChild(Z),Z},l=function(b,Z){return a("'"+b+"',"+Z)},c=function(){return nt.map(a)},u=function(){for(var b={},Z=function(X){b[X]=nt.map(function(v){return l(X,v)})},I=0,f=so;I<f.length;I++){var g=f[I];Z(g)}return b},d=function(b){return nt.some(function(Z,I){return b[I].offsetWidth!==o[Z]||b[I].offsetHeight!==s[Z]})},p=c(),m=u();i.appendChild(r);for(var h=0;h<nt.length;h++)o[nt[h]]=p[h].offsetWidth,s[nt[h]]=p[h].offsetHeight;return so.filter(function(b){return d(m[b])})})}function yu(){var e=navigator.plugins;if(!!e){for(var t=[],n=0;n<e.length;++n){var i=e[n];if(!!i){for(var r=[],o=0;o<i.length;++o){var s=i[o];r.push({type:s.type,suffixes:s.suffixes})}t.push({name:i.name,description:i.description,mimeTypes:r})}}return t}}function gu(){var e=Zu(),t=e[0],n=e[1];return Iu(t,n)?{winding:vu(n),geometry:Gu(t,n),text:Vu(t,n)}:{winding:!1,geometry:"",text:""}}function Zu(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function Iu(e,t){return!!(t&&e.toDataURL)}function vu(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function Vu(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly "+String.fromCharCode(55357,56835);return t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45),ao(e)}function Gu(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,i=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<i.length;n++){var r=i[n],o=r[0],s=r[1],a=r[2];t.fillStyle=o,t.beginPath(),t.arc(s,a,40,0,Math.PI*2,!0),t.closePath(),t.fill()}return t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd"),ao(e)}function ao(e){return e.toDataURL()}function Xu(){var e=navigator,t=0,n;e.maxTouchPoints!==void 0?t=Nn(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch(r){n=!1}var i="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:n,touchStart:i}}function Su(){return navigator.oscpu}function Ru(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(n!==void 0&&t.push([n]),Array.isArray(e.languages))xn()&&iu()||t.push(e.languages);else if(typeof e.languages=="string"){var i=e.languages;i&&t.push(i.split(","))}return t}function Wu(){return window.screen.colorDepth}function Cu(){return xe(We(navigator.deviceMemory),void 0)}function ku(){var e=screen,t=function(i){return xe(Nn(i),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n}var Lu=2500,wu=10,At,Yn;function Nu(){if(Yn===void 0){var e=function(){var t=Jn();Fn(t)?Yn=setTimeout(e,Lu):(At=t,Yn=void 0)};e()}}function xu(){var e=this;return Nu(),function(){return Ne(e,void 0,void 0,function(){var t;return ke(this,function(n){switch(n.label){case 0:return t=Jn(),Fn(t)?At?[2,Xr(At)]:su()?[4,au()]:[3,2]:[3,2];case 1:n.sent(),t=Jn(),n.label=2;case 2:return Fn(t)||(At=t),[2,t]}})})}}function Tu(){var e=this,t=xu();return function(){return Ne(e,void 0,void 0,function(){var n,i;return ke(this,function(r){switch(r.label){case 0:return[4,t()];case 1:return n=r.sent(),i=function(o){return o===null?null:eo(o,wu)},[2,[i(n[0]),i(n[1]),i(n[2]),i(n[3])]]}})})}}function Jn(){var e=screen;return[xe(We(e.availTop),null),xe(We(e.width)-We(e.availWidth)-xe(We(e.availLeft),0),null),xe(We(e.height)-We(e.availHeight)-xe(We(e.availTop),0),null),xe(We(e.availLeft),null)]}function Fn(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function Yu(){return xe(Nn(navigator.hardwareConcurrency),void 0)}function Ju(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var n=new t().resolvedOptions().timeZone;if(n)return n}var i=-Fu();return"UTC"+(i>=0?"+":"")+Math.abs(i)}function Fu(){var e=new Date().getFullYear();return Math.max(We(new Date(e,0,1).getTimezoneOffset()),We(new Date(e,6,1).getTimezoneOffset()))}function Uu(){try{return!!window.sessionStorage}catch(e){return!0}}function Eu(){try{return!!window.localStorage}catch(e){return!0}}function Ku(){if(!(no()||tu()))try{return!!window.indexedDB}catch(e){return!0}}function Hu(){return!!window.openDatabase}function Ou(){return navigator.cpuClass}function zu(){var e=navigator.platform;return e==="MacIntel"&&It()&&!Tn()?ou()?"iPad":"iPhone":e}function Pu(){return navigator.vendor||""}function Mu(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var i=n[t],r=window[i];r&&typeof r=="object"&&e.push(i)}return e.sort()}function Bu(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(n){return!1}}var vt={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi","#ad2_inline"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",".header-blocked-ad","#ad_blocker"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:[".BetterJsPopOverlay","#ad_300X250","#bannerfloat22","#ad-banner","#campaign-banner"],adGuardChinese:[".Zi_ad_a_H",'a[href*="/od005.com"]','a[href*=".hthbet34.com"]',".qq_nr_lad","#widget-quan"],adGuardFrench:["#block-views-ads-sidebar-block-block","#pavePub",".ad-desktop-rectangle",".mobile_adhesion",".widgetadv"],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1",'a[href^="http://ad2.trafficgate.net/"]',"._popIn_infinite_ad",".adgoogle",".ad_regular3"],adGuardMobile:["amp-auto-ads",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1","#ad_inview_area"],adGuardRussian:['a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]',"#ad_square"],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:["#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]',"#top100counter"],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers","#newAd"],easyList:["#AD_CONTROL_28",".second-post-ads-wrapper",".universalboxADVBOX03",".advertisement-728x90",".square_ads"],easyListChina:['a[href*=".wensixuetang.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole","#aafoot.top_box"],easyListCookie:["#AdaCompliance.app-notice",".text-center.rgpd",".panel--cookie",".js-cookies-andromeda",".elxtr-consent"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:["#Ad_Win2day","#werbungsbox300",'a[href^="http://www.rotlichtkartei.com/?sc="]',"#werbung_wideskyscraper_screen",'a[href^="http://landing.parkplatzkartei.com/?ag="]'],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",".ad__main",'[class*="GoogleAds"]',"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//ad.planbplus.co.kr/"]',"#livereAdWrapper",'a[href*="//adv.imadrep.co.kr/"]',"ins.fastview-ad",".revenue_unit_item.dable"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]};function Au(e){var t=(e===void 0?{}:e).debug;return Ne(this,void 0,void 0,function(){var n,i,r,o,s;return ke(this,function(a){switch(a.label){case 0:return Du()?(n=Object.keys(vt),i=(s=[]).concat.apply(s,n.map(function(l){return vt[l]})),[4,ju(i)]):[2,void 0];case 1:return r=a.sent(),t&&Qu(r),o=n.filter(function(l){var c=vt[l],u=Ce(c.map(function(d){return r[d]}));return u>c.length*.6}),o.sort(),[2,o]}})})}function Du(){return It()||io()}function ju(e){var t;return Ne(this,void 0,void 0,function(){var n,i,r,o,l,s,a,l;return ke(this,function(c){switch(c.label){case 0:for(n=document,i=n.createElement("div"),r=new Array(e.length),o={},lo(i),l=0;l<e.length;++l)s=pu(e[l]),a=n.createElement("div"),lo(a),a.appendChild(s),i.appendChild(a),r[l]=s;c.label=1;case 1:return n.body?[3,3]:[4,et(50)];case 2:return c.sent(),[3,1];case 3:n.body.appendChild(i);try{for(l=0;l<e.length;++l)r[l].offsetParent||(o[e[l]]=!0)}finally{(t=i.parentNode)===null||t===void 0||t.removeChild(i)}return[2,o]}})})}function lo(e){e.style.setProperty("display","block","important")}function Qu(e){for(var t="DOM blockers debug:\n```",n=0,i=Object.keys(vt);n<i.length;n++){var r=i[n];t+=`
`+r+":";for(var o=0,s=vt[r];o<s.length;o++){var a=s[o];t+=`
  `+a+" "+(e[a]?"\u{1F6AB}":"\u27A1\uFE0F")}}console.log(t+"\n```")}function _u(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: "+n+")").matches)return n}}function $u(){if(co("inverted"))return!0;if(co("none"))return!1}function co(e){return matchMedia("(inverted-colors: "+e+")").matches}function qu(){if(uo("active"))return!0;if(uo("none"))return!1}function uo(e){return matchMedia("(forced-colors: "+e+")").matches}var ed=100;function td(){if(!!matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=ed;++e)if(matchMedia("(max-monochrome: "+e+")").matches)return e;throw new Error("Too high value")}}function nd(){if(it("no-preference"))return 0;if(it("high")||it("more"))return 1;if(it("low")||it("less"))return-1;if(it("forced"))return 10}function it(e){return matchMedia("(prefers-contrast: "+e+")").matches}function id(){if(po("reduce"))return!0;if(po("no-preference"))return!1}function po(e){return matchMedia("(prefers-reduced-motion: "+e+")").matches}function rd(){if(ho("high"))return!0;if(ho("standard"))return!1}function ho(e){return matchMedia("(dynamic-range: "+e+")").matches}var q=Math,Ze=function(){return 0};function od(){var e=q.acos||Ze,t=q.acosh||Ze,n=q.asin||Ze,i=q.asinh||Ze,r=q.atanh||Ze,o=q.atan||Ze,s=q.sin||Ze,a=q.sinh||Ze,l=q.cos||Ze,c=q.cosh||Ze,u=q.tan||Ze,d=q.tanh||Ze,p=q.exp||Ze,m=q.expm1||Ze,h=q.log1p||Ze,b=function(S){return q.pow(q.PI,S)},Z=function(S){return q.log(S+q.sqrt(S*S-1))},I=function(S){return q.log(S+q.sqrt(S*S+1))},f=function(S){return q.log((1+S)/(1-S))/2},g=function(S){return q.exp(S)-1/q.exp(S)/2},X=function(S){return(q.exp(S)+1/q.exp(S))/2},v=function(S){return q.exp(S)-1},G=function(S){return(q.exp(2*S)-1)/(q.exp(2*S)+1)},w=function(S){return q.log(1+S)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:Z(1e154),asin:n(.12312423423423424),asinh:i(1),asinhPf:I(1),atanh:r(.5),atanhPf:f(.5),atan:o(.5),sin:s(-1e300),sinh:a(1),sinhPf:g(1),cos:l(10.000000000123),cosh:c(1),coshPf:X(1),tan:u(-1e300),tanh:d(1),tanhPf:G(1),exp:p(1),expm1:m(1),expm1Pf:v(1),log1p:h(10),log1pPf:w(10),powPI:b(-100)}}var sd="mmMwWLliI0fiflO&1",Un={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function ad(){return ld(function(e,t){for(var n={},i={},r=0,o=Object.keys(Un);r<o.length;r++){var s=o[r],a=Un[s],l=a[0],c=l===void 0?{}:l,u=a[1],d=u===void 0?sd:u,p=e.createElement("span");p.textContent=d,p.style.whiteSpace="nowrap";for(var m=0,h=Object.keys(c);m<h.length;m++){var b=h[m],Z=c[b];Z!==void 0&&(p.style[b]=Z)}n[s]=p,t.appendChild(e.createElement("br")),t.appendChild(p)}for(var I=0,f=Object.keys(Un);I<f.length;I++){var s=f[I];i[s]=n[s].getBoundingClientRect().width}return i})}function ld(e,t){return t===void 0&&(t=4e3),oo(function(n,i){var r=i.document,o=r.body,s=o.style;s.width=t+"px",s.webkitTextSizeAdjust=s.textSizeAdjust="none",xn()?o.style.zoom=""+1/i.devicePixelRatio:It()&&(o.style.zoom="reset");var a=r.createElement("div");return a.textContent=Xr(Array(t/20<<0)).map(function(){return"word"}).join(" "),o.appendChild(a),e(r,o)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}var cd={fonts:fu,domBlockers:Au,fontPreferences:ad,audio:lu,screenFrame:Tu,osCpu:Su,languages:Ru,colorDepth:Wu,deviceMemory:Cu,screenResolution:ku,hardwareConcurrency:Yu,timezone:Ju,sessionStorage:Uu,localStorage:Eu,indexedDB:Ku,openDatabase:Hu,cpuClass:Ou,platform:zu,plugins:yu,canvas:gu,touchSupport:Xu,vendor:Pu,vendorFlavors:Mu,cookiesEnabled:Bu,colorGamut:_u,invertedColors:$u,forcedColors:qu,monochrome:td,contrast:nd,reducedMotion:id,hdr:rd,math:od};function ud(e){return eu(cd,e,e.excludeSources||[])}var dd="$ if upgrade to Pro: https://fpjs.dev/pro";function pd(e){var t=hd(e),n=md(t);return{score:t,comment:dd.replace(/\$/g,""+n)}}function hd(e){if(io())return .4;if(It())return Tn()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function md(e){return eo(.99+.01*e,1e-4)}function bd(e){for(var t="",n=0,i=Object.keys(e).sort();n<i.length;n++){var r=i[n],o=e[r],s=o.error?"error":JSON.stringify(o.value);t+=(t?"|":"")+r.replace(/([:|\\])/g,"\\$1")+":"+s}return t}function mo(e){return JSON.stringify(e,function(t,n){return n instanceof Error?Dc(n):n},2)}function bo(e){return Ac(bd(e))}function fd(e){var t,n=pd(e);return{get visitorId(){return t===void 0&&(t=bo(this.components)),t},set visitorId(i){t=i},confidence:n,components:e,version:Qr}}function yd(e){return e===void 0&&(e=50),Mc(e,e*2)}function gd(e,t){var n=Date.now();return{get:function(i){return Ne(this,void 0,void 0,function(){var r,o,s;return ke(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,e()];case 1:return o=a.sent(),s=fd(o),(t||(i==null?void 0:i.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: "+s.version+`
userAgent: `+navigator.userAgent+`
timeBetweenLoadAndGet: `+(r-n)+`
visitorId: `+s.visitorId+`
components: `+mo(o)+"\n```"),[2,s]}})})}}}function Zd(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v"+Qr+"/npm-monitoring",!0),e.send()}catch(t){console.error(t)}}function Id(e){var t=e===void 0?{}:e,n=t.delayFallback,i=t.debug,r=t.excludeSources,o=t.monitoring,s=o===void 0?!0:o;return Ne(this,void 0,void 0,function(){var a;return ke(this,function(l){switch(l.label){case 0:return s&&Zd(),[4,yd(n)];case 1:return l.sent(),a=ud({debug:i,excludeSources:r}),[2,gd(a,i)]}})})}var vd={load:Id,hashComponents:bo,componentsToDebugString:mo};const Vd=typeof window!="undefined",fo=Vd&&"performance"in window&&"memory"in performance?performance:{memory:{}},Gd=(e,t)=>{let n=0,i=0;const r=()=>{const c=(new Date().getTime()-t)/1e3,u=fo.memory.jsHeapSizeLimit||0,d=fo.memory.usedJSHeapSize||0;e({jsHeapSizeLimit:u,usedJSHeapSize:d,relativeTimestamp:c,fps:n})};r();let o;o=setInterval(()=>{r()},1e3*5);let s=0,a=Date.now();const l=function(){var c=Date.now();s++,c>1e3+a&&(n=Math.round(s*1e3/(c-a)),s=0,a=c),i=requestAnimationFrame(l)};return l(),()=>{clearInterval(o),cancelAnimationFrame(i)}},Xd=e=>{let t,n;if(typeof document.hidden!="undefined"?(t="hidden",n="visibilitychange"):typeof document.msHidden!="undefined"?(t="msHidden",n="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(t="webkitHidden",n="webkitvisibilitychange"),n===void 0)return()=>{};if(t===void 0)return()=>{};const i=t,r=()=>{const s=document[i];e(!!s)};document.addEventListener(n,r);const o=n;return()=>document.removeEventListener(o,r)},Vt="highlightLogs",yo=e=>{let t=window.localStorage.getItem(Vt)||"";t=t+"["+new Date().getTime()+"] "+e+`
`,window.localStorage.setItem(Vt,t)},Sd=()=>window.localStorage.getItem(Vt)||"",Rd=e=>{if(!e)return;let t=window.localStorage.getItem(Vt)||"";!t||(t.startsWith(e)?(t=t.slice(e.length),window.localStorage.setItem(Vt,t)):yo("Unable to clear logs "+e.replace(`
`," ")+" from "+t.replace(`
`," ")))},Dt=()=>{var e;const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var n="";const i=typeof window!="undefined"&&((e=window.crypto)==null?void 0:e.getRandomValues),r=new Uint32Array(28);i&&window.crypto.getRandomValues(r);for(let o=0;o<28;o++)i?n+=t.charAt(r[o]%t.length):n+=t.charAt(Math.floor(Math.random()*t.length));return n},Wd=1e3*55,go=()=>{let e=JSON.parse(window.sessionStorage.getItem(se.SESSION_DATA)||"{}");if(e&&e.lastPushTime&&Date.now()-e.lastPushTime<Wd)return e};var Cd=(e,t,n)=>new Promise((i,r)=>{var o=l=>{try{a(n.next(l))}catch(c){r(c)}},s=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});const kd=5,Ld=300,wd=e=>{const t=(n,i,r,o=0)=>Cd(void 0,null,function*(){try{return yield n()}catch(s){if(o<kd)return yield new Promise(a=>setTimeout(a,Ld*Math.pow(2,o))),yield t(n,i,r,o+1);throw yo("["+(e||e)+"] Request failed after "+o+" retries"),s}});return t};var Te=(e=>(e[e.Initialize=0]="Initialize",e[e.AsyncEvents=1]="AsyncEvents",e[e.Identify=2]="Identify",e[e.Properties=3]="Properties",e[e.Metrics=4]="Metrics",e[e.Feedback=5]="Feedback",e[e.CustomEvent=6]="CustomEvent",e))(Te||{});class Nd{constructor(t,n){this.debug=t,this.name=n}log(...t){if(this.debug){let n=`[${Date.now()}]`;this.name&&(n+=` - ${this.name}`),console.log.apply(console,[n,...t])}}}var xd=(e,t,n)=>new Promise((i,r)=>{var o=l=>{try{a(n.next(l))}catch(c){r(c)}},s=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});const Td=30,Yd=()=>new Promise(e=>requestAnimationFrame(t=>requestAnimationFrame(n=>e(n-t)))),Jd=()=>xd(void 0,null,function*(){const e=[];for(let t=0;t<Td;t++)e.push(yield Yd());return e.reduce((t,n)=>t+n,0)/e.length}),Fd=(e,t)=>{let n={},i=16.666666666666668;Jd().then(l=>i=l);const r=l=>{var c;n!=null&&n.event||(n={event:l,location:window.location.href,timerStart:(c=window.performance)==null?void 0:c.now()},window.requestAnimationFrame(o))},o=()=>{if(!(n!=null&&n.timerStart))return;const l=window.performance.now()-n.timerStart-i;s(l),n={}},s=l=>{const c=(new Date().getTime()-t)/1e3;e({relativeTimestamp:c,jankAmount:l,querySelector:a(),newLocation:window.location.href!=n.location?window.location.href:void 0})},a=()=>{var l;return(l=n==null?void 0:n.event)!=null&&l.target?zr(n.event.target):""};return window.addEventListener("click",r,!0),window.addEventListener("keydown",r,!0),()=>{window.removeEventListener("keydown",r,!0),window.removeEventListener("click",r,!0)}};function Ud(e,t){var n=atob(e);if(t){for(var i=new Uint8Array(n.length),r=0,o=n.length;r<o;++r)i[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}function Ed(e,t,n){var i=t===void 0?null:t,r=n===void 0?!1:n,o=Ud(e,r),s=o.indexOf(`
`,10)+1,a=o.substring(s)+(i?"//# sourceMappingURL="+i:""),l=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(l)}function Kd(e,t,n){var i;return function(o){return i=i||Ed(e,t,n),new Worker(i,o)}}var Hd=Kd("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGllPShlPT4oZVtlLkluaXRpYWxpemU9MF09IkluaXRpYWxpemUiLGVbZS5Bc3luY0V2ZW50cz0xXT0iQXN5bmNFdmVudHMiLGVbZS5JZGVudGlmeT0yXT0iSWRlbnRpZnkiLGVbZS5Qcm9wZXJ0aWVzPTNdPSJQcm9wZXJ0aWVzIixlW2UuTWV0cmljcz00XT0iTWV0cmljcyIsZVtlLkZlZWRiYWNrPTVdPSJGZWVkYmFjayIsZVtlLkN1c3RvbUV2ZW50PTZdPSJDdXN0b21FdmVudCIsZSkpKGllfHx7fSksJD10eXBlb2YgZ2xvYmFsVGhpcyE9InVuZGVmaW5lZCI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93IT0idW5kZWZpbmVkIj93aW5kb3c6dHlwZW9mIGdsb2JhbCE9InVuZGVmaW5lZCI/Z2xvYmFsOnR5cGVvZiBzZWxmIT0idW5kZWZpbmVkIj9zZWxmOnt9O2Z1bmN0aW9uIEhlKGUpe3ZhciB0PWUuZGVmYXVsdDtpZih0eXBlb2YgdD09ImZ1bmN0aW9uIil7dmFyIG49ZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O24ucHJvdG90eXBlPXQucHJvdG90eXBlfWVsc2Ugbj17fTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGksci5nZXQ/cjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtpXX19KX0pLG59dmFyIENlPXtleHBvcnRzOnt9fTsoZnVuY3Rpb24oZSx0KXt0PWUuZXhwb3J0cz1uLHQuZ2V0U2VyaWFsaXplPWk7ZnVuY3Rpb24gbihyLHMsdSxwKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkocixpKHMscCksdSl9ZnVuY3Rpb24gaShyLHMpe3ZhciB1PVtdLHA9W107cmV0dXJuIHM9PW51bGwmJihzPWZ1bmN0aW9uKHYsbSl7cmV0dXJuIHVbMF09PT1tPyJbQ2lyY3VsYXIgfl0iOiJbQ2lyY3VsYXIgfi4iK3Auc2xpY2UoMCx1LmluZGV4T2YobSkpLmpvaW4oIi4iKSsiXSJ9KSxmdW5jdGlvbih2LG0pe2lmKHUubGVuZ3RoPjApe3ZhciBPPXUuaW5kZXhPZih0aGlzKTt+Tz91LnNwbGljZShPKzEpOnUucHVzaCh0aGlzKSx+Tz9wLnNwbGljZShPLDEvMCx2KTpwLnB1c2godiksfnUuaW5kZXhPZihtKSYmKG09cy5jYWxsKHRoaXMsdixtKSl9ZWxzZSB1LnB1c2gobSk7cmV0dXJuIHI9PW51bGw/bTpyLmNhbGwodGhpcyx2LG0pfX19KShDZSxDZS5leHBvcnRzKTt2YXIgY2U9Q2UuZXhwb3J0cyxOZT1mdW5jdGlvbigpe3JldHVybiBOZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIG4saT0xLHI9YXJndW1lbnRzLmxlbmd0aDtpPHI7aSsrKXtuPWFyZ3VtZW50c1tpXTtmb3IodmFyIHMgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixzKSYmKHRbc109bltzXSl9cmV0dXJuIHR9LE5lLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gT2UoZSx0KXtpZighQm9vbGVhbihlKSl0aHJvdyBuZXcgRXJyb3IodCl9ZnVuY3Rpb24gU3QoZSl7cmV0dXJuIHR5cGVvZiBlPT0ib2JqZWN0IiYmZSE9PW51bGx9ZnVuY3Rpb24gd3QoZSx0KXtpZighQm9vbGVhbihlKSl0aHJvdyBuZXcgRXJyb3IodCE9bnVsbD90OiJVbmV4cGVjdGVkIGludmFyaWFudCB0cmlnZ2VyZWQuIil9Y29uc3QgRHQ9L1xyXG58W1xuXHJdL2c7ZnVuY3Rpb24gUGUoZSx0KXtsZXQgbj0wLGk9MTtmb3IoY29uc3QgciBvZiBlLmJvZHkubWF0Y2hBbGwoRHQpKXtpZih0eXBlb2Ygci5pbmRleD09Im51bWJlciJ8fHd0KCExKSxyLmluZGV4Pj10KWJyZWFrO249ci5pbmRleCtyWzBdLmxlbmd0aCxpKz0xfXJldHVybntsaW5lOmksY29sdW1uOnQrMS1ufX1mdW5jdGlvbiBSdChlKXtyZXR1cm4gemUoZS5zb3VyY2UsUGUoZS5zb3VyY2UsZS5zdGFydCkpfWZ1bmN0aW9uIHplKGUsdCl7Y29uc3Qgbj1lLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbi0xLGk9IiIucGFkU3RhcnQobikrZS5ib2R5LHI9dC5saW5lLTEscz1lLmxvY2F0aW9uT2Zmc2V0LmxpbmUtMSx1PXQubGluZStzLHA9dC5saW5lPT09MT9uOjAsdj10LmNvbHVtbitwLG09YCR7ZS5uYW1lfToke3V9OiR7dn0KYCxPPWkuc3BsaXQoL1xyXG58W1xuXHJdL2cpLFI9T1tyXTtpZihSLmxlbmd0aD4xMjApe2NvbnN0IGs9TWF0aC5mbG9vcih2LzgwKSxxPXYlODAsdz1bXTtmb3IobGV0IHg9MDt4PFIubGVuZ3RoO3grPTgwKXcucHVzaChSLnNsaWNlKHgseCs4MCkpO3JldHVybiBtK1llKFtbYCR7dX0gfGAsd1swXV0sLi4udy5zbGljZSgxLGsrMSkubWFwKHg9PlsifCIseF0pLFsifCIsIl4iLnBhZFN0YXJ0KHEpXSxbInwiLHdbaysxXV1dKX1yZXR1cm4gbStZZShbW2Ake3UtMX0gfGAsT1tyLTFdXSxbYCR7dX0gfGAsUl0sWyJ8IiwiXiIucGFkU3RhcnQodildLFtgJHt1KzF9IHxgLE9bcisxXV1dKX1mdW5jdGlvbiBZZShlKXtjb25zdCB0PWUuZmlsdGVyKChbaSxyXSk9PnIhPT12b2lkIDApLG49TWF0aC5tYXgoLi4udC5tYXAoKFtpXSk9PmkubGVuZ3RoKSk7cmV0dXJuIHQubWFwKChbaSxyXSk9PmkucGFkU3RhcnQobikrKHI/IiAiK3I6IiIpKS5qb2luKGAKYCl9ZnVuY3Rpb24ga3QoZSl7Y29uc3QgdD1lWzBdO3JldHVybiB0PT1udWxsfHwia2luZCJpbiB0fHwibGVuZ3RoImluIHQ/e25vZGVzOnQsc291cmNlOmVbMV0scG9zaXRpb25zOmVbMl0scGF0aDplWzNdLG9yaWdpbmFsRXJyb3I6ZVs0XSxleHRlbnNpb25zOmVbNV19OnR9Y2xhc3MgRmUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LC4uLm4pe3ZhciBpLHIscztjb25zdHtub2Rlczp1LHNvdXJjZTpwLHBvc2l0aW9uczp2LHBhdGg6bSxvcmlnaW5hbEVycm9yOk8sZXh0ZW5zaW9uczpSfT1rdChuKTtzdXBlcih0KSx0aGlzLm5hbWU9IkdyYXBoUUxFcnJvciIsdGhpcy5wYXRoPW0hPW51bGw/bTp2b2lkIDAsdGhpcy5vcmlnaW5hbEVycm9yPU8hPW51bGw/Tzp2b2lkIDAsdGhpcy5ub2Rlcz1KZShBcnJheS5pc0FycmF5KHUpP3U6dT9bdV06dm9pZCAwKTtjb25zdCBrPUplKChpPXRoaXMubm9kZXMpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5tYXAodz0+dy5sb2MpLmZpbHRlcih3PT53IT1udWxsKSk7dGhpcy5zb3VyY2U9cCE9bnVsbD9wOms9PW51bGx8fChyPWtbMF0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zb3VyY2UsdGhpcy5wb3NpdGlvbnM9diE9bnVsbD92Oms9PW51bGw/dm9pZCAwOmsubWFwKHc9Pncuc3RhcnQpLHRoaXMubG9jYXRpb25zPXYmJnA/di5tYXAodz0+UGUocCx3KSk6az09bnVsbD92b2lkIDA6ay5tYXAodz0+UGUody5zb3VyY2Usdy5zdGFydCkpO2NvbnN0IHE9U3QoTz09bnVsbD92b2lkIDA6Ty5leHRlbnNpb25zKT9PPT1udWxsP3ZvaWQgMDpPLmV4dGVuc2lvbnM6dm9pZCAwO3RoaXMuZXh0ZW5zaW9ucz0ocz1SIT1udWxsP1I6cSkhPT1udWxsJiZzIT09dm9pZCAwP3M6T2JqZWN0LmNyZWF0ZShudWxsKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHttZXNzYWdlOnt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwfSxuYW1lOntlbnVtZXJhYmxlOiExfSxub2Rlczp7ZW51bWVyYWJsZTohMX0sc291cmNlOntlbnVtZXJhYmxlOiExfSxwb3NpdGlvbnM6e2VudW1lcmFibGU6ITF9LG9yaWdpbmFsRXJyb3I6e2VudW1lcmFibGU6ITF9fSksTyE9bnVsbCYmTy5zdGFjaz9PYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywic3RhY2siLHt2YWx1ZTpPLnN0YWNrLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pOkVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsRmUpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOkVycm9yKCkuc3RhY2ssd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iR3JhcGhRTEVycm9yIn10b1N0cmluZygpe2xldCB0PXRoaXMubWVzc2FnZTtpZih0aGlzLm5vZGVzKWZvcihjb25zdCBuIG9mIHRoaXMubm9kZXMpbi5sb2MmJih0Kz1gCgpgK1J0KG4ubG9jKSk7ZWxzZSBpZih0aGlzLnNvdXJjZSYmdGhpcy5sb2NhdGlvbnMpZm9yKGNvbnN0IG4gb2YgdGhpcy5sb2NhdGlvbnMpdCs9YAoKYCt6ZSh0aGlzLnNvdXJjZSxuKTtyZXR1cm4gdH10b0pTT04oKXtjb25zdCB0PXttZXNzYWdlOnRoaXMubWVzc2FnZX07cmV0dXJuIHRoaXMubG9jYXRpb25zIT1udWxsJiYodC5sb2NhdGlvbnM9dGhpcy5sb2NhdGlvbnMpLHRoaXMucGF0aCE9bnVsbCYmKHQucGF0aD10aGlzLnBhdGgpLHRoaXMuZXh0ZW5zaW9ucyE9bnVsbCYmT2JqZWN0LmtleXModGhpcy5leHRlbnNpb25zKS5sZW5ndGg+MCYmKHQuZXh0ZW5zaW9ucz10aGlzLmV4dGVuc2lvbnMpLHR9fWZ1bmN0aW9uIEplKGUpe3JldHVybiBlPT09dm9pZCAwfHxlLmxlbmd0aD09PTA/dm9pZCAwOmV9ZnVuY3Rpb24gWihlLHQsbil7cmV0dXJuIG5ldyBGZShgU3ludGF4IEVycm9yOiAke259YCx7c291cmNlOmUscG9zaXRpb25zOlt0XX0pfWNsYXNzIEN0e2NvbnN0cnVjdG9yKHQsbixpKXt0aGlzLnN0YXJ0PXQuc3RhcnQsdGhpcy5lbmQ9bi5lbmQsdGhpcy5zdGFydFRva2VuPXQsdGhpcy5lbmRUb2tlbj1uLHRoaXMuc291cmNlPWl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iTG9jYXRpb24ifXRvSlNPTigpe3JldHVybntzdGFydDp0aGlzLnN0YXJ0LGVuZDp0aGlzLmVuZH19fWNsYXNzIFFle2NvbnN0cnVjdG9yKHQsbixpLHIscyx1KXt0aGlzLmtpbmQ9dCx0aGlzLnN0YXJ0PW4sdGhpcy5lbmQ9aSx0aGlzLmxpbmU9cix0aGlzLmNvbHVtbj1zLHRoaXMudmFsdWU9dSx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJUb2tlbiJ9dG9KU09OKCl7cmV0dXJue2tpbmQ6dGhpcy5raW5kLHZhbHVlOnRoaXMudmFsdWUsbGluZTp0aGlzLmxpbmUsY29sdW1uOnRoaXMuY29sdW1ufX19Y29uc3QgV2U9e05hbWU6W10sRG9jdW1lbnQ6WyJkZWZpbml0aW9ucyJdLE9wZXJhdGlvbkRlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxWYXJpYWJsZURlZmluaXRpb246WyJ2YXJpYWJsZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sVmFyaWFibGU6WyJuYW1lIl0sU2VsZWN0aW9uU2V0Olsic2VsZWN0aW9ucyJdLEZpZWxkOlsiYWxpYXMiLCJuYW1lIiwiYXJndW1lbnRzIiwiZGlyZWN0aXZlcyIsInNlbGVjdGlvblNldCJdLEFyZ3VtZW50OlsibmFtZSIsInZhbHVlIl0sRnJhZ21lbnRTcHJlYWQ6WyJuYW1lIiwiZGlyZWN0aXZlcyJdLElubGluZUZyYWdtZW50OlsidHlwZUNvbmRpdGlvbiIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxGcmFnbWVudERlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsInR5cGVDb25kaXRpb24iLCJkaXJlY3RpdmVzIiwic2VsZWN0aW9uU2V0Il0sSW50VmFsdWU6W10sRmxvYXRWYWx1ZTpbXSxTdHJpbmdWYWx1ZTpbXSxCb29sZWFuVmFsdWU6W10sTnVsbFZhbHVlOltdLEVudW1WYWx1ZTpbXSxMaXN0VmFsdWU6WyJ2YWx1ZXMiXSxPYmplY3RWYWx1ZTpbImZpZWxkcyJdLE9iamVjdEZpZWxkOlsibmFtZSIsInZhbHVlIl0sRGlyZWN0aXZlOlsibmFtZSIsImFyZ3VtZW50cyJdLE5hbWVkVHlwZTpbIm5hbWUiXSxMaXN0VHlwZTpbInR5cGUiXSxOb25OdWxsVHlwZTpbInR5cGUiXSxTY2hlbWFEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxPcGVyYXRpb25UeXBlRGVmaW5pdGlvbjpbInR5cGUiXSxTY2FsYXJUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sRmllbGREZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiYXJndW1lbnRzIiwidHlwZSIsImRpcmVjdGl2ZXMiXSxJbnB1dFZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sSW50ZXJmYWNlVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sRW51bVZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLERpcmVjdGl2ZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJhcmd1bWVudHMiLCJsb2NhdGlvbnMiXSxTY2hlbWFFeHRlbnNpb246WyJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxTY2FsYXJUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiLCJmaWVsZHMiXX0sUHQ9bmV3IFNldChPYmplY3Qua2V5cyhXZSkpO2Z1bmN0aW9uIFhlKGUpe2NvbnN0IHQ9ZT09bnVsbD92b2lkIDA6ZS5raW5kO3JldHVybiB0eXBlb2YgdD09InN0cmluZyImJlB0Lmhhcyh0KX1sZXQgZmU7KGZ1bmN0aW9uKGUpe2UuUVVFUlk9InF1ZXJ5IixlLk1VVEFUSU9OPSJtdXRhdGlvbiIsZS5TVUJTQ1JJUFRJT049InN1YnNjcmlwdGlvbiJ9KShmZXx8KGZlPXt9KSk7bGV0IExlOyhmdW5jdGlvbihlKXtlLlFVRVJZPSJRVUVSWSIsZS5NVVRBVElPTj0iTVVUQVRJT04iLGUuU1VCU0NSSVBUSU9OPSJTVUJTQ1JJUFRJT04iLGUuRklFTEQ9IkZJRUxEIixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZSQUdNRU5UX0RFRklOSVRJT04iLGUuRlJBR01FTlRfU1BSRUFEPSJGUkFHTUVOVF9TUFJFQUQiLGUuSU5MSU5FX0ZSQUdNRU5UPSJJTkxJTkVfRlJBR01FTlQiLGUuVkFSSUFCTEVfREVGSU5JVElPTj0iVkFSSUFCTEVfREVGSU5JVElPTiIsZS5TQ0hFTUE9IlNDSEVNQSIsZS5TQ0FMQVI9IlNDQUxBUiIsZS5PQkpFQ1Q9Ik9CSkVDVCIsZS5GSUVMRF9ERUZJTklUSU9OPSJGSUVMRF9ERUZJTklUSU9OIixlLkFSR1VNRU5UX0RFRklOSVRJT049IkFSR1VNRU5UX0RFRklOSVRJT04iLGUuSU5URVJGQUNFPSJJTlRFUkZBQ0UiLGUuVU5JT049IlVOSU9OIixlLkVOVU09IkVOVU0iLGUuRU5VTV9WQUxVRT0iRU5VTV9WQUxVRSIsZS5JTlBVVF9PQkpFQ1Q9IklOUFVUX09CSkVDVCIsZS5JTlBVVF9GSUVMRF9ERUZJTklUSU9OPSJJTlBVVF9GSUVMRF9ERUZJTklUSU9OIn0pKExlfHwoTGU9e30pKTtsZXQgUzsoZnVuY3Rpb24oZSl7ZS5OQU1FPSJOYW1lIixlLkRPQ1VNRU5UPSJEb2N1bWVudCIsZS5PUEVSQVRJT05fREVGSU5JVElPTj0iT3BlcmF0aW9uRGVmaW5pdGlvbiIsZS5WQVJJQUJMRV9ERUZJTklUSU9OPSJWYXJpYWJsZURlZmluaXRpb24iLGUuU0VMRUNUSU9OX1NFVD0iU2VsZWN0aW9uU2V0IixlLkZJRUxEPSJGaWVsZCIsZS5BUkdVTUVOVD0iQXJndW1lbnQiLGUuRlJBR01FTlRfU1BSRUFEPSJGcmFnbWVudFNwcmVhZCIsZS5JTkxJTkVfRlJBR01FTlQ9IklubGluZUZyYWdtZW50IixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZyYWdtZW50RGVmaW5pdGlvbiIsZS5WQVJJQUJMRT0iVmFyaWFibGUiLGUuSU5UPSJJbnRWYWx1ZSIsZS5GTE9BVD0iRmxvYXRWYWx1ZSIsZS5TVFJJTkc9IlN0cmluZ1ZhbHVlIixlLkJPT0xFQU49IkJvb2xlYW5WYWx1ZSIsZS5OVUxMPSJOdWxsVmFsdWUiLGUuRU5VTT0iRW51bVZhbHVlIixlLkxJU1Q9Ikxpc3RWYWx1ZSIsZS5PQkpFQ1Q9Ik9iamVjdFZhbHVlIixlLk9CSkVDVF9GSUVMRD0iT2JqZWN0RmllbGQiLGUuRElSRUNUSVZFPSJEaXJlY3RpdmUiLGUuTkFNRURfVFlQRT0iTmFtZWRUeXBlIixlLkxJU1RfVFlQRT0iTGlzdFR5cGUiLGUuTk9OX05VTExfVFlQRT0iTm9uTnVsbFR5cGUiLGUuU0NIRU1BX0RFRklOSVRJT049IlNjaGVtYURlZmluaXRpb24iLGUuT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTj0iT3BlcmF0aW9uVHlwZURlZmluaXRpb24iLGUuU0NBTEFSX1RZUEVfREVGSU5JVElPTj0iU2NhbGFyVHlwZURlZmluaXRpb24iLGUuT0JKRUNUX1RZUEVfREVGSU5JVElPTj0iT2JqZWN0VHlwZURlZmluaXRpb24iLGUuRklFTERfREVGSU5JVElPTj0iRmllbGREZWZpbml0aW9uIixlLklOUFVUX1ZBTFVFX0RFRklOSVRJT049IklucHV0VmFsdWVEZWZpbml0aW9uIixlLklOVEVSRkFDRV9UWVBFX0RFRklOSVRJT049IkludGVyZmFjZVR5cGVEZWZpbml0aW9uIixlLlVOSU9OX1RZUEVfREVGSU5JVElPTj0iVW5pb25UeXBlRGVmaW5pdGlvbiIsZS5FTlVNX1RZUEVfREVGSU5JVElPTj0iRW51bVR5cGVEZWZpbml0aW9uIixlLkVOVU1fVkFMVUVfREVGSU5JVElPTj0iRW51bVZhbHVlRGVmaW5pdGlvbiIsZS5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OPSJJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uIixlLkRJUkVDVElWRV9ERUZJTklUSU9OPSJEaXJlY3RpdmVEZWZpbml0aW9uIixlLlNDSEVNQV9FWFRFTlNJT049IlNjaGVtYUV4dGVuc2lvbiIsZS5TQ0FMQVJfVFlQRV9FWFRFTlNJT049IlNjYWxhclR5cGVFeHRlbnNpb24iLGUuT0JKRUNUX1RZUEVfRVhURU5TSU9OPSJPYmplY3RUeXBlRXh0ZW5zaW9uIixlLklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTj0iSW50ZXJmYWNlVHlwZUV4dGVuc2lvbiIsZS5VTklPTl9UWVBFX0VYVEVOU0lPTj0iVW5pb25UeXBlRXh0ZW5zaW9uIixlLkVOVU1fVFlQRV9FWFRFTlNJT049IkVudW1UeXBlRXh0ZW5zaW9uIixlLklOUFVUX09CSkVDVF9UWVBFX0VYVEVOU0lPTj0iSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uIn0pKFN8fChTPXt9KSk7ZnVuY3Rpb24gQmUoZSl7cmV0dXJuIGU9PT05fHxlPT09MzJ9ZnVuY3Rpb24gbWUoZSl7cmV0dXJuIGU+PTQ4JiZlPD01N31mdW5jdGlvbiBaZShlKXtyZXR1cm4gZT49OTcmJmU8PTEyMnx8ZT49NjUmJmU8PTkwfWZ1bmN0aW9uIEtlKGUpe3JldHVybiBaZShlKXx8ZT09PTk1fWZ1bmN0aW9uIEZ0KGUpe3JldHVybiBaZShlKXx8bWUoZSl8fGU9PT05NX1mdW5jdGlvbiBMdChlKXt2YXIgdDtsZXQgbj1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUixpPW51bGwscj0tMTtmb3IobGV0IHU9MDt1PGUubGVuZ3RoOysrdSl7dmFyIHM7Y29uc3QgcD1lW3VdLHY9QnQocCk7diE9PXAubGVuZ3RoJiYoaT0ocz1pKSE9PW51bGwmJnMhPT12b2lkIDA/czp1LHI9dSx1IT09MCYmdjxuJiYobj12KSl9cmV0dXJuIGUubWFwKCh1LHApPT5wPT09MD91OnUuc2xpY2UobikpLnNsaWNlKCh0PWkpIT09bnVsbCYmdCE9PXZvaWQgMD90OjAscisxKX1mdW5jdGlvbiBCdChlKXtsZXQgdD0wO2Zvcig7dDxlLmxlbmd0aCYmQmUoZS5jaGFyQ29kZUF0KHQpKTspKyt0O3JldHVybiB0fWZ1bmN0aW9uIHF0KGUsdCl7Y29uc3Qgbj1lLnJlcGxhY2UoLyIiIi9nLCdcXCIiIicpLGk9bi5zcGxpdCgvXHJcbnxbXG5ccl0vZykscj1pLmxlbmd0aD09PTEscz1pLmxlbmd0aD4xJiZpLnNsaWNlKDEpLmV2ZXJ5KHE9PnEubGVuZ3RoPT09MHx8QmUocS5jaGFyQ29kZUF0KDApKSksdT1uLmVuZHNXaXRoKCdcXCIiIicpLHA9ZS5lbmRzV2l0aCgnIicpJiYhdSx2PWUuZW5kc1dpdGgoIlxcIiksbT1wfHx2LE89ISh0IT1udWxsJiZ0Lm1pbmltaXplKSYmKCFyfHxlLmxlbmd0aD43MHx8bXx8c3x8dSk7bGV0IFI9IiI7Y29uc3Qgaz1yJiZCZShlLmNoYXJDb2RlQXQoMCkpO3JldHVybihPJiYha3x8cykmJihSKz1gCmApLFIrPW4sKE98fG0pJiYoUis9YApgKSwnIiIiJytSKyciIiInfWxldCBjOyhmdW5jdGlvbihlKXtlLlNPRj0iPFNPRj4iLGUuRU9GPSI8RU9GPiIsZS5CQU5HPSIhIixlLkRPTExBUj0iJCIsZS5BTVA9IiYiLGUuUEFSRU5fTD0iKCIsZS5QQVJFTl9SPSIpIixlLlNQUkVBRD0iLi4uIixlLkNPTE9OPSI6IixlLkVRVUFMUz0iPSIsZS5BVD0iQCIsZS5CUkFDS0VUX0w9IlsiLGUuQlJBQ0tFVF9SPSJdIixlLkJSQUNFX0w9InsiLGUuUElQRT0ifCIsZS5CUkFDRV9SPSJ9IixlLk5BTUU9Ik5hbWUiLGUuSU5UPSJJbnQiLGUuRkxPQVQ9IkZsb2F0IixlLlNUUklORz0iU3RyaW5nIixlLkJMT0NLX1NUUklORz0iQmxvY2tTdHJpbmciLGUuQ09NTUVOVD0iQ29tbWVudCJ9KShjfHwoYz17fSkpO2NsYXNzIGp0e2NvbnN0cnVjdG9yKHQpe2NvbnN0IG49bmV3IFFlKGMuU09GLDAsMCwwLDApO3RoaXMuc291cmNlPXQsdGhpcy5sYXN0VG9rZW49bix0aGlzLnRva2VuPW4sdGhpcy5saW5lPTEsdGhpcy5saW5lU3RhcnQ9MH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJMZXhlciJ9YWR2YW5jZSgpe3JldHVybiB0aGlzLmxhc3RUb2tlbj10aGlzLnRva2VuLHRoaXMudG9rZW49dGhpcy5sb29rYWhlYWQoKX1sb29rYWhlYWQoKXtsZXQgdD10aGlzLnRva2VuO2lmKHQua2luZCE9PWMuRU9GKWRvIGlmKHQubmV4dCl0PXQubmV4dDtlbHNle2NvbnN0IG49JHQodGhpcyx0LmVuZCk7dC5uZXh0PW4sbi5wcmV2PXQsdD1ufXdoaWxlKHQua2luZD09PWMuQ09NTUVOVCk7cmV0dXJuIHR9fWZ1bmN0aW9uIE10KGUpe3JldHVybiBlPT09Yy5CQU5HfHxlPT09Yy5ET0xMQVJ8fGU9PT1jLkFNUHx8ZT09PWMuUEFSRU5fTHx8ZT09PWMuUEFSRU5fUnx8ZT09PWMuU1BSRUFEfHxlPT09Yy5DT0xPTnx8ZT09PWMuRVFVQUxTfHxlPT09Yy5BVHx8ZT09PWMuQlJBQ0tFVF9MfHxlPT09Yy5CUkFDS0VUX1J8fGU9PT1jLkJSQUNFX0x8fGU9PT1jLlBJUEV8fGU9PT1jLkJSQUNFX1J9ZnVuY3Rpb24gcGUoZSl7cmV0dXJuIGU+PTAmJmU8PTU1Mjk1fHxlPj01NzM0NCYmZTw9MTExNDExMX1mdW5jdGlvbiB4ZShlLHQpe3JldHVybiBldChlLmNoYXJDb2RlQXQodCkpJiZ0dChlLmNoYXJDb2RlQXQodCsxKSl9ZnVuY3Rpb24gZXQoZSl7cmV0dXJuIGU+PTU1Mjk2JiZlPD01NjMxOX1mdW5jdGlvbiB0dChlKXtyZXR1cm4gZT49NTYzMjAmJmU8PTU3MzQzfWZ1bmN0aW9uIGxlKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LmNvZGVQb2ludEF0KHQpO2lmKG49PT12b2lkIDApcmV0dXJuIGMuRU9GO2lmKG4+PTMyJiZuPD0xMjYpe2NvbnN0IGk9U3RyaW5nLmZyb21Db2RlUG9pbnQobik7cmV0dXJuIGk9PT0nIic/YCciJ2A6YCIke2l9ImB9cmV0dXJuIlUrIituLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnBhZFN0YXJ0KDQsIjAiKX1mdW5jdGlvbiBIKGUsdCxuLGkscil7Y29uc3Qgcz1lLmxpbmUsdT0xK24tZS5saW5lU3RhcnQ7cmV0dXJuIG5ldyBRZSh0LG4saSxzLHUscil9ZnVuY3Rpb24gJHQoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHksaT1uLmxlbmd0aDtsZXQgcj10O2Zvcig7cjxpOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQocik7c3dpdGNoKHMpe2Nhc2UgNjUyNzk6Y2FzZSA5OmNhc2UgMzI6Y2FzZSA0NDorK3I7Y29udGludWU7Y2FzZSAxMDorK3IsKytlLmxpbmUsZS5saW5lU3RhcnQ9cjtjb250aW51ZTtjYXNlIDEzOm4uY2hhckNvZGVBdChyKzEpPT09MTA/cis9MjorK3IsKytlLmxpbmUsZS5saW5lU3RhcnQ9cjtjb250aW51ZTtjYXNlIDM1OnJldHVybiBVdChlLHIpO2Nhc2UgMzM6cmV0dXJuIEgoZSxjLkJBTkcscixyKzEpO2Nhc2UgMzY6cmV0dXJuIEgoZSxjLkRPTExBUixyLHIrMSk7Y2FzZSAzODpyZXR1cm4gSChlLGMuQU1QLHIscisxKTtjYXNlIDQwOnJldHVybiBIKGUsYy5QQVJFTl9MLHIscisxKTtjYXNlIDQxOnJldHVybiBIKGUsYy5QQVJFTl9SLHIscisxKTtjYXNlIDQ2OmlmKG4uY2hhckNvZGVBdChyKzEpPT09NDYmJm4uY2hhckNvZGVBdChyKzIpPT09NDYpcmV0dXJuIEgoZSxjLlNQUkVBRCxyLHIrMyk7YnJlYWs7Y2FzZSA1ODpyZXR1cm4gSChlLGMuQ09MT04scixyKzEpO2Nhc2UgNjE6cmV0dXJuIEgoZSxjLkVRVUFMUyxyLHIrMSk7Y2FzZSA2NDpyZXR1cm4gSChlLGMuQVQscixyKzEpO2Nhc2UgOTE6cmV0dXJuIEgoZSxjLkJSQUNLRVRfTCxyLHIrMSk7Y2FzZSA5MzpyZXR1cm4gSChlLGMuQlJBQ0tFVF9SLHIscisxKTtjYXNlIDEyMzpyZXR1cm4gSChlLGMuQlJBQ0VfTCxyLHIrMSk7Y2FzZSAxMjQ6cmV0dXJuIEgoZSxjLlBJUEUscixyKzEpO2Nhc2UgMTI1OnJldHVybiBIKGUsYy5CUkFDRV9SLHIscisxKTtjYXNlIDM0OnJldHVybiBuLmNoYXJDb2RlQXQocisxKT09PTM0JiZuLmNoYXJDb2RlQXQocisyKT09PTM0P0p0KGUscik6R3QoZSxyKX1pZihtZShzKXx8cz09PTQ1KXJldHVybiBWdChlLHIscyk7aWYoS2UocykpcmV0dXJuIFF0KGUscik7dGhyb3cgWihlLnNvdXJjZSxyLHM9PT0zOT9gVW5leHBlY3RlZCBzaW5nbGUgcXVvdGUgY2hhcmFjdGVyICgnKSwgZGlkIHlvdSBtZWFuIHRvIHVzZSBhIGRvdWJsZSBxdW90ZSAoIik/YDpwZShzKXx8eGUobixyKT9gVW5leHBlY3RlZCBjaGFyYWN0ZXI6ICR7bGUoZSxyKX0uYDpgSW52YWxpZCBjaGFyYWN0ZXI6ICR7bGUoZSxyKX0uYCl9cmV0dXJuIEgoZSxjLkVPRixpLGkpfWZ1bmN0aW9uIFV0KGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dCsxO2Zvcig7cjxpOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQocik7aWYocz09PTEwfHxzPT09MTMpYnJlYWs7aWYocGUocykpKytyO2Vsc2UgaWYoeGUobixyKSlyKz0yO2Vsc2UgYnJlYWt9cmV0dXJuIEgoZSxjLkNPTU1FTlQsdCxyLG4uc2xpY2UodCsxLHIpKX1mdW5jdGlvbiBWdChlLHQsbil7Y29uc3QgaT1lLnNvdXJjZS5ib2R5O2xldCByPXQscz1uLHU9ITE7aWYocz09PTQ1JiYocz1pLmNoYXJDb2RlQXQoKytyKSkscz09PTQ4KXtpZihzPWkuY2hhckNvZGVBdCgrK3IpLG1lKHMpKXRocm93IFooZS5zb3VyY2UscixgSW52YWxpZCBudW1iZXIsIHVuZXhwZWN0ZWQgZGlnaXQgYWZ0ZXIgMDogJHtsZShlLHIpfS5gKX1lbHNlIHI9cWUoZSxyLHMpLHM9aS5jaGFyQ29kZUF0KHIpO2lmKHM9PT00NiYmKHU9ITAscz1pLmNoYXJDb2RlQXQoKytyKSxyPXFlKGUscixzKSxzPWkuY2hhckNvZGVBdChyKSksKHM9PT02OXx8cz09PTEwMSkmJih1PSEwLHM9aS5jaGFyQ29kZUF0KCsrciksKHM9PT00M3x8cz09PTQ1KSYmKHM9aS5jaGFyQ29kZUF0KCsrcikpLHI9cWUoZSxyLHMpLHM9aS5jaGFyQ29kZUF0KHIpKSxzPT09NDZ8fEtlKHMpKXRocm93IFooZS5zb3VyY2UscixgSW52YWxpZCBudW1iZXIsIGV4cGVjdGVkIGRpZ2l0IGJ1dCBnb3Q6ICR7bGUoZSxyKX0uYCk7cmV0dXJuIEgoZSx1P2MuRkxPQVQ6Yy5JTlQsdCxyLGkuc2xpY2UodCxyKSl9ZnVuY3Rpb24gcWUoZSx0LG4pe2lmKCFtZShuKSl0aHJvdyBaKGUuc291cmNlLHQsYEludmFsaWQgbnVtYmVyLCBleHBlY3RlZCBkaWdpdCBidXQgZ290OiAke2xlKGUsdCl9LmApO2NvbnN0IGk9ZS5zb3VyY2UuYm9keTtsZXQgcj10KzE7Zm9yKDttZShpLmNoYXJDb2RlQXQocikpOykrK3I7cmV0dXJuIHJ9ZnVuY3Rpb24gR3QoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHksaT1uLmxlbmd0aDtsZXQgcj10KzEscz1yLHU9IiI7Zm9yKDtyPGk7KXtjb25zdCBwPW4uY2hhckNvZGVBdChyKTtpZihwPT09MzQpcmV0dXJuIHUrPW4uc2xpY2UocyxyKSxIKGUsYy5TVFJJTkcsdCxyKzEsdSk7aWYocD09PTkyKXt1Kz1uLnNsaWNlKHMscik7Y29uc3Qgdj1uLmNoYXJDb2RlQXQocisxKT09PTExNz9uLmNoYXJDb2RlQXQocisyKT09PTEyMz9IdChlLHIpOnp0KGUscik6WXQoZSxyKTt1Kz12LnZhbHVlLHIrPXYuc2l6ZSxzPXI7Y29udGludWV9aWYocD09PTEwfHxwPT09MTMpYnJlYWs7aWYocGUocCkpKytyO2Vsc2UgaWYoeGUobixyKSlyKz0yO2Vsc2UgdGhyb3cgWihlLnNvdXJjZSxyLGBJbnZhbGlkIGNoYXJhY3RlciB3aXRoaW4gU3RyaW5nOiAke2xlKGUscil9LmApfXRocm93IFooZS5zb3VyY2UsciwiVW50ZXJtaW5hdGVkIHN0cmluZy4iKX1mdW5jdGlvbiBIdChlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keTtsZXQgaT0wLHI9Mztmb3IoO3I8MTI7KXtjb25zdCBzPW4uY2hhckNvZGVBdCh0K3IrKyk7aWYocz09PTEyNSl7aWYocjw1fHwhcGUoaSkpYnJlYWs7cmV0dXJue3ZhbHVlOlN0cmluZy5mcm9tQ29kZVBvaW50KGkpLHNpemU6cn19aWYoaT1pPDw0fHZlKHMpLGk8MClicmVha310aHJvdyBaKGUuc291cmNlLHQsYEludmFsaWQgVW5pY29kZSBlc2NhcGUgc2VxdWVuY2U6ICIke24uc2xpY2UodCx0K3IpfSIuYCl9ZnVuY3Rpb24genQoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHksaT1udChuLHQrMik7aWYocGUoaSkpcmV0dXJue3ZhbHVlOlN0cmluZy5mcm9tQ29kZVBvaW50KGkpLHNpemU6Nn07aWYoZXQoaSkmJm4uY2hhckNvZGVBdCh0KzYpPT09OTImJm4uY2hhckNvZGVBdCh0KzcpPT09MTE3KXtjb25zdCByPW50KG4sdCs4KTtpZih0dChyKSlyZXR1cm57dmFsdWU6U3RyaW5nLmZyb21Db2RlUG9pbnQoaSxyKSxzaXplOjEyfX10aHJvdyBaKGUuc291cmNlLHQsYEludmFsaWQgVW5pY29kZSBlc2NhcGUgc2VxdWVuY2U6ICIke24uc2xpY2UodCx0KzYpfSIuYCl9ZnVuY3Rpb24gbnQoZSx0KXtyZXR1cm4gdmUoZS5jaGFyQ29kZUF0KHQpKTw8MTJ8dmUoZS5jaGFyQ29kZUF0KHQrMSkpPDw4fHZlKGUuY2hhckNvZGVBdCh0KzIpKTw8NHx2ZShlLmNoYXJDb2RlQXQodCszKSl9ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIGU+PTQ4JiZlPD01Nz9lLTQ4OmU+PTY1JiZlPD03MD9lLTU1OmU+PTk3JiZlPD0xMDI/ZS04NzotMX1mdW5jdGlvbiBZdChlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keTtzd2l0Y2gobi5jaGFyQ29kZUF0KHQrMSkpe2Nhc2UgMzQ6cmV0dXJue3ZhbHVlOiciJyxzaXplOjJ9O2Nhc2UgOTI6cmV0dXJue3ZhbHVlOiJcXCIsc2l6ZToyfTtjYXNlIDQ3OnJldHVybnt2YWx1ZToiLyIsc2l6ZToyfTtjYXNlIDk4OnJldHVybnt2YWx1ZToiXGIiLHNpemU6Mn07Y2FzZSAxMDI6cmV0dXJue3ZhbHVlOiJcZiIsc2l6ZToyfTtjYXNlIDExMDpyZXR1cm57dmFsdWU6YApgLHNpemU6Mn07Y2FzZSAxMTQ6cmV0dXJue3ZhbHVlOiJcciIsc2l6ZToyfTtjYXNlIDExNjpyZXR1cm57dmFsdWU6IgkiLHNpemU6Mn19dGhyb3cgWihlLnNvdXJjZSx0LGBJbnZhbGlkIGNoYXJhY3RlciBlc2NhcGUgc2VxdWVuY2U6ICIke24uc2xpY2UodCx0KzIpfSIuYCl9ZnVuY3Rpb24gSnQoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHksaT1uLmxlbmd0aDtsZXQgcj1lLmxpbmVTdGFydCxzPXQrMyx1PXMscD0iIjtjb25zdCB2PVtdO2Zvcig7czxpOyl7Y29uc3QgbT1uLmNoYXJDb2RlQXQocyk7aWYobT09PTM0JiZuLmNoYXJDb2RlQXQocysxKT09PTM0JiZuLmNoYXJDb2RlQXQocysyKT09PTM0KXtwKz1uLnNsaWNlKHUscyksdi5wdXNoKHApO2NvbnN0IE89SChlLGMuQkxPQ0tfU1RSSU5HLHQscyszLEx0KHYpLmpvaW4oYApgKSk7cmV0dXJuIGUubGluZSs9di5sZW5ndGgtMSxlLmxpbmVTdGFydD1yLE99aWYobT09PTkyJiZuLmNoYXJDb2RlQXQocysxKT09PTM0JiZuLmNoYXJDb2RlQXQocysyKT09PTM0JiZuLmNoYXJDb2RlQXQocyszKT09PTM0KXtwKz1uLnNsaWNlKHUscyksdT1zKzEscys9NDtjb250aW51ZX1pZihtPT09MTB8fG09PT0xMyl7cCs9bi5zbGljZSh1LHMpLHYucHVzaChwKSxtPT09MTMmJm4uY2hhckNvZGVBdChzKzEpPT09MTA/cys9MjorK3MscD0iIix1PXMscj1zO2NvbnRpbnVlfWlmKHBlKG0pKSsrcztlbHNlIGlmKHhlKG4scykpcys9MjtlbHNlIHRocm93IFooZS5zb3VyY2UscyxgSW52YWxpZCBjaGFyYWN0ZXIgd2l0aGluIFN0cmluZzogJHtsZShlLHMpfS5gKX10aHJvdyBaKGUuc291cmNlLHMsIlVudGVybWluYXRlZCBzdHJpbmcuIil9ZnVuY3Rpb24gUXQoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHksaT1uLmxlbmd0aDtsZXQgcj10KzE7Zm9yKDtyPGk7KXtjb25zdCBzPW4uY2hhckNvZGVBdChyKTtpZihGdChzKSkrK3I7ZWxzZSBicmVha31yZXR1cm4gSChlLGMuTkFNRSx0LHIsbi5zbGljZSh0LHIpKX1jb25zdCBXdD0xMCxydD0yO2Z1bmN0aW9uIGl0KGUpe3JldHVybiBJZShlLFtdKX1mdW5jdGlvbiBJZShlLHQpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJzdHJpbmciOnJldHVybiBKU09OLnN0cmluZ2lmeShlKTtjYXNlImZ1bmN0aW9uIjpyZXR1cm4gZS5uYW1lP2BbZnVuY3Rpb24gJHtlLm5hbWV9XWA6IltmdW5jdGlvbl0iO2Nhc2Uib2JqZWN0IjpyZXR1cm4gWHQoZSx0KTtkZWZhdWx0OnJldHVybiBTdHJpbmcoZSl9fWZ1bmN0aW9uIFh0KGUsdCl7aWYoZT09PW51bGwpcmV0dXJuIm51bGwiO2lmKHQuaW5jbHVkZXMoZSkpcmV0dXJuIltDaXJjdWxhcl0iO2NvbnN0IG49Wy4uLnQsZV07aWYoWnQoZSkpe2NvbnN0IGk9ZS50b0pTT04oKTtpZihpIT09ZSlyZXR1cm4gdHlwZW9mIGk9PSJzdHJpbmciP2k6SWUoaSxuKX1lbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGVuKGUsbik7cmV0dXJuIEt0KGUsbil9ZnVuY3Rpb24gWnQoZSl7cmV0dXJuIHR5cGVvZiBlLnRvSlNPTj09ImZ1bmN0aW9uIn1mdW5jdGlvbiBLdChlLHQpe2NvbnN0IG49T2JqZWN0LmVudHJpZXMoZSk7aWYobi5sZW5ndGg9PT0wKXJldHVybiJ7fSI7aWYodC5sZW5ndGg+cnQpcmV0dXJuIlsiK3RuKGUpKyJdIjtjb25zdCBpPW4ubWFwKChbcixzXSk9PnIrIjogIitJZShzLHQpKTtyZXR1cm4ieyAiK2kuam9pbigiLCAiKSsiIH0ifWZ1bmN0aW9uIGVuKGUsdCl7aWYoZS5sZW5ndGg9PT0wKXJldHVybiJbXSI7aWYodC5sZW5ndGg+cnQpcmV0dXJuIltBcnJheV0iO2NvbnN0IG49TWF0aC5taW4oV3QsZS5sZW5ndGgpLGk9ZS5sZW5ndGgtbixyPVtdO2ZvcihsZXQgcz0wO3M8bjsrK3Mpci5wdXNoKEllKGVbc10sdCkpO3JldHVybiBpPT09MT9yLnB1c2goIi4uLiAxIG1vcmUgaXRlbSIpOmk+MSYmci5wdXNoKGAuLi4gJHtpfSBtb3JlIGl0ZW1zYCksIlsiK3Iuam9pbigiLCAiKSsiXSJ9ZnVuY3Rpb24gdG4oZSl7Y29uc3QgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkucmVwbGFjZSgvXlxbb2JqZWN0IC8sIiIpLnJlcGxhY2UoL10kLywiIik7aWYodD09PSJPYmplY3QiJiZ0eXBlb2YgZS5jb25zdHJ1Y3Rvcj09ImZ1bmN0aW9uIil7Y29uc3Qgbj1lLmNvbnN0cnVjdG9yLm5hbWU7aWYodHlwZW9mIG49PSJzdHJpbmciJiZuIT09IiIpcmV0dXJuIG59cmV0dXJuIHR9Y29uc3Qgbm49ZnVuY3Rpb24odCxuKXtyZXR1cm4gdCBpbnN0YW5jZW9mIG59O2NsYXNzIHN0e2NvbnN0cnVjdG9yKHQsbj0iR3JhcGhRTCByZXF1ZXN0IixpPXtsaW5lOjEsY29sdW1uOjF9KXt0eXBlb2YgdD09InN0cmluZyJ8fE9lKCExLGBCb2R5IG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkOiAke2l0KHQpfS5gKSx0aGlzLmJvZHk9dCx0aGlzLm5hbWU9bix0aGlzLmxvY2F0aW9uT2Zmc2V0PWksdGhpcy5sb2NhdGlvbk9mZnNldC5saW5lPjB8fE9lKCExLCJsaW5lIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKSx0aGlzLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbj4wfHxPZSghMSwiY29sdW1uIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJTb3VyY2UifX1mdW5jdGlvbiBybihlKXtyZXR1cm4gbm4oZSxzdCl9ZnVuY3Rpb24gb3QoZSx0KXtyZXR1cm4gbmV3IEVlKGUsdCkucGFyc2VEb2N1bWVudCgpfWZ1bmN0aW9uIHNuKGUsdCl7Y29uc3Qgbj1uZXcgRWUoZSx0KTtuLmV4cGVjdFRva2VuKGMuU09GKTtjb25zdCBpPW4ucGFyc2VWYWx1ZUxpdGVyYWwoITEpO3JldHVybiBuLmV4cGVjdFRva2VuKGMuRU9GKSxpfWZ1bmN0aW9uIG9uKGUsdCl7Y29uc3Qgbj1uZXcgRWUoZSx0KTtuLmV4cGVjdFRva2VuKGMuU09GKTtjb25zdCBpPW4ucGFyc2VDb25zdFZhbHVlTGl0ZXJhbCgpO3JldHVybiBuLmV4cGVjdFRva2VuKGMuRU9GKSxpfWZ1bmN0aW9uIGFuKGUsdCl7Y29uc3Qgbj1uZXcgRWUoZSx0KTtuLmV4cGVjdFRva2VuKGMuU09GKTtjb25zdCBpPW4ucGFyc2VUeXBlUmVmZXJlbmNlKCk7cmV0dXJuIG4uZXhwZWN0VG9rZW4oYy5FT0YpLGl9Y2xhc3MgRWV7Y29uc3RydWN0b3IodCxuKXtjb25zdCBpPXJuKHQpP3Q6bmV3IHN0KHQpO3RoaXMuX2xleGVyPW5ldyBqdChpKSx0aGlzLl9vcHRpb25zPW59cGFyc2VOYW1lKCl7Y29uc3QgdD10aGlzLmV4cGVjdFRva2VuKGMuTkFNRSk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuTkFNRSx2YWx1ZTp0LnZhbHVlfSl9cGFyc2VEb2N1bWVudCgpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Uy5ET0NVTUVOVCxkZWZpbml0aW9uczp0aGlzLm1hbnkoYy5TT0YsdGhpcy5wYXJzZURlZmluaXRpb24sYy5FT0YpfSl9cGFyc2VEZWZpbml0aW9uKCl7aWYodGhpcy5wZWVrKGMuQlJBQ0VfTCkpcmV0dXJuIHRoaXMucGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCk7Y29uc3QgdD10aGlzLnBlZWtEZXNjcmlwdGlvbigpLG49dD90aGlzLl9sZXhlci5sb29rYWhlYWQoKTp0aGlzLl9sZXhlci50b2tlbjtpZihuLmtpbmQ9PT1jLk5BTUUpe3N3aXRjaChuLnZhbHVlKXtjYXNlInNjaGVtYSI6cmV0dXJuIHRoaXMucGFyc2VTY2hlbWFEZWZpbml0aW9uKCk7Y2FzZSJzY2FsYXIiOnJldHVybiB0aGlzLnBhcnNlU2NhbGFyVHlwZURlZmluaXRpb24oKTtjYXNlInR5cGUiOnJldHVybiB0aGlzLnBhcnNlT2JqZWN0VHlwZURlZmluaXRpb24oKTtjYXNlImludGVyZmFjZSI6cmV0dXJuIHRoaXMucGFyc2VJbnRlcmZhY2VUeXBlRGVmaW5pdGlvbigpO2Nhc2UidW5pb24iOnJldHVybiB0aGlzLnBhcnNlVW5pb25UeXBlRGVmaW5pdGlvbigpO2Nhc2UiZW51bSI6cmV0dXJuIHRoaXMucGFyc2VFbnVtVHlwZURlZmluaXRpb24oKTtjYXNlImlucHV0IjpyZXR1cm4gdGhpcy5wYXJzZUlucHV0T2JqZWN0VHlwZURlZmluaXRpb24oKTtjYXNlImRpcmVjdGl2ZSI6cmV0dXJuIHRoaXMucGFyc2VEaXJlY3RpdmVEZWZpbml0aW9uKCl9aWYodCl0aHJvdyBaKHRoaXMuX2xleGVyLnNvdXJjZSx0aGlzLl9sZXhlci50b2tlbi5zdGFydCwiVW5leHBlY3RlZCBkZXNjcmlwdGlvbiwgZGVzY3JpcHRpb25zIGFyZSBzdXBwb3J0ZWQgb25seSBvbiB0eXBlIGRlZmluaXRpb25zLiIpO3N3aXRjaChuLnZhbHVlKXtjYXNlInF1ZXJ5IjpjYXNlIm11dGF0aW9uIjpjYXNlInN1YnNjcmlwdGlvbiI6cmV0dXJuIHRoaXMucGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCk7Y2FzZSJmcmFnbWVudCI6cmV0dXJuIHRoaXMucGFyc2VGcmFnbWVudERlZmluaXRpb24oKTtjYXNlImV4dGVuZCI6cmV0dXJuIHRoaXMucGFyc2VUeXBlU3lzdGVtRXh0ZW5zaW9uKCl9fXRocm93IHRoaXMudW5leHBlY3RlZChuKX1wYXJzZU9wZXJhdGlvbkRlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO2lmKHRoaXMucGVlayhjLkJSQUNFX0wpKXJldHVybiB0aGlzLm5vZGUodCx7a2luZDpTLk9QRVJBVElPTl9ERUZJTklUSU9OLG9wZXJhdGlvbjpmZS5RVUVSWSxuYW1lOnZvaWQgMCx2YXJpYWJsZURlZmluaXRpb25zOltdLGRpcmVjdGl2ZXM6W10sc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pO2NvbnN0IG49dGhpcy5wYXJzZU9wZXJhdGlvblR5cGUoKTtsZXQgaTtyZXR1cm4gdGhpcy5wZWVrKGMuTkFNRSkmJihpPXRoaXMucGFyc2VOYW1lKCkpLHRoaXMubm9kZSh0LHtraW5kOlMuT1BFUkFUSU9OX0RFRklOSVRJT04sb3BlcmF0aW9uOm4sbmFtZTppLHZhcmlhYmxlRGVmaW5pdGlvbnM6dGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VPcGVyYXRpb25UeXBlKCl7Y29uc3QgdD10aGlzLmV4cGVjdFRva2VuKGMuTkFNRSk7c3dpdGNoKHQudmFsdWUpe2Nhc2UicXVlcnkiOnJldHVybiBmZS5RVUVSWTtjYXNlIm11dGF0aW9uIjpyZXR1cm4gZmUuTVVUQVRJT047Y2FzZSJzdWJzY3JpcHRpb24iOnJldHVybiBmZS5TVUJTQ1JJUFRJT059dGhyb3cgdGhpcy51bmV4cGVjdGVkKHQpfXBhcnNlVmFyaWFibGVEZWZpbml0aW9ucygpe3JldHVybiB0aGlzLm9wdGlvbmFsTWFueShjLlBBUkVOX0wsdGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbixjLlBBUkVOX1IpfXBhcnNlVmFyaWFibGVEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMubm9kZSh0aGlzLl9sZXhlci50b2tlbix7a2luZDpTLlZBUklBQkxFX0RFRklOSVRJT04sdmFyaWFibGU6dGhpcy5wYXJzZVZhcmlhYmxlKCksdHlwZToodGhpcy5leHBlY3RUb2tlbihjLkNPTE9OKSx0aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpKSxkZWZhdWx0VmFsdWU6dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGMuRVFVQUxTKT90aGlzLnBhcnNlQ29uc3RWYWx1ZUxpdGVyYWwoKTp2b2lkIDAsZGlyZWN0aXZlczp0aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCl9KX1wYXJzZVZhcmlhYmxlKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbihjLkRPTExBUiksdGhpcy5ub2RlKHQse2tpbmQ6Uy5WQVJJQUJMRSxuYW1lOnRoaXMucGFyc2VOYW1lKCl9KX1wYXJzZVNlbGVjdGlvblNldCgpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Uy5TRUxFQ1RJT05fU0VULHNlbGVjdGlvbnM6dGhpcy5tYW55KGMuQlJBQ0VfTCx0aGlzLnBhcnNlU2VsZWN0aW9uLGMuQlJBQ0VfUil9KX1wYXJzZVNlbGVjdGlvbigpe3JldHVybiB0aGlzLnBlZWsoYy5TUFJFQUQpP3RoaXMucGFyc2VGcmFnbWVudCgpOnRoaXMucGFyc2VGaWVsZCgpfXBhcnNlRmllbGQoKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU5hbWUoKTtsZXQgaSxyO3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oYy5DT0xPTik/KGk9bixyPXRoaXMucGFyc2VOYW1lKCkpOnI9bix0aGlzLm5vZGUodCx7a2luZDpTLkZJRUxELGFsaWFzOmksbmFtZTpyLGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKCExKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wZWVrKGMuQlJBQ0VfTCk/dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpOnZvaWQgMH0pfXBhcnNlQXJndW1lbnRzKHQpe2NvbnN0IG49dD90aGlzLnBhcnNlQ29uc3RBcmd1bWVudDp0aGlzLnBhcnNlQXJndW1lbnQ7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGMuUEFSRU5fTCxuLGMuUEFSRU5fUil9cGFyc2VBcmd1bWVudCh0PSExKXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuLGk9dGhpcy5wYXJzZU5hbWUoKTtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbihjLkNPTE9OKSx0aGlzLm5vZGUobix7a2luZDpTLkFSR1VNRU5ULG5hbWU6aSx2YWx1ZTp0aGlzLnBhcnNlVmFsdWVMaXRlcmFsKHQpfSl9cGFyc2VDb25zdEFyZ3VtZW50KCl7cmV0dXJuIHRoaXMucGFyc2VBcmd1bWVudCghMCl9cGFyc2VGcmFnbWVudCgpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RUb2tlbihjLlNQUkVBRCk7Y29uc3Qgbj10aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgib24iKTtyZXR1cm4hbiYmdGhpcy5wZWVrKGMuTkFNRSk/dGhpcy5ub2RlKHQse2tpbmQ6Uy5GUkFHTUVOVF9TUFJFQUQsbmFtZTp0aGlzLnBhcnNlRnJhZ21lbnROYW1lKCksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSl9KTp0aGlzLm5vZGUodCx7a2luZDpTLklOTElORV9GUkFHTUVOVCx0eXBlQ29uZGl0aW9uOm4/dGhpcy5wYXJzZU5hbWVkVHlwZSgpOnZvaWQgMCxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VGcmFnbWVudERlZmluaXRpb24oKXt2YXIgdDtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmV4cGVjdEtleXdvcmQoImZyYWdtZW50IiksKCh0PXRoaXMuX29wdGlvbnMpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5hbGxvd0xlZ2FjeUZyYWdtZW50VmFyaWFibGVzKT09PSEwP3RoaXMubm9kZShuLHtraW5kOlMuRlJBR01FTlRfREVGSU5JVElPTixuYW1lOnRoaXMucGFyc2VGcmFnbWVudE5hbWUoKSx2YXJpYWJsZURlZmluaXRpb25zOnRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb25zKCksdHlwZUNvbmRpdGlvbjoodGhpcy5leHBlY3RLZXl3b3JkKCJvbiIpLHRoaXMucGFyc2VOYW1lZFR5cGUoKSksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pOnRoaXMubm9kZShuLHtraW5kOlMuRlJBR01FTlRfREVGSU5JVElPTixuYW1lOnRoaXMucGFyc2VGcmFnbWVudE5hbWUoKSx0eXBlQ29uZGl0aW9uOih0aGlzLmV4cGVjdEtleXdvcmQoIm9uIiksdGhpcy5wYXJzZU5hbWVkVHlwZSgpKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VGcmFnbWVudE5hbWUoKXtpZih0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJvbiIpdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMucGFyc2VOYW1lKCl9cGFyc2VWYWx1ZUxpdGVyYWwodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbjtzd2l0Y2gobi5raW5kKXtjYXNlIGMuQlJBQ0tFVF9MOnJldHVybiB0aGlzLnBhcnNlTGlzdCh0KTtjYXNlIGMuQlJBQ0VfTDpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdCh0KTtjYXNlIGMuSU5UOnJldHVybiB0aGlzLl9sZXhlci5hZHZhbmNlKCksdGhpcy5ub2RlKG4se2tpbmQ6Uy5JTlQsdmFsdWU6bi52YWx1ZX0pO2Nhc2UgYy5GTE9BVDpyZXR1cm4gdGhpcy5fbGV4ZXIuYWR2YW5jZSgpLHRoaXMubm9kZShuLHtraW5kOlMuRkxPQVQsdmFsdWU6bi52YWx1ZX0pO2Nhc2UgYy5TVFJJTkc6Y2FzZSBjLkJMT0NLX1NUUklORzpyZXR1cm4gdGhpcy5wYXJzZVN0cmluZ0xpdGVyYWwoKTtjYXNlIGMuTkFNRTpzd2l0Y2godGhpcy5fbGV4ZXIuYWR2YW5jZSgpLG4udmFsdWUpe2Nhc2UidHJ1ZSI6cmV0dXJuIHRoaXMubm9kZShuLHtraW5kOlMuQk9PTEVBTix2YWx1ZTohMH0pO2Nhc2UiZmFsc2UiOnJldHVybiB0aGlzLm5vZGUobix7a2luZDpTLkJPT0xFQU4sdmFsdWU6ITF9KTtjYXNlIm51bGwiOnJldHVybiB0aGlzLm5vZGUobix7a2luZDpTLk5VTEx9KTtkZWZhdWx0OnJldHVybiB0aGlzLm5vZGUobix7a2luZDpTLkVOVU0sdmFsdWU6bi52YWx1ZX0pfWNhc2UgYy5ET0xMQVI6aWYodClpZih0aGlzLmV4cGVjdFRva2VuKGMuRE9MTEFSKSx0aGlzLl9sZXhlci50b2tlbi5raW5kPT09Yy5OQU1FKXtjb25zdCBpPXRoaXMuX2xleGVyLnRva2VuLnZhbHVlO3Rocm93IFoodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYFVuZXhwZWN0ZWQgdmFyaWFibGUgIiQke2l9IiBpbiBjb25zdGFudCB2YWx1ZS5gKX1lbHNlIHRocm93IHRoaXMudW5leHBlY3RlZChuKTtyZXR1cm4gdGhpcy5wYXJzZVZhcmlhYmxlKCk7ZGVmYXVsdDp0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKX19cGFyc2VDb25zdFZhbHVlTGl0ZXJhbCgpe3JldHVybiB0aGlzLnBhcnNlVmFsdWVMaXRlcmFsKCEwKX1wYXJzZVN0cmluZ0xpdGVyYWwoKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLl9sZXhlci5hZHZhbmNlKCksdGhpcy5ub2RlKHQse2tpbmQ6Uy5TVFJJTkcsdmFsdWU6dC52YWx1ZSxibG9jazp0LmtpbmQ9PT1jLkJMT0NLX1NUUklOR30pfXBhcnNlTGlzdCh0KXtjb25zdCBuPSgpPT50aGlzLnBhcnNlVmFsdWVMaXRlcmFsKHQpO3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Uy5MSVNULHZhbHVlczp0aGlzLmFueShjLkJSQUNLRVRfTCxuLGMuQlJBQ0tFVF9SKX0pfXBhcnNlT2JqZWN0KHQpe2NvbnN0IG49KCk9PnRoaXMucGFyc2VPYmplY3RGaWVsZCh0KTtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlMuT0JKRUNULGZpZWxkczp0aGlzLmFueShjLkJSQUNFX0wsbixjLkJSQUNFX1IpfSl9cGFyc2VPYmplY3RGaWVsZCh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuLGk9dGhpcy5wYXJzZU5hbWUoKTtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbihjLkNPTE9OKSx0aGlzLm5vZGUobix7a2luZDpTLk9CSkVDVF9GSUVMRCxuYW1lOmksdmFsdWU6dGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0KX0pfXBhcnNlRGlyZWN0aXZlcyh0KXtjb25zdCBuPVtdO2Zvcig7dGhpcy5wZWVrKGMuQVQpOyluLnB1c2godGhpcy5wYXJzZURpcmVjdGl2ZSh0KSk7cmV0dXJuIG59cGFyc2VDb25zdERpcmVjdGl2ZXMoKXtyZXR1cm4gdGhpcy5wYXJzZURpcmVjdGl2ZXMoITApfXBhcnNlRGlyZWN0aXZlKHQpe2NvbnN0IG49dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4oYy5BVCksdGhpcy5ub2RlKG4se2tpbmQ6Uy5ESVJFQ1RJVkUsbmFtZTp0aGlzLnBhcnNlTmFtZSgpLGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKHQpfSl9cGFyc2VUeXBlUmVmZXJlbmNlKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtsZXQgbjtpZih0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oYy5CUkFDS0VUX0wpKXtjb25zdCBpPXRoaXMucGFyc2VUeXBlUmVmZXJlbmNlKCk7dGhpcy5leHBlY3RUb2tlbihjLkJSQUNLRVRfUiksbj10aGlzLm5vZGUodCx7a2luZDpTLkxJU1RfVFlQRSx0eXBlOml9KX1lbHNlIG49dGhpcy5wYXJzZU5hbWVkVHlwZSgpO3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oYy5CQU5HKT90aGlzLm5vZGUodCx7a2luZDpTLk5PTl9OVUxMX1RZUEUsdHlwZTpufSk6bn1wYXJzZU5hbWVkVHlwZSgpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Uy5OQU1FRF9UWVBFLG5hbWU6dGhpcy5wYXJzZU5hbWUoKX0pfXBlZWtEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZWsoYy5TVFJJTkcpfHx0aGlzLnBlZWsoYy5CTE9DS19TVFJJTkcpfXBhcnNlRGVzY3JpcHRpb24oKXtpZih0aGlzLnBlZWtEZXNjcmlwdGlvbigpKXJldHVybiB0aGlzLnBhcnNlU3RyaW5nTGl0ZXJhbCgpfXBhcnNlU2NoZW1hRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoInNjaGVtYSIpO2NvbnN0IGk9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHI9dGhpcy5tYW55KGMuQlJBQ0VfTCx0aGlzLnBhcnNlT3BlcmF0aW9uVHlwZURlZmluaXRpb24sYy5CUkFDRV9SKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6Uy5TQ0hFTUFfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLGRpcmVjdGl2ZXM6aSxvcGVyYXRpb25UeXBlczpyfSl9cGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlT3BlcmF0aW9uVHlwZSgpO3RoaXMuZXhwZWN0VG9rZW4oYy5DT0xPTik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZWRUeXBlKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTixvcGVyYXRpb246bix0eXBlOml9KX1wYXJzZVNjYWxhclR5cGVEZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMuZXhwZWN0S2V5d29yZCgic2NhbGFyIik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpTLlNDQUxBUl9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksZGlyZWN0aXZlczpyfSl9cGFyc2VPYmplY3RUeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoInR5cGUiKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKSxzPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSx1PXRoaXMucGFyc2VGaWVsZHNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuT0JKRUNUX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxpbnRlcmZhY2VzOnIsZGlyZWN0aXZlczpzLGZpZWxkczp1fSl9cGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpe3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgiaW1wbGVtZW50cyIpP3RoaXMuZGVsaW1pdGVkTWFueShjLkFNUCx0aGlzLnBhcnNlTmFtZWRUeXBlKTpbXX1wYXJzZUZpZWxkc0RlZmluaXRpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkoYy5CUkFDRV9MLHRoaXMucGFyc2VGaWVsZERlZmluaXRpb24sYy5CUkFDRV9SKX1wYXJzZUZpZWxkRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKSxpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQXJndW1lbnREZWZzKCk7dGhpcy5leHBlY3RUb2tlbihjLkNPTE9OKTtjb25zdCBzPXRoaXMucGFyc2VUeXBlUmVmZXJlbmNlKCksdT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuRklFTERfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxhcmd1bWVudHM6cix0eXBlOnMsZGlyZWN0aXZlczp1fSl9cGFyc2VBcmd1bWVudERlZnMoKXtyZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkoYy5QQVJFTl9MLHRoaXMucGFyc2VJbnB1dFZhbHVlRGVmLGMuUEFSRU5fUil9cGFyc2VJbnB1dFZhbHVlRGVmKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VEZXNjcmlwdGlvbigpLGk9dGhpcy5wYXJzZU5hbWUoKTt0aGlzLmV4cGVjdFRva2VuKGMuQ09MT04pO2NvbnN0IHI9dGhpcy5wYXJzZVR5cGVSZWZlcmVuY2UoKTtsZXQgczt0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oYy5FUVVBTFMpJiYocz10aGlzLnBhcnNlQ29uc3RWYWx1ZUxpdGVyYWwoKSk7Y29uc3QgdT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuSU5QVVRfVkFMVUVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSx0eXBlOnIsZGVmYXVsdFZhbHVlOnMsZGlyZWN0aXZlczp1fSl9cGFyc2VJbnRlcmZhY2VUeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImludGVyZmFjZSIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHM9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHU9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6Uy5JTlRFUkZBQ0VfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGludGVyZmFjZXM6cixkaXJlY3RpdmVzOnMsZmllbGRzOnV9KX1wYXJzZVVuaW9uVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJ1bmlvbiIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxzPXRoaXMucGFyc2VVbmlvbk1lbWJlclR5cGVzKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuVU5JT05fVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cix0eXBlczpzfSl9cGFyc2VVbmlvbk1lbWJlclR5cGVzKCl7cmV0dXJuIHRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihjLkVRVUFMUyk/dGhpcy5kZWxpbWl0ZWRNYW55KGMuUElQRSx0aGlzLnBhcnNlTmFtZWRUeXBlKTpbXX1wYXJzZUVudW1UeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImVudW0iKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlRW51bVZhbHVlc0RlZmluaXRpb24oKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6Uy5FTlVNX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxkaXJlY3RpdmVzOnIsdmFsdWVzOnN9KX1wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGMuQlJBQ0VfTCx0aGlzLnBhcnNlRW51bVZhbHVlRGVmaW5pdGlvbixjLkJSQUNFX1IpfXBhcnNlRW51bVZhbHVlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKSxpPXRoaXMucGFyc2VFbnVtVmFsdWVOYW1lKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuRU5VTV9WQUxVRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cn0pfXBhcnNlRW51bVZhbHVlTmFtZSgpe2lmKHRoaXMuX2xleGVyLnRva2VuLnZhbHVlPT09InRydWUifHx0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJmYWxzZSJ8fHRoaXMuX2xleGVyLnRva2VuLnZhbHVlPT09Im51bGwiKXRocm93IFoodGhpcy5fbGV4ZXIuc291cmNlLHRoaXMuX2xleGVyLnRva2VuLnN0YXJ0LGAke0FlKHRoaXMuX2xleGVyLnRva2VuKX0gaXMgcmVzZXJ2ZWQgYW5kIGNhbm5vdCBiZSB1c2VkIGZvciBhbiBlbnVtIHZhbHVlLmApO3JldHVybiB0aGlzLnBhcnNlTmFtZSgpfXBhcnNlSW5wdXRPYmplY3RUeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImlucHV0Iik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUlucHV0RmllbGRzRGVmaW5pdGlvbigpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpTLklOUFVUX09CSkVDVF9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksZGlyZWN0aXZlczpyLGZpZWxkczpzfSl9cGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkoYy5CUkFDRV9MLHRoaXMucGFyc2VJbnB1dFZhbHVlRGVmLGMuQlJBQ0VfUil9cGFyc2VUeXBlU3lzdGVtRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci5sb29rYWhlYWQoKTtpZih0LmtpbmQ9PT1jLk5BTUUpc3dpdGNoKHQudmFsdWUpe2Nhc2Uic2NoZW1hIjpyZXR1cm4gdGhpcy5wYXJzZVNjaGVtYUV4dGVuc2lvbigpO2Nhc2Uic2NhbGFyIjpyZXR1cm4gdGhpcy5wYXJzZVNjYWxhclR5cGVFeHRlbnNpb24oKTtjYXNlInR5cGUiOnJldHVybiB0aGlzLnBhcnNlT2JqZWN0VHlwZUV4dGVuc2lvbigpO2Nhc2UiaW50ZXJmYWNlIjpyZXR1cm4gdGhpcy5wYXJzZUludGVyZmFjZVR5cGVFeHRlbnNpb24oKTtjYXNlInVuaW9uIjpyZXR1cm4gdGhpcy5wYXJzZVVuaW9uVHlwZUV4dGVuc2lvbigpO2Nhc2UiZW51bSI6cmV0dXJuIHRoaXMucGFyc2VFbnVtVHlwZUV4dGVuc2lvbigpO2Nhc2UiaW5wdXQiOnJldHVybiB0aGlzLnBhcnNlSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uKCl9dGhyb3cgdGhpcy51bmV4cGVjdGVkKHQpfXBhcnNlU2NoZW1hRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgic2NoZW1hIik7Y29uc3Qgbj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCksaT10aGlzLm9wdGlvbmFsTWFueShjLkJSQUNFX0wsdGhpcy5wYXJzZU9wZXJhdGlvblR5cGVEZWZpbml0aW9uLGMuQlJBQ0VfUik7aWYobi5sZW5ndGg9PT0wJiZpLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuU0NIRU1BX0VYVEVOU0lPTixkaXJlY3RpdmVzOm4sb3BlcmF0aW9uVHlwZXM6aX0pfXBhcnNlU2NhbGFyVHlwZUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoInNjYWxhciIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKTtpZihpLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuU0NBTEFSX1RZUEVfRVhURU5TSU9OLG5hbWU6bixkaXJlY3RpdmVzOml9KX1wYXJzZU9iamVjdFR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJ0eXBlIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLGk9dGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlRmllbGRzRGVmaW5pdGlvbigpO2lmKGkubGVuZ3RoPT09MCYmci5sZW5ndGg9PT0wJiZzLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuT0JKRUNUX1RZUEVfRVhURU5TSU9OLG5hbWU6bixpbnRlcmZhY2VzOmksZGlyZWN0aXZlczpyLGZpZWxkczpzfSl9cGFyc2VJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgiaW50ZXJmYWNlIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLGk9dGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlRmllbGRzRGVmaW5pdGlvbigpO2lmKGkubGVuZ3RoPT09MCYmci5sZW5ndGg9PT0wJiZzLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuSU5URVJGQUNFX1RZUEVfRVhURU5TSU9OLG5hbWU6bixpbnRlcmZhY2VzOmksZGlyZWN0aXZlczpyLGZpZWxkczpzfSl9cGFyc2VVbmlvblR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJ1bmlvbiIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMucGFyc2VVbmlvbk1lbWJlclR5cGVzKCk7aWYoaS5sZW5ndGg9PT0wJiZyLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlMuVU5JT05fVFlQRV9FWFRFTlNJT04sbmFtZTpuLGRpcmVjdGl2ZXM6aSx0eXBlczpyfSl9cGFyc2VFbnVtVHlwZUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoImVudW0iKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscj10aGlzLnBhcnNlRW51bVZhbHVlc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCl0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6Uy5FTlVNX1RZUEVfRVhURU5TSU9OLG5hbWU6bixkaXJlY3RpdmVzOmksdmFsdWVzOnJ9KX1wYXJzZUlucHV0T2JqZWN0VHlwZUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoImlucHV0Iik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLGk9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHI9dGhpcy5wYXJzZUlucHV0RmllbGRzRGVmaW5pdGlvbigpO2lmKGkubGVuZ3RoPT09MCYmci5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpTLklOUFVUX09CSkVDVF9UWVBFX0VYVEVOU0lPTixuYW1lOm4sZGlyZWN0aXZlczppLGZpZWxkczpyfSl9cGFyc2VEaXJlY3RpdmVEZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMuZXhwZWN0S2V5d29yZCgiZGlyZWN0aXZlIiksdGhpcy5leHBlY3RUb2tlbihjLkFUKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQXJndW1lbnREZWZzKCkscz10aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgicmVwZWF0YWJsZSIpO3RoaXMuZXhwZWN0S2V5d29yZCgib24iKTtjb25zdCB1PXRoaXMucGFyc2VEaXJlY3RpdmVMb2NhdGlvbnMoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6Uy5ESVJFQ1RJVkVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxhcmd1bWVudHM6cixyZXBlYXRhYmxlOnMsbG9jYXRpb25zOnV9KX1wYXJzZURpcmVjdGl2ZUxvY2F0aW9ucygpe3JldHVybiB0aGlzLmRlbGltaXRlZE1hbnkoYy5QSVBFLHRoaXMucGFyc2VEaXJlY3RpdmVMb2NhdGlvbil9cGFyc2VEaXJlY3RpdmVMb2NhdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlTmFtZSgpO2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChMZSxuLnZhbHVlKSlyZXR1cm4gbjt0aHJvdyB0aGlzLnVuZXhwZWN0ZWQodCl9bm9kZSh0LG4pe3ZhciBpO3JldHVybigoaT10aGlzLl9vcHRpb25zKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkubm9Mb2NhdGlvbikhPT0hMCYmKG4ubG9jPW5ldyBDdCh0LHRoaXMuX2xleGVyLmxhc3RUb2tlbix0aGlzLl9sZXhlci5zb3VyY2UpKSxufXBlZWsodCl7cmV0dXJuIHRoaXMuX2xleGVyLnRva2VuLmtpbmQ9PT10fWV4cGVjdFRva2VuKHQpe2NvbnN0IG49dGhpcy5fbGV4ZXIudG9rZW47aWYobi5raW5kPT09dClyZXR1cm4gdGhpcy5fbGV4ZXIuYWR2YW5jZSgpLG47dGhyb3cgWih0aGlzLl9sZXhlci5zb3VyY2Usbi5zdGFydCxgRXhwZWN0ZWQgJHthdCh0KX0sIGZvdW5kICR7QWUobil9LmApfWV4cGVjdE9wdGlvbmFsVG9rZW4odCl7cmV0dXJuIHRoaXMuX2xleGVyLnRva2VuLmtpbmQ9PT10Pyh0aGlzLl9sZXhlci5hZHZhbmNlKCksITApOiExfWV4cGVjdEtleXdvcmQodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbjtpZihuLmtpbmQ9PT1jLk5BTUUmJm4udmFsdWU9PT10KXRoaXMuX2xleGVyLmFkdmFuY2UoKTtlbHNlIHRocm93IFoodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYEV4cGVjdGVkICIke3R9IiwgZm91bmQgJHtBZShuKX0uYCl9ZXhwZWN0T3B0aW9uYWxLZXl3b3JkKHQpe2NvbnN0IG49dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIG4ua2luZD09PWMuTkFNRSYmbi52YWx1ZT09PXQ/KHRoaXMuX2xleGVyLmFkdmFuY2UoKSwhMCk6ITF9dW5leHBlY3RlZCh0KXtjb25zdCBuPXQhPW51bGw/dDp0aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gWih0aGlzLl9sZXhlci5zb3VyY2Usbi5zdGFydCxgVW5leHBlY3RlZCAke0FlKG4pfS5gKX1hbnkodCxuLGkpe3RoaXMuZXhwZWN0VG9rZW4odCk7Y29uc3Qgcj1bXTtmb3IoOyF0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oaSk7KXIucHVzaChuLmNhbGwodGhpcykpO3JldHVybiByfW9wdGlvbmFsTWFueSh0LG4saSl7aWYodGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHQpKXtjb25zdCByPVtdO2RvIHIucHVzaChuLmNhbGwodGhpcykpO3doaWxlKCF0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oaSkpO3JldHVybiByfXJldHVybltdfW1hbnkodCxuLGkpe3RoaXMuZXhwZWN0VG9rZW4odCk7Y29uc3Qgcj1bXTtkbyByLnB1c2gobi5jYWxsKHRoaXMpKTt3aGlsZSghdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGkpKTtyZXR1cm4gcn1kZWxpbWl0ZWRNYW55KHQsbil7dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHQpO2NvbnN0IGk9W107ZG8gaS5wdXNoKG4uY2FsbCh0aGlzKSk7d2hpbGUodGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHQpKTtyZXR1cm4gaX19ZnVuY3Rpb24gQWUoZSl7Y29uc3QgdD1lLnZhbHVlO3JldHVybiBhdChlLmtpbmQpKyh0IT1udWxsP2AgIiR7dH0iYDoiIil9ZnVuY3Rpb24gYXQoZSl7cmV0dXJuIE10KGUpP2AiJHtlfSJgOmV9dmFyIHVuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHBhcnNlOm90LHBhcnNlVmFsdWU6c24scGFyc2VDb25zdFZhbHVlOm9uLHBhcnNlVHlwZTphbixQYXJzZXI6RWV9KTtmdW5jdGlvbiBjbihlKXtyZXR1cm5gIiR7ZS5yZXBsYWNlKGxuLGRuKX0iYH1jb25zdCBsbj0vW1x4MDAtXHgxZlx4MjJceDVjXHg3Zi1ceDlmXS9nO2Z1bmN0aW9uIGRuKGUpe3JldHVybiBmbltlLmNoYXJDb2RlQXQoMCldfWNvbnN0IGZuPVsiXFx1MDAwMCIsIlxcdTAwMDEiLCJcXHUwMDAyIiwiXFx1MDAwMyIsIlxcdTAwMDQiLCJcXHUwMDA1IiwiXFx1MDAwNiIsIlxcdTAwMDciLCJcXGIiLCJcXHQiLCJcXG4iLCJcXHUwMDBCIiwiXFxmIiwiXFxyIiwiXFx1MDAwRSIsIlxcdTAwMEYiLCJcXHUwMDEwIiwiXFx1MDAxMSIsIlxcdTAwMTIiLCJcXHUwMDEzIiwiXFx1MDAxNCIsIlxcdTAwMTUiLCJcXHUwMDE2IiwiXFx1MDAxNyIsIlxcdTAwMTgiLCJcXHUwMDE5IiwiXFx1MDAxQSIsIlxcdTAwMUIiLCJcXHUwMDFDIiwiXFx1MDAxRCIsIlxcdTAwMUUiLCJcXHUwMDFGIiwiIiwiIiwnXFwiJywiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiXFxcXCIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIlxcdTAwN0YiLCJcXHUwMDgwIiwiXFx1MDA4MSIsIlxcdTAwODIiLCJcXHUwMDgzIiwiXFx1MDA4NCIsIlxcdTAwODUiLCJcXHUwMDg2IiwiXFx1MDA4NyIsIlxcdTAwODgiLCJcXHUwMDg5IiwiXFx1MDA4QSIsIlxcdTAwOEIiLCJcXHUwMDhDIiwiXFx1MDA4RCIsIlxcdTAwOEUiLCJcXHUwMDhGIiwiXFx1MDA5MCIsIlxcdTAwOTEiLCJcXHUwMDkyIiwiXFx1MDA5MyIsIlxcdTAwOTQiLCJcXHUwMDk1IiwiXFx1MDA5NiIsIlxcdTAwOTciLCJcXHUwMDk4IiwiXFx1MDA5OSIsIlxcdTAwOUEiLCJcXHUwMDlCIiwiXFx1MDA5QyIsIlxcdTAwOUQiLCJcXHUwMDlFIiwiXFx1MDA5RiJdLHBuPU9iamVjdC5mcmVlemUoe30pO2Z1bmN0aW9uIGhuKGUsdCxuPVdlKXtjb25zdCBpPW5ldyBNYXA7Zm9yKGNvbnN0IEIgb2YgT2JqZWN0LnZhbHVlcyhTKSlpLnNldChCLHluKHQsQikpO2xldCByLHM9QXJyYXkuaXNBcnJheShlKSx1PVtlXSxwPS0xLHY9W10sbT1lLE8sUjtjb25zdCBrPVtdLHE9W107ZG97cCsrO2NvbnN0IEI9cD09PXUubGVuZ3RoLFc9QiYmdi5sZW5ndGghPT0wO2lmKEIpe2lmKE89cS5sZW5ndGg9PT0wP3ZvaWQgMDprW2subGVuZ3RoLTFdLG09UixSPXEucG9wKCksVylpZihzKXttPW0uc2xpY2UoKTtsZXQgSz0wO2Zvcihjb25zdFtELF9db2Ygdil7Y29uc3QgYj1ELUs7Xz09PW51bGw/KG0uc3BsaWNlKGIsMSksSysrKTptW2JdPV99fWVsc2V7bT1PYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhtKSk7Zm9yKGNvbnN0W0ssRF1vZiB2KW1bS109RH1wPXIuaW5kZXgsdT1yLmtleXMsdj1yLmVkaXRzLHM9ci5pbkFycmF5LHI9ci5wcmV2fWVsc2UgaWYoUil7aWYoTz1zP3A6dVtwXSxtPVJbT10sbT09bnVsbCljb250aW51ZTtrLnB1c2goTyl9bGV0IHo7aWYoIUFycmF5LmlzQXJyYXkobSkpe3ZhciB3LHg7WGUobSl8fE9lKCExLGBJbnZhbGlkIEFTVCBOb2RlOiAke2l0KG0pfS5gKTtjb25zdCBLPUI/KHc9aS5nZXQobS5raW5kKSk9PT1udWxsfHx3PT09dm9pZCAwP3ZvaWQgMDp3LmxlYXZlOih4PWkuZ2V0KG0ua2luZCkpPT09bnVsbHx8eD09PXZvaWQgMD92b2lkIDA6eC5lbnRlcjtpZih6PUs9PW51bGw/dm9pZCAwOksuY2FsbCh0LG0sTyxSLGsscSksej09PXBuKWJyZWFrO2lmKHo9PT0hMSl7aWYoIUIpe2sucG9wKCk7Y29udGludWV9fWVsc2UgaWYoeiE9PXZvaWQgMCYmKHYucHVzaChbTyx6XSksIUIpKWlmKFhlKHopKW09ejtlbHNle2sucG9wKCk7Y29udGludWV9fWlmKHo9PT12b2lkIDAmJlcmJnYucHVzaChbTyxtXSksQilrLnBvcCgpO2Vsc2V7dmFyIEY7cj17aW5BcnJheTpzLGluZGV4OnAsa2V5czp1LGVkaXRzOnYscHJldjpyfSxzPUFycmF5LmlzQXJyYXkobSksdT1zP206KEY9blttLmtpbmRdKSE9PW51bGwmJkYhPT12b2lkIDA/RjpbXSxwPS0xLHY9W10sUiYmcS5wdXNoKFIpLFI9bX19d2hpbGUociE9PXZvaWQgMCk7cmV0dXJuIHYubGVuZ3RoIT09MD92W3YubGVuZ3RoLTFdWzFdOmV9ZnVuY3Rpb24geW4oZSx0KXtjb25zdCBuPWVbdF07cmV0dXJuIHR5cGVvZiBuPT0ib2JqZWN0Ij9uOnR5cGVvZiBuPT0iZnVuY3Rpb24iP3tlbnRlcjpuLGxlYXZlOnZvaWQgMH06e2VudGVyOmUuZW50ZXIsbGVhdmU6ZS5sZWF2ZX19ZnVuY3Rpb24gbW4oZSl7cmV0dXJuIGhuKGUsRW4pfWNvbnN0IHZuPTgwLEVuPXtOYW1lOntsZWF2ZTplPT5lLnZhbHVlfSxWYXJpYWJsZTp7bGVhdmU6ZT0+IiQiK2UubmFtZX0sRG9jdW1lbnQ6e2xlYXZlOmU9PmcoZS5kZWZpbml0aW9ucyxgCgpgKX0sT3BlcmF0aW9uRGVmaW5pdGlvbjp7bGVhdmUoZSl7Y29uc3QgdD1MKCIoIixnKGUudmFyaWFibGVEZWZpbml0aW9ucywiLCAiKSwiKSIpLG49ZyhbZS5vcGVyYXRpb24sZyhbZS5uYW1lLHRdKSxnKGUuZGlyZWN0aXZlcywiICIpXSwiICIpO3JldHVybihuPT09InF1ZXJ5Ij8iIjpuKyIgIikrZS5zZWxlY3Rpb25TZXR9fSxWYXJpYWJsZURlZmluaXRpb246e2xlYXZlOih7dmFyaWFibGU6ZSx0eXBlOnQsZGVmYXVsdFZhbHVlOm4sZGlyZWN0aXZlczppfSk9PmUrIjogIit0K0woIiA9ICIsbikrTCgiICIsZyhpLCIgIikpfSxTZWxlY3Rpb25TZXQ6e2xlYXZlOih7c2VsZWN0aW9uczplfSk9PnJlKGUpfSxGaWVsZDp7bGVhdmUoe2FsaWFzOmUsbmFtZTp0LGFyZ3VtZW50czpuLGRpcmVjdGl2ZXM6aSxzZWxlY3Rpb25TZXQ6cn0pe2NvbnN0IHM9TCgiIixlLCI6ICIpK3Q7bGV0IHU9cytMKCIoIixnKG4sIiwgIiksIikiKTtyZXR1cm4gdS5sZW5ndGg+dm4mJih1PXMrTChgKApgLFNlKGcobixgCmApKSxgCilgKSksZyhbdSxnKGksIiAiKSxyXSwiICIpfX0sQXJndW1lbnQ6e2xlYXZlOih7bmFtZTplLHZhbHVlOnR9KT0+ZSsiOiAiK3R9LEZyYWdtZW50U3ByZWFkOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnR9KT0+Ii4uLiIrZStMKCIgIixnKHQsIiAiKSl9LElubGluZUZyYWdtZW50OntsZWF2ZTooe3R5cGVDb25kaXRpb246ZSxkaXJlY3RpdmVzOnQsc2VsZWN0aW9uU2V0Om59KT0+ZyhbIi4uLiIsTCgib24gIixlKSxnKHQsIiAiKSxuXSwiICIpfSxGcmFnbWVudERlZmluaXRpb246e2xlYXZlOih7bmFtZTplLHR5cGVDb25kaXRpb246dCx2YXJpYWJsZURlZmluaXRpb25zOm4sZGlyZWN0aXZlczppLHNlbGVjdGlvblNldDpyfSk9PmBmcmFnbWVudCAke2V9JHtMKCIoIixnKG4sIiwgIiksIikiKX0gb24gJHt0fSAke0woIiIsZyhpLCIgIiksIiAiKX1gK3J9LEludFZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sRmxvYXRWYWx1ZTp7bGVhdmU6KHt2YWx1ZTplfSk9PmV9LFN0cmluZ1ZhbHVlOntsZWF2ZTooe3ZhbHVlOmUsYmxvY2s6dH0pPT50P3F0KGUpOmNuKGUpfSxCb29sZWFuVmFsdWU6e2xlYXZlOih7dmFsdWU6ZX0pPT5lPyJ0cnVlIjoiZmFsc2UifSxOdWxsVmFsdWU6e2xlYXZlOigpPT4ibnVsbCJ9LEVudW1WYWx1ZTp7bGVhdmU6KHt2YWx1ZTplfSk9PmV9LExpc3RWYWx1ZTp7bGVhdmU6KHt2YWx1ZXM6ZX0pPT4iWyIrZyhlLCIsICIpKyJdIn0sT2JqZWN0VmFsdWU6e2xlYXZlOih7ZmllbGRzOmV9KT0+InsiK2coZSwiLCAiKSsifSJ9LE9iamVjdEZpZWxkOntsZWF2ZTooe25hbWU6ZSx2YWx1ZTp0fSk9PmUrIjogIit0fSxEaXJlY3RpdmU6e2xlYXZlOih7bmFtZTplLGFyZ3VtZW50czp0fSk9PiJAIitlK0woIigiLGcodCwiLCAiKSwiKSIpfSxOYW1lZFR5cGU6e2xlYXZlOih7bmFtZTplfSk9PmV9LExpc3RUeXBlOntsZWF2ZTooe3R5cGU6ZX0pPT4iWyIrZSsiXSJ9LE5vbk51bGxUeXBlOntsZWF2ZTooe3R5cGU6ZX0pPT5lKyIhIn0sU2NoZW1hRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLGRpcmVjdGl2ZXM6dCxvcGVyYXRpb25UeXBlczpufSk9PkwoIiIsZSxgCmApK2coWyJzY2hlbWEiLGcodCwiICIpLHJlKG4pXSwiICIpfSxPcGVyYXRpb25UeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtvcGVyYXRpb246ZSx0eXBlOnR9KT0+ZSsiOiAiK3R9LFNjYWxhclR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGRpcmVjdGl2ZXM6bn0pPT5MKCIiLGUsYApgKStnKFsic2NhbGFyIix0LGcobiwiICIpXSwiICIpfSxPYmplY3RUeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxpbnRlcmZhY2VzOm4sZGlyZWN0aXZlczppLGZpZWxkczpyfSk9PkwoIiIsZSxgCmApK2coWyJ0eXBlIix0LEwoImltcGxlbWVudHMgIixnKG4sIiAmICIpKSxnKGksIiAiKSxyZShyKV0sIiAiKX0sRmllbGREZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHR5cGU6aSxkaXJlY3RpdmVzOnJ9KT0+TCgiIixlLGAKYCkrdCsodXQobik/TChgKApgLFNlKGcobixgCmApKSxgCilgKTpMKCIoIixnKG4sIiwgIiksIikiKSkrIjogIitpK0woIiAiLGcociwiICIpKX0sSW5wdXRWYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsdHlwZTpuLGRlZmF1bHRWYWx1ZTppLGRpcmVjdGl2ZXM6cn0pPT5MKCIiLGUsYApgKStnKFt0KyI6ICIrbixMKCI9ICIsaSksZyhyLCIgIildLCIgIil9LEludGVyZmFjZVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGludGVyZmFjZXM6bixkaXJlY3RpdmVzOmksZmllbGRzOnJ9KT0+TCgiIixlLGAKYCkrZyhbImludGVyZmFjZSIsdCxMKCJpbXBsZW1lbnRzICIsZyhuLCIgJiAiKSksZyhpLCIgIikscmUocildLCIgIil9LFVuaW9uVHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLHR5cGVzOml9KT0+TCgiIixlLGAKYCkrZyhbInVuaW9uIix0LGcobiwiICIpLEwoIj0gIixnKGksIiB8ICIpKV0sIiAiKX0sRW51bVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGRpcmVjdGl2ZXM6bix2YWx1ZXM6aX0pPT5MKCIiLGUsYApgKStnKFsiZW51bSIsdCxnKG4sIiAiKSxyZShpKV0sIiAiKX0sRW51bVZhbHVlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm59KT0+TCgiIixlLGAKYCkrZyhbdCxnKG4sIiAiKV0sIiAiKX0sSW5wdXRPYmplY3RUeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm4sZmllbGRzOml9KT0+TCgiIixlLGAKYCkrZyhbImlucHV0Iix0LGcobiwiICIpLHJlKGkpXSwiICIpfSxEaXJlY3RpdmVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHJlcGVhdGFibGU6aSxsb2NhdGlvbnM6cn0pPT5MKCIiLGUsYApgKSsiZGlyZWN0aXZlIEAiK3QrKHV0KG4pP0woYCgKYCxTZShnKG4sYApgKSksYAopYCk6TCgiKCIsZyhuLCIsICIpLCIpIikpKyhpPyIgcmVwZWF0YWJsZSI6IiIpKyIgb24gIitnKHIsIiB8ICIpfSxTY2hlbWFFeHRlbnNpb246e2xlYXZlOih7ZGlyZWN0aXZlczplLG9wZXJhdGlvblR5cGVzOnR9KT0+ZyhbImV4dGVuZCBzY2hlbWEiLGcoZSwiICIpLHJlKHQpXSwiICIpfSxTY2FsYXJUeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnR9KT0+ZyhbImV4dGVuZCBzY2FsYXIiLGUsZyh0LCIgIildLCIgIil9LE9iamVjdFR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGludGVyZmFjZXM6dCxkaXJlY3RpdmVzOm4sZmllbGRzOml9KT0+ZyhbImV4dGVuZCB0eXBlIixlLEwoImltcGxlbWVudHMgIixnKHQsIiAmICIpKSxnKG4sIiAiKSxyZShpKV0sIiAiKX0sSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsaW50ZXJmYWNlczp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6aX0pPT5nKFsiZXh0ZW5kIGludGVyZmFjZSIsZSxMKCJpbXBsZW1lbnRzICIsZyh0LCIgJiAiKSksZyhuLCIgIikscmUoaSldLCIgIil9LFVuaW9uVHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsZGlyZWN0aXZlczp0LHR5cGVzOm59KT0+ZyhbImV4dGVuZCB1bmlvbiIsZSxnKHQsIiAiKSxMKCI9ICIsZyhuLCIgfCAiKSldLCIgIil9LEVudW1UeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnQsdmFsdWVzOm59KT0+ZyhbImV4dGVuZCBlbnVtIixlLGcodCwiICIpLHJlKG4pXSwiICIpfSxJbnB1dE9iamVjdFR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dCxmaWVsZHM6bn0pPT5nKFsiZXh0ZW5kIGlucHV0IixlLGcodCwiICIpLHJlKG4pXSwiICIpfX07ZnVuY3Rpb24gZyhlLHQ9IiIpe3ZhciBuO3JldHVybihuPWU9PW51bGw/dm9pZCAwOmUuZmlsdGVyKGk9PmkpLmpvaW4odCkpIT09bnVsbCYmbiE9PXZvaWQgMD9uOiIifWZ1bmN0aW9uIHJlKGUpe3JldHVybiBMKGB7CmAsU2UoZyhlLGAKYCkpLGAKfWApfWZ1bmN0aW9uIEwoZSx0LG49IiIpe3JldHVybiB0IT1udWxsJiZ0IT09IiI/ZSt0K246IiJ9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuIEwoIiAgIixlLnJlcGxhY2UoL1xuL2csYAogIGApKX1mdW5jdGlvbiB1dChlKXt2YXIgdDtyZXR1cm4odD1lPT1udWxsP3ZvaWQgMDplLnNvbWUobj0+bi5pbmNsdWRlcyhgCmApKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9dmFyIGduPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHByaW50Om1ufSksd2U9bmV3IE1hcCxqZT1uZXcgTWFwLGN0PSEwLERlPSExO2Z1bmN0aW9uIGx0KGUpe3JldHVybiBlLnJlcGxhY2UoL1tccyxdKy9nLCIgIikudHJpbSgpfWZ1bmN0aW9uIF9uKGUpe3JldHVybiBsdChlLnNvdXJjZS5ib2R5LnN1YnN0cmluZyhlLnN0YXJ0LGUuZW5kKSl9ZnVuY3Rpb24gYm4oZSl7dmFyIHQ9bmV3IFNldCxuPVtdO3JldHVybiBlLmRlZmluaXRpb25zLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoaS5raW5kPT09IkZyYWdtZW50RGVmaW5pdGlvbiIpe3ZhciByPWkubmFtZS52YWx1ZSxzPV9uKGkubG9jKSx1PWplLmdldChyKTt1JiYhdS5oYXMocyk/Y3QmJmNvbnNvbGUud2FybigiV2FybmluZzogZnJhZ21lbnQgd2l0aCBuYW1lICIrcitgIGFscmVhZHkgZXhpc3RzLgpncmFwaHFsLXRhZyBlbmZvcmNlcyBhbGwgZnJhZ21lbnQgbmFtZXMgYWNyb3NzIHlvdXIgYXBwbGljYXRpb24gdG8gYmUgdW5pcXVlOyByZWFkIG1vcmUgYWJvdXQKdGhpcyBpbiB0aGUgZG9jczogaHR0cDovL2Rldi5hcG9sbG9kYXRhLmNvbS9jb3JlL2ZyYWdtZW50cy5odG1sI3VuaXF1ZS1uYW1lc2ApOnV8fGplLnNldChyLHU9bmV3IFNldCksdS5hZGQocyksdC5oYXMocyl8fCh0LmFkZChzKSxuLnB1c2goaSkpfWVsc2Ugbi5wdXNoKGkpfSksTmUoTmUoe30sZSkse2RlZmluaXRpb25zOm59KX1mdW5jdGlvbiBUbihlKXt2YXIgdD1uZXcgU2V0KGUuZGVmaW5pdGlvbnMpO3QuZm9yRWFjaChmdW5jdGlvbihpKXtpLmxvYyYmZGVsZXRlIGkubG9jLE9iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIHM9aVtyXTtzJiZ0eXBlb2Ygcz09Im9iamVjdCImJnQuYWRkKHMpfSl9KTt2YXIgbj1lLmxvYztyZXR1cm4gbiYmKGRlbGV0ZSBuLnN0YXJ0VG9rZW4sZGVsZXRlIG4uZW5kVG9rZW4pLGV9ZnVuY3Rpb24gTm4oZSl7dmFyIHQ9bHQoZSk7aWYoIXdlLmhhcyh0KSl7dmFyIG49b3QoZSx7ZXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXM6RGUsYWxsb3dMZWdhY3lGcmFnbWVudFZhcmlhYmxlczpEZX0pO2lmKCFufHxuLmtpbmQhPT0iRG9jdW1lbnQiKXRocm93IG5ldyBFcnJvcigiTm90IGEgdmFsaWQgR3JhcGhRTCBkb2N1bWVudC4iKTt3ZS5zZXQodCxUbihibihuKSkpfXJldHVybiB3ZS5nZXQodCl9ZnVuY3Rpb24gaGUoZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dHlwZW9mIGU9PSJzdHJpbmciJiYoZT1bZV0pO3ZhciBpPWVbMF07cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihyLHMpe3ImJnIua2luZD09PSJEb2N1bWVudCI/aSs9ci5sb2Muc291cmNlLmJvZHk6aSs9cixpKz1lW3MrMV19KSxObihpKX1mdW5jdGlvbiBPbigpe3dlLmNsZWFyKCksamUuY2xlYXIoKX1mdW5jdGlvbiB4bigpe2N0PSExfWZ1bmN0aW9uIEluKCl7RGU9ITB9ZnVuY3Rpb24gQW4oKXtEZT0hMX12YXIgZ2U9e2dxbDpoZSxyZXNldENhY2hlczpPbixkaXNhYmxlRnJhZ21lbnRXYXJuaW5nczp4bixlbmFibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlczpJbixkaXNhYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXM6QW59OyhmdW5jdGlvbihlKXtlLmdxbD1nZS5ncWwsZS5yZXNldENhY2hlcz1nZS5yZXNldENhY2hlcyxlLmRpc2FibGVGcmFnbWVudFdhcm5pbmdzPWdlLmRpc2FibGVGcmFnbWVudFdhcm5pbmdzLGUuZW5hYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXM9Z2UuZW5hYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXMsZS5kaXNhYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXM9Z2UuZGlzYWJsZUV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzfSkoaGV8fChoZT17fSkpLGhlLmRlZmF1bHQ9aGU7dmFyIGRlPWhlLFNuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxkdD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHduPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksRG49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxmdD0oZSx0LG4pPT50IGluIGU/U24oZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6ZVt0XT1uLHRlPShlLHQpPT57Zm9yKHZhciBuIGluIHR8fCh0PXt9KSl3bi5jYWxsKHQsbikmJmZ0KGUsbix0W25dKTtpZihkdClmb3IodmFyIG4gb2YgZHQodCkpRG4uY2FsbCh0LG4pJiZmdChlLG4sdFtuXSk7cmV0dXJuIGV9O2NvbnN0IFJuPWRlYAoJbXV0YXRpb24gUHVzaFBheWxvYWQoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJGV2ZW50czogUmVwbGF5RXZlbnRzSW5wdXQhCgkJJG1lc3NhZ2VzOiBTdHJpbmchCgkJJHJlc291cmNlczogU3RyaW5nIQoJCSRlcnJvcnM6IFtFcnJvck9iamVjdElucHV0XSEKCQkkaXNfYmVhY29uOiBCb29sZWFuCgkJJGhhc19zZXNzaW9uX3VubG9hZGVkOiBCb29sZWFuCgkJJGhpZ2hsaWdodF9sb2dzOiBTdHJpbmcKCQkkcGF5bG9hZF9pZDogSUQKCSkgewoJCXB1c2hQYXlsb2FkKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCWV2ZW50czogJGV2ZW50cwoJCQltZXNzYWdlczogJG1lc3NhZ2VzCgkJCXJlc291cmNlczogJHJlc291cmNlcwoJCQllcnJvcnM6ICRlcnJvcnMKCQkJaXNfYmVhY29uOiAkaXNfYmVhY29uCgkJCWhhc19zZXNzaW9uX3VubG9hZGVkOiAkaGFzX3Nlc3Npb25fdW5sb2FkZWQKCQkJaGlnaGxpZ2h0X2xvZ3M6ICRoaWdobGlnaHRfbG9ncwoJCQlwYXlsb2FkX2lkOiAkcGF5bG9hZF9pZAoJCSkKCX0KYCxrbj1kZWAKCW11dGF0aW9uIGlkZW50aWZ5U2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkdXNlcl9pZGVudGlmaWVyOiBTdHJpbmchCgkJJHVzZXJfb2JqZWN0OiBBbnkKCSkgewoJCWlkZW50aWZ5U2Vzc2lvbigKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX2lkZW50aWZpZXI6ICR1c2VyX2lkZW50aWZpZXIKCQkJdXNlcl9vYmplY3Q6ICR1c2VyX29iamVjdAoJCSkKCX0KYCxDbj1kZWAKCW11dGF0aW9uIGFkZFNlc3Npb25Qcm9wZXJ0aWVzKAoJCSRzZXNzaW9uX3NlY3VyZV9pZDogU3RyaW5nIQoJCSRwcm9wZXJ0aWVzX29iamVjdDogQW55CgkpIHsKCQlhZGRTZXNzaW9uUHJvcGVydGllcygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQlwcm9wZXJ0aWVzX29iamVjdDogJHByb3BlcnRpZXNfb2JqZWN0CgkJKQoJfQpgLFBuPWRlYAoJbXV0YXRpb24gcHVzaE1ldHJpY3MoJG1ldHJpY3M6IFtNZXRyaWNJbnB1dF0hKSB7CgkJcHVzaE1ldHJpY3MobWV0cmljczogJG1ldHJpY3MpCgl9CmAsRm49ZGVgCgltdXRhdGlvbiBhZGRTZXNzaW9uRmVlZGJhY2soCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHVzZXJfbmFtZTogU3RyaW5nCgkJJHVzZXJfZW1haWw6IFN0cmluZwoJCSR2ZXJiYXRpbTogU3RyaW5nIQoJCSR0aW1lc3RhbXA6IFRpbWVzdGFtcCEKCSkgewoJCWFkZFNlc3Npb25GZWVkYmFjaygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX25hbWU6ICR1c2VyX25hbWUKCQkJdXNlcl9lbWFpbDogJHVzZXJfZW1haWwKCQkJdmVyYmF0aW06ICR2ZXJiYXRpbQoJCQl0aW1lc3RhbXA6ICR0aW1lc3RhbXAKCQkpCgl9CmAsTG49ZGVgCgltdXRhdGlvbiBpbml0aWFsaXplU2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkb3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQ6IFN0cmluZyEKCQkkZW5hYmxlX3N0cmljdF9wcml2YWN5OiBCb29sZWFuIQoJCSRlbmFibGVfcmVjb3JkaW5nX25ldHdvcmtfY29udGVudHM6IEJvb2xlYW4hCgkJJGNsaWVudFZlcnNpb246IFN0cmluZyEKCQkkZmlyc3Rsb2FkVmVyc2lvbjogU3RyaW5nIQoJCSRjbGllbnRDb25maWc6IFN0cmluZyEKCQkkZW52aXJvbm1lbnQ6IFN0cmluZyEKCQkkaWQ6IFN0cmluZyEKCQkkYXBwVmVyc2lvbjogU3RyaW5nCgkJJGNsaWVudF9pZDogU3RyaW5nIQoJCSRuZXR3b3JrX3JlY29yZGluZ19kb21haW5zOiBbU3RyaW5nIV0KCSkgewoJCWluaXRpYWxpemVTZXNzaW9uKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCW9yZ2FuaXphdGlvbl92ZXJib3NlX2lkOiAkb3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQKCQkJZW5hYmxlX3N0cmljdF9wcml2YWN5OiAkZW5hYmxlX3N0cmljdF9wcml2YWN5CgkJCWVuYWJsZV9yZWNvcmRpbmdfbmV0d29ya19jb250ZW50czogJGVuYWJsZV9yZWNvcmRpbmdfbmV0d29ya19jb250ZW50cwoJCQljbGllbnRWZXJzaW9uOiAkY2xpZW50VmVyc2lvbgoJCQlmaXJzdGxvYWRWZXJzaW9uOiAkZmlyc3Rsb2FkVmVyc2lvbgoJCQljbGllbnRDb25maWc6ICRjbGllbnRDb25maWcKCQkJZW52aXJvbm1lbnQ6ICRlbnZpcm9ubWVudAoJCQlhcHBWZXJzaW9uOiAkYXBwVmVyc2lvbgoJCQlmaW5nZXJwcmludDogJGlkCgkJCWNsaWVudF9pZDogJGNsaWVudF9pZAoJCQluZXR3b3JrX3JlY29yZGluZ19kb21haW5zOiAkbmV0d29ya19yZWNvcmRpbmdfZG9tYWlucwoJCSkgewoJCQlzZWN1cmVfaWQKCQkJcHJvamVjdF9pZAoJCX0KCX0KYCxCbj1kZWAKCXF1ZXJ5IElnbm9yZSgkaWQ6IElEISkgewoJCWlnbm9yZShpZDogJGlkKQoJfQpgLHFuPShlLHQsbik9PmUoKTtmdW5jdGlvbiBqbihlLHQ9cW4pe3JldHVybntQdXNoUGF5bG9hZChuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChSbixuLHRlKHRlKHt9LGkpLHIpKSwiUHVzaFBheWxvYWQiLCJtdXRhdGlvbiIpfSxpZGVudGlmeVNlc3Npb24obixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3Qoa24sbix0ZSh0ZSh7fSxpKSxyKSksImlkZW50aWZ5U2Vzc2lvbiIsIm11dGF0aW9uIil9LGFkZFNlc3Npb25Qcm9wZXJ0aWVzKG4saSl7cmV0dXJuIHQocj0+ZS5yZXF1ZXN0KENuLG4sdGUodGUoe30saSkscikpLCJhZGRTZXNzaW9uUHJvcGVydGllcyIsIm11dGF0aW9uIil9LHB1c2hNZXRyaWNzKG4saSl7cmV0dXJuIHQocj0+ZS5yZXF1ZXN0KFBuLG4sdGUodGUoe30saSkscikpLCJwdXNoTWV0cmljcyIsIm11dGF0aW9uIil9LGFkZFNlc3Npb25GZWVkYmFjayhuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChGbixuLHRlKHRlKHt9LGkpLHIpKSwiYWRkU2Vzc2lvbkZlZWRiYWNrIiwibXV0YXRpb24iKX0saW5pdGlhbGl6ZVNlc3Npb24obixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoTG4sbix0ZSh0ZSh7fSxpKSxyKSksImluaXRpYWxpemVTZXNzaW9uIiwibXV0YXRpb24iKX0sSWdub3JlKG4saSl7cmV0dXJuIHQocj0+ZS5yZXF1ZXN0KEJuLG4sdGUodGUoe30saSkscikpLCJJZ25vcmUiLCJxdWVyeSIpfX19dmFyIE1lPXt9LFJlPXtleHBvcnRzOnt9fSxwdDtmdW5jdGlvbiBNbigpe3JldHVybiBwdHx8KHB0PTEsZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2Ygc2VsZiE9InVuZGVmaW5lZCI/c2VsZjokLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzKCl7dGhpcy5mZXRjaD0hMSx0aGlzLkRPTUV4Y2VwdGlvbj1uLkRPTUV4Y2VwdGlvbn1yZXR1cm4gcy5wcm90b3R5cGU9bixuZXcgc30oKTsoZnVuY3Rpb24ocyl7KGZ1bmN0aW9uKHUpe3ZhciBwPXtzZWFyY2hQYXJhbXM6IlVSTFNlYXJjaFBhcmFtcyJpbiBzLGl0ZXJhYmxlOiJTeW1ib2wiaW4gcyYmIml0ZXJhdG9yImluIFN5bWJvbCxibG9iOiJGaWxlUmVhZGVyImluIHMmJiJCbG9iImluIHMmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgQmxvYiwhMH1jYXRjaChvKXtyZXR1cm4hMX19KCksZm9ybURhdGE6IkZvcm1EYXRhImluIHMsYXJyYXlCdWZmZXI6IkFycmF5QnVmZmVyImluIHN9O2Z1bmN0aW9uIHYobyl7cmV0dXJuIG8mJkRhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG8pfWlmKHAuYXJyYXlCdWZmZXIpdmFyIG09WyJbb2JqZWN0IEludDhBcnJheV0iLCJbb2JqZWN0IFVpbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLCJbb2JqZWN0IEludDE2QXJyYXldIiwiW29iamVjdCBVaW50MTZBcnJheV0iLCJbb2JqZWN0IEludDMyQXJyYXldIiwiW29iamVjdCBVaW50MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0NjRBcnJheV0iXSxPPUFycmF5QnVmZmVyLmlzVmlld3x8ZnVuY3Rpb24obyl7cmV0dXJuIG8mJm0uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpPi0xfTtmdW5jdGlvbiBSKG8pe2lmKHR5cGVvZiBvIT0ic3RyaW5nIiYmKG89U3RyaW5nKG8pKSwvW15hLXowLTlcLSMkJSYnKisuXl9gfH5dL2kudGVzdChvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZSIpO3JldHVybiBvLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gayhvKXtyZXR1cm4gdHlwZW9mIG8hPSJzdHJpbmciJiYobz1TdHJpbmcobykpLG99ZnVuY3Rpb24gcShvKXt2YXIgZD17bmV4dDpmdW5jdGlvbigpe3ZhciBBPW8uc2hpZnQoKTtyZXR1cm57ZG9uZTpBPT09dm9pZCAwLHZhbHVlOkF9fX07cmV0dXJuIHAuaXRlcmFibGUmJihkW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gZH0pLGR9ZnVuY3Rpb24gdyhvKXt0aGlzLm1hcD17fSxvIGluc3RhbmNlb2Ygdz9vLmZvckVhY2goZnVuY3Rpb24oZCxBKXt0aGlzLmFwcGVuZChBLGQpfSx0aGlzKTpBcnJheS5pc0FycmF5KG8pP28uZm9yRWFjaChmdW5jdGlvbihkKXt0aGlzLmFwcGVuZChkWzBdLGRbMV0pfSx0aGlzKTpvJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvKS5mb3JFYWNoKGZ1bmN0aW9uKGQpe3RoaXMuYXBwZW5kKGQsb1tkXSl9LHRoaXMpfXcucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihvLGQpe289UihvKSxkPWsoZCk7dmFyIEE9dGhpcy5tYXBbb107dGhpcy5tYXBbb109QT9BKyIsICIrZDpkfSx3LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24obyl7ZGVsZXRlIHRoaXMubWFwW1IobyldfSx3LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24obyl7cmV0dXJuIG89UihvKSx0aGlzLmhhcyhvKT90aGlzLm1hcFtvXTpudWxsfSx3LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24obyl7cmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KFIobykpfSx3LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24obyxkKXt0aGlzLm1hcFtSKG8pXT1rKGQpfSx3LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKG8sZCl7Zm9yKHZhciBBIGluIHRoaXMubWFwKXRoaXMubWFwLmhhc093blByb3BlcnR5KEEpJiZvLmNhbGwoZCx0aGlzLm1hcFtBXSxBLHRoaXMpfSx3LnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7dmFyIG89W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihkLEEpe28ucHVzaChBKX0pLHEobyl9LHcucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciBvPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZCl7by5wdXNoKGQpfSkscShvKX0sdy5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3ZhciBvPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZCxBKXtvLnB1c2goW0EsZF0pfSkscShvKX0scC5pdGVyYWJsZSYmKHcucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09dy5wcm90b3R5cGUuZW50cmllcyk7ZnVuY3Rpb24geChvKXtpZihvLmJvZHlVc2VkKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKSk7by5ib2R5VXNlZD0hMH1mdW5jdGlvbiBGKG8pe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkLEEpe28ub25sb2FkPWZ1bmN0aW9uKCl7ZChvLnJlc3VsdCl9LG8ub25lcnJvcj1mdW5jdGlvbigpe0Eoby5lcnJvcil9fSl9ZnVuY3Rpb24gQihvKXt2YXIgZD1uZXcgRmlsZVJlYWRlcixBPUYoZCk7cmV0dXJuIGQucmVhZEFzQXJyYXlCdWZmZXIobyksQX1mdW5jdGlvbiBXKG8pe3ZhciBkPW5ldyBGaWxlUmVhZGVyLEE9RihkKTtyZXR1cm4gZC5yZWFkQXNUZXh0KG8pLEF9ZnVuY3Rpb24geihvKXtmb3IodmFyIGQ9bmV3IFVpbnQ4QXJyYXkobyksQT1uZXcgQXJyYXkoZC5sZW5ndGgpLFU9MDtVPGQubGVuZ3RoO1UrKylBW1VdPVN0cmluZy5mcm9tQ2hhckNvZGUoZFtVXSk7cmV0dXJuIEEuam9pbigiIil9ZnVuY3Rpb24gSyhvKXtpZihvLnNsaWNlKXJldHVybiBvLnNsaWNlKDApO3ZhciBkPW5ldyBVaW50OEFycmF5KG8uYnl0ZUxlbmd0aCk7cmV0dXJuIGQuc2V0KG5ldyBVaW50OEFycmF5KG8pKSxkLmJ1ZmZlcn1mdW5jdGlvbiBEKCl7cmV0dXJuIHRoaXMuYm9keVVzZWQ9ITEsdGhpcy5faW5pdEJvZHk9ZnVuY3Rpb24obyl7dGhpcy5fYm9keUluaXQ9byxvP3R5cGVvZiBvPT0ic3RyaW5nIj90aGlzLl9ib2R5VGV4dD1vOnAuYmxvYiYmQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvKT90aGlzLl9ib2R5QmxvYj1vOnAuZm9ybURhdGEmJkZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG8pP3RoaXMuX2JvZHlGb3JtRGF0YT1vOnAuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yobyk/dGhpcy5fYm9keVRleHQ9by50b1N0cmluZygpOnAuYXJyYXlCdWZmZXImJnAuYmxvYiYmdihvKT8odGhpcy5fYm9keUFycmF5QnVmZmVyPUsoby5idWZmZXIpLHRoaXMuX2JvZHlJbml0PW5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk6cC5hcnJheUJ1ZmZlciYmKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG8pfHxPKG8pKT90aGlzLl9ib2R5QXJyYXlCdWZmZXI9SyhvKTp0aGlzLl9ib2R5VGV4dD1vPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTp0aGlzLl9ib2R5VGV4dD0iIix0aGlzLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKXx8KHR5cGVvZiBvPT0ic3RyaW5nIj90aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgiKTp0aGlzLl9ib2R5QmxvYiYmdGhpcy5fYm9keUJsb2IudHlwZT90aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLHRoaXMuX2JvZHlCbG9iLnR5cGUpOnAuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YobykmJnRoaXMuaGVhZGVycy5zZXQoImNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04IikpfSxwLmJsb2ImJih0aGlzLmJsb2I9ZnVuY3Rpb24oKXt2YXIgbz14KHRoaXMpO2lmKG8pcmV0dXJuIG87aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYik7aWYodGhpcy5fYm9keUFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTtpZih0aGlzLl9ib2R5Rm9ybURhdGEpdGhyb3cgbmV3IEVycm9yKCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2IiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKX0sdGhpcy5hcnJheUJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib2R5QXJyYXlCdWZmZXI/eCh0aGlzKXx8UHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcik6dGhpcy5ibG9iKCkudGhlbihCKX0pLHRoaXMudGV4dD1mdW5jdGlvbigpe3ZhciBvPXgodGhpcyk7aWYobylyZXR1cm4gbztpZih0aGlzLl9ib2R5QmxvYilyZXR1cm4gVyh0aGlzLl9ib2R5QmxvYik7aWYodGhpcy5fYm9keUFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUoeih0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKTtpZih0aGlzLl9ib2R5Rm9ybURhdGEpdGhyb3cgbmV3IEVycm9yKCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KX0scC5mb3JtRGF0YSYmKHRoaXMuZm9ybURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbihQKX0pLHRoaXMuanNvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpfSx0aGlzfXZhciBfPVsiREVMRVRFIiwiR0VUIiwiSEVBRCIsIk9QVElPTlMiLCJQT1NUIiwiUFVUIl07ZnVuY3Rpb24gYihvKXt2YXIgZD1vLnRvVXBwZXJDYXNlKCk7cmV0dXJuIF8uaW5kZXhPZihkKT4tMT9kOm99ZnVuY3Rpb24gSShvLGQpe2Q9ZHx8e307dmFyIEE9ZC5ib2R5O2lmKG8gaW5zdGFuY2VvZiBJKXtpZihvLmJvZHlVc2VkKXRocm93IG5ldyBUeXBlRXJyb3IoIkFscmVhZHkgcmVhZCIpO3RoaXMudXJsPW8udXJsLHRoaXMuY3JlZGVudGlhbHM9by5jcmVkZW50aWFscyxkLmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IHcoby5oZWFkZXJzKSksdGhpcy5tZXRob2Q9by5tZXRob2QsdGhpcy5tb2RlPW8ubW9kZSx0aGlzLnNpZ25hbD1vLnNpZ25hbCwhQSYmby5fYm9keUluaXQhPW51bGwmJihBPW8uX2JvZHlJbml0LG8uYm9keVVzZWQ9ITApfWVsc2UgdGhpcy51cmw9U3RyaW5nKG8pO2lmKHRoaXMuY3JlZGVudGlhbHM9ZC5jcmVkZW50aWFsc3x8dGhpcy5jcmVkZW50aWFsc3x8InNhbWUtb3JpZ2luIiwoZC5oZWFkZXJzfHwhdGhpcy5oZWFkZXJzKSYmKHRoaXMuaGVhZGVycz1uZXcgdyhkLmhlYWRlcnMpKSx0aGlzLm1ldGhvZD1iKGQubWV0aG9kfHx0aGlzLm1ldGhvZHx8IkdFVCIpLHRoaXMubW9kZT1kLm1vZGV8fHRoaXMubW9kZXx8bnVsbCx0aGlzLnNpZ25hbD1kLnNpZ25hbHx8dGhpcy5zaWduYWwsdGhpcy5yZWZlcnJlcj1udWxsLCh0aGlzLm1ldGhvZD09PSJHRVQifHx0aGlzLm1ldGhvZD09PSJIRUFEIikmJkEpdGhyb3cgbmV3IFR5cGVFcnJvcigiQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMiKTt0aGlzLl9pbml0Qm9keShBKX1JLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSSh0aGlzLHtib2R5OnRoaXMuX2JvZHlJbml0fSl9O2Z1bmN0aW9uIFAobyl7dmFyIGQ9bmV3IEZvcm1EYXRhO3JldHVybiBvLnRyaW0oKS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oQSl7aWYoQSl7dmFyIFU9QS5zcGxpdCgiPSIpLGE9VS5zaGlmdCgpLnJlcGxhY2UoL1wrL2csIiAiKSxsPVUuam9pbigiPSIpLnJlcGxhY2UoL1wrL2csIiAiKTtkLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQoYSksZGVjb2RlVVJJQ29tcG9uZW50KGwpKX19KSxkfWZ1bmN0aW9uIE4obyl7dmFyIGQ9bmV3IHcsQT1vLnJlcGxhY2UoL1xyP1xuW1x0IF0rL2csIiAiKTtyZXR1cm4gQS5zcGxpdCgvXHI/XG4vKS5mb3JFYWNoKGZ1bmN0aW9uKFUpe3ZhciBhPVUuc3BsaXQoIjoiKSxsPWEuc2hpZnQoKS50cmltKCk7aWYobCl7dmFyIGY9YS5qb2luKCI6IikudHJpbSgpO2QuYXBwZW5kKGwsZil9fSksZH1ELmNhbGwoSS5wcm90b3R5cGUpO2Z1bmN0aW9uIEMobyxkKXtkfHwoZD17fSksdGhpcy50eXBlPSJkZWZhdWx0Iix0aGlzLnN0YXR1cz1kLnN0YXR1cz09PXZvaWQgMD8yMDA6ZC5zdGF0dXMsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDAsdGhpcy5zdGF0dXNUZXh0PSJzdGF0dXNUZXh0ImluIGQ/ZC5zdGF0dXNUZXh0OiJPSyIsdGhpcy5oZWFkZXJzPW5ldyB3KGQuaGVhZGVycyksdGhpcy51cmw9ZC51cmx8fCIiLHRoaXMuX2luaXRCb2R5KG8pfUQuY2FsbChDLnByb3RvdHlwZSksQy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEModGhpcy5fYm9keUluaXQse3N0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnRoaXMuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyB3KHRoaXMuaGVhZGVycyksdXJsOnRoaXMudXJsfSl9LEMuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgbz1uZXcgQyhudWxsLHtzdGF0dXM6MCxzdGF0dXNUZXh0OiIifSk7cmV0dXJuIG8udHlwZT0iZXJyb3IiLG99O3ZhciBZPVszMDEsMzAyLDMwMywzMDcsMzA4XTtDLnJlZGlyZWN0PWZ1bmN0aW9uKG8sZCl7aWYoWS5pbmRleE9mKGQpPT09LTEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgc3RhdHVzIGNvZGUiKTtyZXR1cm4gbmV3IEMobnVsbCx7c3RhdHVzOmQsaGVhZGVyczp7bG9jYXRpb246b319KX0sdS5ET01FeGNlcHRpb249cy5ET01FeGNlcHRpb247dHJ5e25ldyB1LkRPTUV4Y2VwdGlvbn1jYXRjaChvKXt1LkRPTUV4Y2VwdGlvbj1mdW5jdGlvbihkLEEpe3RoaXMubWVzc2FnZT1kLHRoaXMubmFtZT1BO3ZhciBVPUVycm9yKGQpO3RoaXMuc3RhY2s9VS5zdGFja30sdS5ET01FeGNlcHRpb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSx1LkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9dS5ET01FeGNlcHRpb259ZnVuY3Rpb24gSihvLGQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihBLFUpe3ZhciBhPW5ldyBJKG8sZCk7aWYoYS5zaWduYWwmJmEuc2lnbmFsLmFib3J0ZWQpcmV0dXJuIFUobmV3IHUuRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKTt2YXIgbD1uZXcgWE1MSHR0cFJlcXVlc3Q7ZnVuY3Rpb24gZigpe2wuYWJvcnQoKX1sLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBoPXtzdGF0dXM6bC5zdGF0dXMsc3RhdHVzVGV4dDpsLnN0YXR1c1RleHQsaGVhZGVyczpOKGwuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCl8fCIiKX07aC51cmw9InJlc3BvbnNlVVJMImluIGw/bC5yZXNwb25zZVVSTDpoLmhlYWRlcnMuZ2V0KCJYLVJlcXVlc3QtVVJMIik7dmFyIHk9InJlc3BvbnNlImluIGw/bC5yZXNwb25zZTpsLnJlc3BvbnNlVGV4dDtBKG5ldyBDKHksaCkpfSxsLm9uZXJyb3I9ZnVuY3Rpb24oKXtVKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9LGwub250aW1lb3V0PWZ1bmN0aW9uKCl7VShuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSxsLm9uYWJvcnQ9ZnVuY3Rpb24oKXtVKG5ldyB1LkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSl9LGwub3BlbihhLm1ldGhvZCxhLnVybCwhMCksYS5jcmVkZW50aWFscz09PSJpbmNsdWRlIj9sLndpdGhDcmVkZW50aWFscz0hMDphLmNyZWRlbnRpYWxzPT09Im9taXQiJiYobC53aXRoQ3JlZGVudGlhbHM9ITEpLCJyZXNwb25zZVR5cGUiaW4gbCYmcC5ibG9iJiYobC5yZXNwb25zZVR5cGU9ImJsb2IiKSxhLmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoLHkpe2wuc2V0UmVxdWVzdEhlYWRlcih5LGgpfSksYS5zaWduYWwmJihhLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsZiksbC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtsLnJlYWR5U3RhdGU9PT00JiZhLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsZil9KSxsLnNlbmQodHlwZW9mIGEuX2JvZHlJbml0PT0idW5kZWZpbmVkIj9udWxsOmEuX2JvZHlJbml0KX0pfXJldHVybiBKLnBvbHlmaWxsPSEwLHMuZmV0Y2h8fChzLmZldGNoPUoscy5IZWFkZXJzPXcscy5SZXF1ZXN0PUkscy5SZXNwb25zZT1DKSx1LkhlYWRlcnM9dyx1LlJlcXVlc3Q9SSx1LlJlc3BvbnNlPUMsdS5mZXRjaD1KLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx1fSkoe30pfSkoaSksaS5mZXRjaC5wb255ZmlsbD0hMCxkZWxldGUgaS5mZXRjaC5wb2x5ZmlsbDt2YXIgcj1pO3Q9ci5mZXRjaCx0LmRlZmF1bHQ9ci5mZXRjaCx0LmZldGNoPXIuZmV0Y2gsdC5IZWFkZXJzPXIuSGVhZGVycyx0LlJlcXVlc3Q9ci5SZXF1ZXN0LHQuUmVzcG9uc2U9ci5SZXNwb25zZSxlLmV4cG9ydHM9dH0oUmUsUmUuZXhwb3J0cykpLFJlLmV4cG9ydHN9dmFyICRuPUhlKHVuKSxVbj1IZShnbiksJGU9e30sa2U9e30saHQ9ZnVuY3Rpb24odCl7dmFyIG49dC51cmksaT10Lm5hbWUscj10LnR5cGU7dGhpcy51cmk9bix0aGlzLm5hbWU9aSx0aGlzLnR5cGU9cn0sVm49aHQseXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiBGaWxlIT0idW5kZWZpbmVkIiYmdCBpbnN0YW5jZW9mIEZpbGV8fHR5cGVvZiBCbG9iIT0idW5kZWZpbmVkIiYmdCBpbnN0YW5jZW9mIEJsb2J8fHQgaW5zdGFuY2VvZiBWbn0sR249eXQsSG49ZnVuY3Rpb24gZSh0LG4saSl7bj09PXZvaWQgMCYmKG49IiIpLGk9PT12b2lkIDAmJihpPUduKTt2YXIgcixzPW5ldyBNYXA7ZnVuY3Rpb24gdShPLFIpe3ZhciBrPXMuZ2V0KFIpO2s/ay5wdXNoLmFwcGx5KGssTyk6cy5zZXQoUixPKX1pZihpKHQpKXI9bnVsbCx1KFtuXSx0KTtlbHNle3ZhciBwPW4/bisiLiI6IiI7aWYodHlwZW9mIEZpbGVMaXN0IT0idW5kZWZpbmVkIiYmdCBpbnN0YW5jZW9mIEZpbGVMaXN0KXI9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHQsZnVuY3Rpb24oTyxSKXtyZXR1cm4gdShbIiIrcCtSXSxPKSxudWxsfSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpKXI9dC5tYXAoZnVuY3Rpb24oTyxSKXt2YXIgaz1lKE8sIiIrcCtSLGkpO3JldHVybiBrLmZpbGVzLmZvckVhY2godSksay5jbG9uZX0pO2Vsc2UgaWYodCYmdC5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7cj17fTtmb3IodmFyIHYgaW4gdCl7dmFyIG09ZSh0W3ZdLCIiK3ArdixpKTttLmZpbGVzLmZvckVhY2godSksclt2XT1tLmNsb25lfX1lbHNlIHI9dH1yZXR1cm57Y2xvbmU6cixmaWxlczpzfX07a2UuUmVhY3ROYXRpdmVGaWxlPWh0LGtlLmV4dHJhY3RGaWxlcz1IbixrZS5pc0V4dHJhY3RhYmxlRmlsZT15dDt2YXIgem49dHlwZW9mIHNlbGY9PSJvYmplY3QiP3NlbGYuRm9ybURhdGE6d2luZG93LkZvcm1EYXRhLF9lPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShfZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksX2UuZGVmYXVsdEpzb25TZXJpYWxpemVyPXZvaWQgMCxfZS5kZWZhdWx0SnNvblNlcmlhbGl6ZXI9e3BhcnNlOkpTT04ucGFyc2Usc3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fTt2YXIgWW49JCYmJC5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KCRlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbXQ9a2UsSm49WW4oem4pLFFuPV9lLFduPWZ1bmN0aW9uKGUpe3JldHVybiBtdC5pc0V4dHJhY3RhYmxlRmlsZShlKXx8ZSE9PW51bGwmJnR5cGVvZiBlPT0ib2JqZWN0IiYmdHlwZW9mIGUucGlwZT09ImZ1bmN0aW9uIn07ZnVuY3Rpb24gWG4oZSx0LG4saSl7aT09PXZvaWQgMCYmKGk9UW4uZGVmYXVsdEpzb25TZXJpYWxpemVyKTt2YXIgcj1tdC5leHRyYWN0RmlsZXMoe3F1ZXJ5OmUsdmFyaWFibGVzOnQsb3BlcmF0aW9uTmFtZTpufSwiIixXbikscz1yLmNsb25lLHU9ci5maWxlcztpZih1LnNpemU9PT0wKXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gaS5zdHJpbmdpZnkocyk7aWYodHlwZW9mIHQhPSJ1bmRlZmluZWQiJiYhQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjcmVhdGUgcmVxdWVzdCBib2R5IHdpdGggZ2l2ZW4gdmFyaWFibGUgdHlwZSwgYXJyYXkgZXhwZWN0ZWQiKTt2YXIgcD1lLnJlZHVjZShmdW5jdGlvbihrLHEsdyl7cmV0dXJuIGsucHVzaCh7cXVlcnk6cSx2YXJpYWJsZXM6dD90W3ddOnZvaWQgMH0pLGt9LFtdKTtyZXR1cm4gaS5zdHJpbmdpZnkocCl9dmFyIHY9dHlwZW9mIEZvcm1EYXRhPT0idW5kZWZpbmVkIj9Kbi5kZWZhdWx0OkZvcm1EYXRhLG09bmV3IHY7bS5hcHBlbmQoIm9wZXJhdGlvbnMiLGkuc3RyaW5naWZ5KHMpKTt2YXIgTz17fSxSPTA7cmV0dXJuIHUuZm9yRWFjaChmdW5jdGlvbihrKXtPWysrUl09a30pLG0uYXBwZW5kKCJtYXAiLGkuc3RyaW5naWZ5KE8pKSxSPTAsdS5mb3JFYWNoKGZ1bmN0aW9uKGsscSl7bS5hcHBlbmQoIiIrICsrUixxKX0pLG19JGUuZGVmYXVsdD1Ybjt2YXIgbmU9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KG5lLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuZS5wYXJzZUJhdGNoUmVxdWVzdHNFeHRlbmRlZEFyZ3M9bmUucGFyc2VSYXdSZXF1ZXN0RXh0ZW5kZWRBcmdzPW5lLnBhcnNlUmVxdWVzdEV4dGVuZGVkQXJncz1uZS5wYXJzZUJhdGNoUmVxdWVzdEFyZ3M9bmUucGFyc2VSYXdSZXF1ZXN0QXJncz1uZS5wYXJzZVJlcXVlc3RBcmdzPXZvaWQgMDtmdW5jdGlvbiBabihlLHQsbil7cmV0dXJuIGUuZG9jdW1lbnQ/ZTp7ZG9jdW1lbnQ6ZSx2YXJpYWJsZXM6dCxyZXF1ZXN0SGVhZGVyczpuLHNpZ25hbDp2b2lkIDB9fW5lLnBhcnNlUmVxdWVzdEFyZ3M9Wm47ZnVuY3Rpb24gS24oZSx0LG4pe3JldHVybiBlLnF1ZXJ5P2U6e3F1ZXJ5OmUsdmFyaWFibGVzOnQscmVxdWVzdEhlYWRlcnM6bixzaWduYWw6dm9pZCAwfX1uZS5wYXJzZVJhd1JlcXVlc3RBcmdzPUtuO2Z1bmN0aW9uIGVyKGUsdCl7cmV0dXJuIGUuZG9jdW1lbnRzP2U6e2RvY3VtZW50czplLHJlcXVlc3RIZWFkZXJzOnQsc2lnbmFsOnZvaWQgMH19bmUucGFyc2VCYXRjaFJlcXVlc3RBcmdzPWVyO2Z1bmN0aW9uIHRyKGUsdCxuLGkpe3JldHVybiBlLmRvY3VtZW50P2U6e3VybDplLGRvY3VtZW50OnQsdmFyaWFibGVzOm4scmVxdWVzdEhlYWRlcnM6aSxzaWduYWw6dm9pZCAwfX1uZS5wYXJzZVJlcXVlc3RFeHRlbmRlZEFyZ3M9dHI7ZnVuY3Rpb24gbnIoZSx0LG4saSl7cmV0dXJuIGUucXVlcnk/ZTp7dXJsOmUscXVlcnk6dCx2YXJpYWJsZXM6bixyZXF1ZXN0SGVhZGVyczppLHNpZ25hbDp2b2lkIDB9fW5lLnBhcnNlUmF3UmVxdWVzdEV4dGVuZGVkQXJncz1ucjtmdW5jdGlvbiBycihlLHQsbil7cmV0dXJuIGUuZG9jdW1lbnRzP2U6e3VybDplLGRvY3VtZW50czp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH19bmUucGFyc2VCYXRjaFJlcXVlc3RzRXh0ZW5kZWRBcmdzPXJyO3ZhciBiZT17fSxpcj0kJiYkLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LG4pe3JldHVybiBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihpLHIpe2kuX19wcm90b19fPXJ9fHxmdW5jdGlvbihpLHIpe2Zvcih2YXIgcyBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLHMpJiYoaVtzXT1yW3NdKX0sZSh0LG4pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtpZih0eXBlb2YgbiE9ImZ1bmN0aW9uIiYmbiE9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhuKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtlKHQsbik7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH10LnByb3RvdHlwZT1uPT09bnVsbD9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYmUuQ2xpZW50RXJyb3I9dm9pZCAwO3ZhciBzcj1mdW5jdGlvbihlKXtpcih0LGUpO2Z1bmN0aW9uIHQobixpKXt2YXIgcj10aGlzLHM9dC5leHRyYWN0TWVzc2FnZShuKSsiOiAiK0pTT04uc3RyaW5naWZ5KHtyZXNwb25zZTpuLHJlcXVlc3Q6aX0pO3JldHVybiByPWUuY2FsbCh0aGlzLHMpfHx0aGlzLE9iamVjdC5zZXRQcm90b3R5cGVPZihyLHQucHJvdG90eXBlKSxyLnJlc3BvbnNlPW4sci5yZXF1ZXN0PWksdHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlPT0iZnVuY3Rpb24iJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShyLHQpLHJ9cmV0dXJuIHQuZXh0cmFjdE1lc3NhZ2U9ZnVuY3Rpb24obil7dHJ5e3JldHVybiBuLmVycm9yc1swXS5tZXNzYWdlfWNhdGNoKGkpe3JldHVybiJHcmFwaFFMIEVycm9yIChDb2RlOiAiK24uc3RhdHVzKyIpIn19LHR9KEVycm9yKTtiZS5DbGllbnRFcnJvcj1zcjt2YXIgVGU9e30sdnQ7ZnVuY3Rpb24gb3IoKXtpZih2dClyZXR1cm4gVGU7dnQ9MTt2YXIgZT0kJiYkLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybiBlPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKEQpe2Zvcih2YXIgXyxiPTEsST1hcmd1bWVudHMubGVuZ3RoO2I8STtiKyspe189YXJndW1lbnRzW2JdO2Zvcih2YXIgUCBpbiBfKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfLFApJiYoRFtQXT1fW1BdKX1yZXR1cm4gRH0sZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHQ9JCYmJC5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKEQsXyxiLEkpe2Z1bmN0aW9uIFAoTil7cmV0dXJuIE4gaW5zdGFuY2VvZiBiP046bmV3IGIoZnVuY3Rpb24oQyl7QyhOKX0pfXJldHVybiBuZXcoYnx8KGI9UHJvbWlzZSkpKGZ1bmN0aW9uKE4sQyl7ZnVuY3Rpb24gWShkKXt0cnl7byhJLm5leHQoZCkpfWNhdGNoKEEpe0MoQSl9fWZ1bmN0aW9uIEooZCl7dHJ5e28oSS50aHJvdyhkKSl9Y2F0Y2goQSl7QyhBKX19ZnVuY3Rpb24gbyhkKXtkLmRvbmU/TihkLnZhbHVlKTpQKGQudmFsdWUpLnRoZW4oWSxKKX1vKChJPUkuYXBwbHkoRCxffHxbXSkpLm5leHQoKSl9KX0sbj0kJiYkLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihELF8pe3ZhciBiPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZihOWzBdJjEpdGhyb3cgTlsxXTtyZXR1cm4gTlsxXX0sdHJ5czpbXSxvcHM6W119LEksUCxOLEM7cmV0dXJuIEM9e25leHQ6WSgwKSx0aHJvdzpZKDEpLHJldHVybjpZKDIpfSx0eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiYoQ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxDO2Z1bmN0aW9uIFkobyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBKKFtvLGRdKX19ZnVuY3Rpb24gSihvKXtpZihJKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2I7KXRyeXtpZihJPTEsUCYmKE49b1swXSYyP1AucmV0dXJuOm9bMF0/UC50aHJvd3x8KChOPVAucmV0dXJuKSYmTi5jYWxsKFApLDApOlAubmV4dCkmJiEoTj1OLmNhbGwoUCxvWzFdKSkuZG9uZSlyZXR1cm4gTjtzd2l0Y2goUD0wLE4mJihvPVtvWzBdJjIsTi52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6Tj1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYi5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTpiLmxhYmVsKyssUD1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWIub3BzLnBvcCgpLGIudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKE49Yi50cnlzLCEoTj1OLmxlbmd0aD4wJiZOW04ubGVuZ3RoLTFdKSYmKG9bMF09PT02fHxvWzBdPT09Mikpe2I9MDtjb250aW51ZX1pZihvWzBdPT09MyYmKCFOfHxvWzFdPk5bMF0mJm9bMV08TlszXSkpe2IubGFiZWw9b1sxXTticmVha31pZihvWzBdPT09NiYmYi5sYWJlbDxOWzFdKXtiLmxhYmVsPU5bMV0sTj1vO2JyZWFrfWlmKE4mJmIubGFiZWw8TlsyXSl7Yi5sYWJlbD1OWzJdLGIub3BzLnB1c2gobyk7YnJlYWt9TlsyXSYmYi5vcHMucG9wKCksYi50cnlzLnBvcCgpO2NvbnRpbnVlfW89Xy5jYWxsKEQsYil9Y2F0Y2goZCl7bz1bNixkXSxQPTB9ZmluYWxseXtJPU49MH1pZihvWzBdJjUpdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShUZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksVGUuR3JhcGhRTFdlYlNvY2tldENsaWVudD12b2lkIDA7dmFyIGk9YmUscj1ndCgpLHM9ImNvbm5lY3Rpb25faW5pdCIsdT0iY29ubmVjdGlvbl9hY2siLHA9InBpbmciLHY9InBvbmciLG09InN1YnNjcmliZSIsTz0ibmV4dCIsUj0iZXJyb3IiLGs9ImNvbXBsZXRlIixxPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRChfLGIsSSl7dGhpcy5fdHlwZT1fLHRoaXMuX3BheWxvYWQ9Yix0aGlzLl9pZD1JfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoRC5wcm90b3R5cGUsInR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRC5wcm90b3R5cGUsImlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShELnByb3RvdHlwZSwicGF5bG9hZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXlsb2FkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShELnByb3RvdHlwZSwidGV4dCIse2dldDpmdW5jdGlvbigpe3ZhciBfPXt0eXBlOnRoaXMudHlwZX07cmV0dXJuIHRoaXMuaWQhPW51bGwmJnRoaXMuaWQhPW51bGwmJihfLmlkPXRoaXMuaWQpLHRoaXMucGF5bG9hZCE9bnVsbCYmdGhpcy5wYXlsb2FkIT1udWxsJiYoXy5wYXlsb2FkPXRoaXMucGF5bG9hZCksSlNPTi5zdHJpbmdpZnkoXyl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksRC5wYXJzZT1mdW5jdGlvbihfLGIpe3ZhciBJPUpTT04ucGFyc2UoXyksUD1JLnR5cGUsTj1JLnBheWxvYWQsQz1JLmlkO3JldHVybiBuZXcgRChQLGIoTiksQyl9LER9KCksdz1mdW5jdGlvbigpe2Z1bmN0aW9uIEQoXyxiKXt2YXIgST10aGlzLFA9Yi5vbkluaXQsTj1iLm9uQWNrbm93bGVkZ2VkLEM9Yi5vblBpbmcsWT1iLm9uUG9uZzt0aGlzLnNvY2tldFN0YXRlPXthY2tub3dsZWRnZWQ6ITEsbGFzdFJlcXVlc3RJZDowLHN1YnNjcmlwdGlvbnM6e319LHRoaXMuc29ja2V0PV8sXy5vbm9wZW49ZnVuY3Rpb24oSil7cmV0dXJuIHQoSSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG8sZCxBLFU7cmV0dXJuIG4odGhpcyxmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnNvY2tldFN0YXRlLmFja25vd2xlZGdlZD0hMSx0aGlzLnNvY2tldFN0YXRlLnN1YnNjcmlwdGlvbnM9e30sZD0obz1fKS5zZW5kLEE9RixQP1s0LFAoKV06WzMsMl07Y2FzZSAxOnJldHVybiBVPWEuc2VudCgpLFszLDNdO2Nhc2UgMjpVPW51bGwsYS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gZC5hcHBseShvLFtBLmFwcGx5KHZvaWQgMCxbVV0pLnRleHRdKSxbMl19fSl9KX0sXy5vbmNsb3NlPWZ1bmN0aW9uKEope0kuc29ja2V0U3RhdGUuYWNrbm93bGVkZ2VkPSExLEkuc29ja2V0U3RhdGUuc3Vic2NyaXB0aW9ucz17fX0sXy5vbmVycm9yPWZ1bmN0aW9uKEope2NvbnNvbGUuZXJyb3IoSil9LF8ub25tZXNzYWdlPWZ1bmN0aW9uKEope3RyeXt2YXIgbz14KEouZGF0YSk7c3dpdGNoKG8udHlwZSl7Y2FzZSB1OntJLnNvY2tldFN0YXRlLmFja25vd2xlZGdlZD9jb25zb2xlLndhcm4oIkR1cGxpY2F0ZSBDT05ORUNUSU9OX0FDSyBtZXNzYWdlIGlnbm9yZWQiKTooSS5zb2NrZXRTdGF0ZS5hY2tub3dsZWRnZWQ9ITAsTiYmTihvLnBheWxvYWQpKTtyZXR1cm59Y2FzZSBwOntDP0Moby5wYXlsb2FkKS50aGVuKGZ1bmN0aW9uKGwpe3JldHVybiBfLnNlbmQoVyhsKS50ZXh0KX0pOl8uc2VuZChXKG51bGwpLnRleHQpO3JldHVybn1jYXNlIHY6e1kmJlkoby5wYXlsb2FkKTtyZXR1cm59fWlmKCFJLnNvY2tldFN0YXRlLmFja25vd2xlZGdlZHx8by5pZD09PXZvaWQgMHx8by5pZD09PW51bGx8fCFJLnNvY2tldFN0YXRlLnN1YnNjcmlwdGlvbnNbby5pZF0pcmV0dXJuO3ZhciBkPUkuc29ja2V0U3RhdGUuc3Vic2NyaXB0aW9uc1tvLmlkXSxBPWQucXVlcnksVT1kLnZhcmlhYmxlcyxhPWQuc3Vic2NyaWJlcjtzd2l0Y2goby50eXBlKXtjYXNlIE86eyFvLnBheWxvYWQuZXJyb3JzJiZvLnBheWxvYWQuZGF0YSYmYS5uZXh0JiZhLm5leHQoby5wYXlsb2FkLmRhdGEpLG8ucGF5bG9hZC5lcnJvcnMmJmEuZXJyb3ImJmEuZXJyb3IobmV3IGkuQ2xpZW50RXJyb3IoZShlKHt9LG8ucGF5bG9hZCkse3N0YXR1czoyMDB9KSx7cXVlcnk6QSx2YXJpYWJsZXM6VX0pKTtyZXR1cm59Y2FzZSBSOnthLmVycm9yJiZhLmVycm9yKG5ldyBpLkNsaWVudEVycm9yKHtlcnJvcnM6by5wYXlsb2FkLHN0YXR1czoyMDB9LHtxdWVyeTpBLHZhcmlhYmxlczpVfSkpO3JldHVybn1jYXNlIGs6e2EuY29tcGxldGUmJmEuY29tcGxldGUoKSxkZWxldGUgSS5zb2NrZXRTdGF0ZS5zdWJzY3JpcHRpb25zW28uaWRdO3JldHVybn19fWNhdGNoKGwpe2NvbnNvbGUuZXJyb3IobCksXy5jbG9zZSgxMDA2KX1fLmNsb3NlKDQ0MDAsIlVua25vd24gZ3JhcGhxbC13cyBtZXNzYWdlLiIpfX1yZXR1cm4gRC5wcm90b3R5cGUubWFrZVN1YnNjcmliZT1mdW5jdGlvbihfLGIsSSxQKXt2YXIgTj10aGlzLEM9KHRoaXMuc29ja2V0U3RhdGUubGFzdFJlcXVlc3RJZCsrKS50b1N0cmluZygpO3JldHVybiB0aGlzLnNvY2tldFN0YXRlLnN1YnNjcmlwdGlvbnNbQ109e3F1ZXJ5Ol8sdmFyaWFibGVzOkksc3Vic2NyaWJlcjpQfSx0aGlzLnNvY2tldC5zZW5kKHooQyx7cXVlcnk6XyxvcGVyYXRpb25OYW1lOmIsdmFyaWFibGVzOkl9KS50ZXh0KSxmdW5jdGlvbigpe04uc29ja2V0LnNlbmQoSyhDKS50ZXh0KSxkZWxldGUgTi5zb2NrZXRTdGF0ZS5zdWJzY3JpcHRpb25zW0NdfX0sRC5wcm90b3R5cGUucmF3UmVxdWVzdD1mdW5jdGlvbihfLGIpe3ZhciBJPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKFAsTil7dmFyIEM7SS5yYXdTdWJzY3JpYmUoXyx7bmV4dDpmdW5jdGlvbihZLEope3JldHVybiBDPXtkYXRhOlksZXh0ZW5zaW9uczpKfX0sZXJyb3I6Tixjb21wbGV0ZTpmdW5jdGlvbigpe3JldHVybiBQKEMpfX0sYil9KX0sRC5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihfLGIpe3ZhciBJPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKFAsTil7dmFyIEM7SS5zdWJzY3JpYmUoXyx7bmV4dDpmdW5jdGlvbihZKXtyZXR1cm4gQz1ZfSxlcnJvcjpOLGNvbXBsZXRlOmZ1bmN0aW9uKCl7cmV0dXJuIFAoQyl9fSxiKX0pfSxELnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oXyxiLEkpe3ZhciBQPXIucmVzb2x2ZVJlcXVlc3REb2N1bWVudChfKSxOPVAucXVlcnksQz1QLm9wZXJhdGlvbk5hbWU7cmV0dXJuIHRoaXMubWFrZVN1YnNjcmliZShOLEMsSSxiKX0sRC5wcm90b3R5cGUucmF3U3Vic2NyaWJlPWZ1bmN0aW9uKF8sYixJKXtyZXR1cm4gdGhpcy5tYWtlU3Vic2NyaWJlKF8sdm9pZCAwLEksYil9LEQucHJvdG90eXBlLnBpbmc9ZnVuY3Rpb24oXyl7dGhpcy5zb2NrZXQuc2VuZChCKF8pLnRleHQpfSxELnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuc29ja2V0LmNsb3NlKDFlMyl9LEQuUFJPVE9DT0w9ImdyYXBocWwtdHJhbnNwb3J0LXdzIixEfSgpO1RlLkdyYXBoUUxXZWJTb2NrZXRDbGllbnQ9dztmdW5jdGlvbiB4KEQsXyl7Xz09PXZvaWQgMCYmKF89ZnVuY3Rpb24oSSl7cmV0dXJuIEl9KTt2YXIgYj1xLnBhcnNlKEQsXyk7cmV0dXJuIGJ9ZnVuY3Rpb24gRihEKXtyZXR1cm4gbmV3IHEocyxEKX1mdW5jdGlvbiBCKEQpe3JldHVybiBuZXcgcShwLEQsdm9pZCAwKX1mdW5jdGlvbiBXKEQpe3JldHVybiBuZXcgcSh2LEQsdm9pZCAwKX1mdW5jdGlvbiB6KEQsXyl7cmV0dXJuIG5ldyBxKG0sXyxEKX1mdW5jdGlvbiBLKEQpe3JldHVybiBuZXcgcShrLHZvaWQgMCxEKX1yZXR1cm4gVGV9dmFyIEV0O2Z1bmN0aW9uIGd0KCl7cmV0dXJuIEV0fHwoRXQ9MSxmdW5jdGlvbihlKXt2YXIgdD0kJiYkLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybiB0PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGEpe2Zvcih2YXIgbCxmPTEsaD1hcmd1bWVudHMubGVuZ3RoO2Y8aDtmKyspe2w9YXJndW1lbnRzW2ZdO2Zvcih2YXIgeSBpbiBsKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHkpJiYoYVt5XT1sW3ldKX1yZXR1cm4gYX0sdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG49JCYmJC5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGEsbCxmLGgpe2g9PT12b2lkIDAmJihoPWYpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGgse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbZl19fSl9OmZ1bmN0aW9uKGEsbCxmLGgpe2g9PT12b2lkIDAmJihoPWYpLGFbaF09bFtmXX0pLGk9JCYmJC5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGEsbCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmx9KX06ZnVuY3Rpb24oYSxsKXthLmRlZmF1bHQ9bH0pLHI9JCYmJC5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGEpe2lmKGEmJmEuX19lc01vZHVsZSlyZXR1cm4gYTt2YXIgbD17fTtpZihhIT1udWxsKWZvcih2YXIgZiBpbiBhKWYhPT0iZGVmYXVsdCImJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGYpJiZuKGwsYSxmKTtyZXR1cm4gaShsLGEpLGx9LHM9JCYmJC5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGEsbCxmLGgpe2Z1bmN0aW9uIHkoRSl7cmV0dXJuIEUgaW5zdGFuY2VvZiBmP0U6bmV3IGYoZnVuY3Rpb24oail7aihFKX0pfXJldHVybiBuZXcoZnx8KGY9UHJvbWlzZSkpKGZ1bmN0aW9uKEUsail7ZnVuY3Rpb24gTShHKXt0cnl7VChoLm5leHQoRykpfWNhdGNoKFgpe2ooWCl9fWZ1bmN0aW9uIFYoRyl7dHJ5e1QoaC50aHJvdyhHKSl9Y2F0Y2goWCl7aihYKX19ZnVuY3Rpb24gVChHKXtHLmRvbmU/RShHLnZhbHVlKTp5KEcudmFsdWUpLnRoZW4oTSxWKX1UKChoPWguYXBwbHkoYSxsfHxbXSkpLm5leHQoKSl9KX0sdT0kJiYkLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihhLGwpe3ZhciBmPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZihFWzBdJjEpdGhyb3cgRVsxXTtyZXR1cm4gRVsxXX0sdHJ5czpbXSxvcHM6W119LGgseSxFLGo7cmV0dXJuIGo9e25leHQ6TSgwKSx0aHJvdzpNKDEpLHJldHVybjpNKDIpfSx0eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiYoaltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxqO2Z1bmN0aW9uIE0oVCl7cmV0dXJuIGZ1bmN0aW9uKEcpe3JldHVybiBWKFtULEddKX19ZnVuY3Rpb24gVihUKXtpZihoKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2Y7KXRyeXtpZihoPTEseSYmKEU9VFswXSYyP3kucmV0dXJuOlRbMF0/eS50aHJvd3x8KChFPXkucmV0dXJuKSYmRS5jYWxsKHkpLDApOnkubmV4dCkmJiEoRT1FLmNhbGwoeSxUWzFdKSkuZG9uZSlyZXR1cm4gRTtzd2l0Y2goeT0wLEUmJihUPVtUWzBdJjIsRS52YWx1ZV0pLFRbMF0pe2Nhc2UgMDpjYXNlIDE6RT1UO2JyZWFrO2Nhc2UgNDpyZXR1cm4gZi5sYWJlbCsrLHt2YWx1ZTpUWzFdLGRvbmU6ITF9O2Nhc2UgNTpmLmxhYmVsKysseT1UWzFdLFQ9WzBdO2NvbnRpbnVlO2Nhc2UgNzpUPWYub3BzLnBvcCgpLGYudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKEU9Zi50cnlzLCEoRT1FLmxlbmd0aD4wJiZFW0UubGVuZ3RoLTFdKSYmKFRbMF09PT02fHxUWzBdPT09Mikpe2Y9MDtjb250aW51ZX1pZihUWzBdPT09MyYmKCFFfHxUWzFdPkVbMF0mJlRbMV08RVszXSkpe2YubGFiZWw9VFsxXTticmVha31pZihUWzBdPT09NiYmZi5sYWJlbDxFWzFdKXtmLmxhYmVsPUVbMV0sRT1UO2JyZWFrfWlmKEUmJmYubGFiZWw8RVsyXSl7Zi5sYWJlbD1FWzJdLGYub3BzLnB1c2goVCk7YnJlYWt9RVsyXSYmZi5vcHMucG9wKCksZi50cnlzLnBvcCgpO2NvbnRpbnVlfVQ9bC5jYWxsKGEsZil9Y2F0Y2goRyl7VD1bNixHXSx5PTB9ZmluYWxseXtoPUU9MH1pZihUWzBdJjUpdGhyb3cgVFsxXTtyZXR1cm57dmFsdWU6VFswXT9UWzFdOnZvaWQgMCxkb25lOiEwfX19LHA9JCYmJC5fX3Jlc3R8fGZ1bmN0aW9uKGEsbCl7dmFyIGY9e307Zm9yKHZhciBoIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsaCkmJmwuaW5kZXhPZihoKTwwJiYoZltoXT1hW2hdKTtpZihhIT1udWxsJiZ0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz09ImZ1bmN0aW9uIilmb3IodmFyIHk9MCxoPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoYSk7eTxoLmxlbmd0aDt5KyspbC5pbmRleE9mKGhbeV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChhLGhbeV0pJiYoZltoW3ldXT1hW2hbeV1dKTtyZXR1cm4gZn0sdj0kJiYkLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5HcmFwaFFMV2ViU29ja2V0Q2xpZW50PWUuZ3FsPWUucmVzb2x2ZVJlcXVlc3REb2N1bWVudD1lLmJhdGNoUmVxdWVzdHM9ZS5yZXF1ZXN0PWUucmF3UmVxdWVzdD1lLkdyYXBoUUxDbGllbnQ9ZS5DbGllbnRFcnJvcj12b2lkIDA7dmFyIG09cihNbigpKSxPPW0sUj0kbixrPVVuLHE9digkZSksdz1fZSx4PW5lLEY9YmU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkNsaWVudEVycm9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRi5DbGllbnRFcnJvcn19KTt2YXIgQj1mdW5jdGlvbihhKXt2YXIgbD17fTtyZXR1cm4gYSYmKHR5cGVvZiBIZWFkZXJzIT0idW5kZWZpbmVkIiYmYSBpbnN0YW5jZW9mIEhlYWRlcnN8fGEgaW5zdGFuY2VvZiBPLkhlYWRlcnM/bD1BKGEpOkFycmF5LmlzQXJyYXkoYSk/YS5mb3JFYWNoKGZ1bmN0aW9uKGYpe3ZhciBoPWZbMF0seT1mWzFdO2xbaF09eX0pOmw9YSksbH0sVz1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oW1xzLF18I1teXG5ccl0rKSsvZywiICIpLnRyaW0oKX0sej1mdW5jdGlvbihhKXt2YXIgbD1hLnF1ZXJ5LGY9YS52YXJpYWJsZXMsaD1hLm9wZXJhdGlvbk5hbWUseT1hLmpzb25TZXJpYWxpemVyO2lmKCFBcnJheS5pc0FycmF5KGwpKXt2YXIgRT1bInF1ZXJ5PSIrZW5jb2RlVVJJQ29tcG9uZW50KFcobCkpXTtyZXR1cm4gZiYmRS5wdXNoKCJ2YXJpYWJsZXM9IitlbmNvZGVVUklDb21wb25lbnQoeS5zdHJpbmdpZnkoZikpKSxoJiZFLnB1c2goIm9wZXJhdGlvbk5hbWU9IitlbmNvZGVVUklDb21wb25lbnQoaCkpLEUuam9pbigiJiIpfWlmKHR5cGVvZiBmIT0idW5kZWZpbmVkIiYmIUFycmF5LmlzQXJyYXkoZikpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgY3JlYXRlIHF1ZXJ5IHdpdGggZ2l2ZW4gdmFyaWFibGUgdHlwZSwgYXJyYXkgZXhwZWN0ZWQiKTt2YXIgaj1sLnJlZHVjZShmdW5jdGlvbihNLFYsVCl7cmV0dXJuIE0ucHVzaCh7cXVlcnk6VyhWKSx2YXJpYWJsZXM6Zj95LnN0cmluZ2lmeShmW1RdKTp2b2lkIDB9KSxNfSxbXSk7cmV0dXJuInF1ZXJ5PSIrZW5jb2RlVVJJQ29tcG9uZW50KHkuc3RyaW5naWZ5KGopKX0sSz1mdW5jdGlvbihhKXt2YXIgbD1hLnVybCxmPWEucXVlcnksaD1hLnZhcmlhYmxlcyx5PWEub3BlcmF0aW9uTmFtZSxFPWEuaGVhZGVycyxqPWEuZmV0Y2gsTT1hLmZldGNoT3B0aW9ucztyZXR1cm4gcyh2b2lkIDAsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBWO3JldHVybiB1KHRoaXMsZnVuY3Rpb24oVCl7c3dpdGNoKFQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gVj1xLmRlZmF1bHQoZixoLHksTS5qc29uU2VyaWFsaXplciksWzQsaihsLHQoe21ldGhvZDoiUE9TVCIsaGVhZGVyczp0KHQoe30sdHlwZW9mIFY9PSJzdHJpbmciP3siQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9Ont9KSxFKSxib2R5OlZ9LE0pKV07Y2FzZSAxOnJldHVyblsyLFQuc2VudCgpXX19KX0pfSxEPWZ1bmN0aW9uKGEpe3ZhciBsPWEudXJsLGY9YS5xdWVyeSxoPWEudmFyaWFibGVzLHk9YS5vcGVyYXRpb25OYW1lLEU9YS5oZWFkZXJzLGo9YS5mZXRjaCxNPWEuZmV0Y2hPcHRpb25zO3JldHVybiBzKHZvaWQgMCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIFY7cmV0dXJuIHUodGhpcyxmdW5jdGlvbihUKXtzd2l0Y2goVC5sYWJlbCl7Y2FzZSAwOnJldHVybiBWPXooe3F1ZXJ5OmYsdmFyaWFibGVzOmgsb3BlcmF0aW9uTmFtZTp5LGpzb25TZXJpYWxpemVyOk0uanNvblNlcmlhbGl6ZXJ9KSxbNCxqKGwrIj8iK1YsdCh7bWV0aG9kOiJHRVQiLGhlYWRlcnM6RX0sTSkpXTtjYXNlIDE6cmV0dXJuWzIsVC5zZW50KCldfX0pfSl9LF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGwsZil7dGhpcy51cmw9bCx0aGlzLm9wdGlvbnM9Znx8e319cmV0dXJuIGEucHJvdG90eXBlLnJhd1JlcXVlc3Q9ZnVuY3Rpb24obCxmLGgpe3JldHVybiBzKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB5LEUsaixNLFYsVCxHLFgsZWUsUTtyZXR1cm4gdSh0aGlzLGZ1bmN0aW9uKHNlKXtyZXR1cm4geT14LnBhcnNlUmF3UmVxdWVzdEFyZ3MobCxmLGgpLEU9dGhpcy5vcHRpb25zLGo9RS5oZWFkZXJzLE09RS5mZXRjaCxWPU09PT12b2lkIDA/bS5kZWZhdWx0Ok0sVD1FLm1ldGhvZCxHPVQ9PT12b2lkIDA/IlBPU1QiOlQsWD1wKEUsWyJoZWFkZXJzIiwiZmV0Y2giLCJtZXRob2QiXSksZWU9dGhpcy51cmwseS5zaWduYWwhPT12b2lkIDAmJihYLnNpZ25hbD15LnNpZ25hbCksUT1KKHkucXVlcnkpLm9wZXJhdGlvbk5hbWUsWzIsYih7dXJsOmVlLHF1ZXJ5OnkucXVlcnksdmFyaWFibGVzOnkudmFyaWFibGVzLGhlYWRlcnM6dCh0KHt9LEIobyhqKSkpLEIoeS5yZXF1ZXN0SGVhZGVycykpLG9wZXJhdGlvbk5hbWU6USxmZXRjaDpWLG1ldGhvZDpHLGZldGNoT3B0aW9uczpYfSldfSl9KX0sYS5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihsLGYsaCl7cmV0dXJuIHModGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHksRSxqLE0sVixULEcsWCxlZSxRLHNlLHVlLG9lO3JldHVybiB1KHRoaXMsZnVuY3Rpb24oYWUpe3N3aXRjaChhZS5sYWJlbCl7Y2FzZSAwOnJldHVybiB5PXgucGFyc2VSZXF1ZXN0QXJncyhsLGYsaCksRT10aGlzLm9wdGlvbnMsaj1FLmhlYWRlcnMsTT1FLmZldGNoLFY9TT09PXZvaWQgMD9tLmRlZmF1bHQ6TSxUPUUubWV0aG9kLEc9VD09PXZvaWQgMD8iUE9TVCI6VCxYPXAoRSxbImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCJdKSxlZT10aGlzLnVybCx5LnNpZ25hbCE9PXZvaWQgMCYmKFguc2lnbmFsPXkuc2lnbmFsKSxRPUooeS5kb2N1bWVudCksc2U9US5xdWVyeSx1ZT1RLm9wZXJhdGlvbk5hbWUsWzQsYih7dXJsOmVlLHF1ZXJ5OnNlLHZhcmlhYmxlczp5LnZhcmlhYmxlcyxoZWFkZXJzOnQodCh7fSxCKG8oaikpKSxCKHkucmVxdWVzdEhlYWRlcnMpKSxvcGVyYXRpb25OYW1lOnVlLGZldGNoOlYsbWV0aG9kOkcsZmV0Y2hPcHRpb25zOlh9KV07Y2FzZSAxOnJldHVybiBvZT1hZS5zZW50KCkuZGF0YSxbMixvZV19fSl9KX0sYS5wcm90b3R5cGUuYmF0Y2hSZXF1ZXN0cz1mdW5jdGlvbihsLGYpe3JldHVybiBzKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBoLHksRSxqLE0sVixULEcsWCxlZSxRLHNlO3JldHVybiB1KHRoaXMsZnVuY3Rpb24odWUpe3N3aXRjaCh1ZS5sYWJlbCl7Y2FzZSAwOnJldHVybiBoPXgucGFyc2VCYXRjaFJlcXVlc3RBcmdzKGwsZikseT10aGlzLm9wdGlvbnMsRT15LmhlYWRlcnMsaj15LmZldGNoLE09aj09PXZvaWQgMD9tLmRlZmF1bHQ6aixWPXkubWV0aG9kLFQ9Vj09PXZvaWQgMD8iUE9TVCI6VixHPXAoeSxbImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCJdKSxYPXRoaXMudXJsLGguc2lnbmFsIT09dm9pZCAwJiYoRy5zaWduYWw9aC5zaWduYWwpLGVlPWguZG9jdW1lbnRzLm1hcChmdW5jdGlvbihvZSl7dmFyIGFlPW9lLmRvY3VtZW50O3JldHVybiBKKGFlKS5xdWVyeX0pLFE9aC5kb2N1bWVudHMubWFwKGZ1bmN0aW9uKG9lKXt2YXIgYWU9b2UudmFyaWFibGVzO3JldHVybiBhZX0pLFs0LGIoe3VybDpYLHF1ZXJ5OmVlLHZhcmlhYmxlczpRLGhlYWRlcnM6dCh0KHt9LEIobyhFKSkpLEIoaC5yZXF1ZXN0SGVhZGVycykpLG9wZXJhdGlvbk5hbWU6dm9pZCAwLGZldGNoOk0sbWV0aG9kOlQsZmV0Y2hPcHRpb25zOkd9KV07Y2FzZSAxOnJldHVybiBzZT11ZS5zZW50KCkuZGF0YSxbMixzZV19fSl9KX0sYS5wcm90b3R5cGUuc2V0SGVhZGVycz1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5vcHRpb25zLmhlYWRlcnM9bCx0aGlzfSxhLnByb3RvdHlwZS5zZXRIZWFkZXI9ZnVuY3Rpb24obCxmKXt2YXIgaCx5PXRoaXMub3B0aW9ucy5oZWFkZXJzO3JldHVybiB5P3lbbF09Zjp0aGlzLm9wdGlvbnMuaGVhZGVycz0oaD17fSxoW2xdPWYsaCksdGhpc30sYS5wcm90b3R5cGUuc2V0RW5kcG9pbnQ9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMudXJsPWwsdGhpc30sYX0oKTtlLkdyYXBoUUxDbGllbnQ9XztmdW5jdGlvbiBiKGEpe3ZhciBsPWEudXJsLGY9YS5xdWVyeSxoPWEudmFyaWFibGVzLHk9YS5oZWFkZXJzLEU9YS5vcGVyYXRpb25OYW1lLGo9YS5mZXRjaCxNPWEubWV0aG9kLFY9TT09PXZvaWQgMD8iUE9TVCI6TSxUPWEuZmV0Y2hPcHRpb25zO3JldHVybiBzKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBHLFgsZWUsUSxzZSx1ZSxvZSxhZSxJdCxWZSxBdDtyZXR1cm4gdSh0aGlzLGZ1bmN0aW9uKEdlKXtzd2l0Y2goR2UubGFiZWwpe2Nhc2UgMDpyZXR1cm4gRz1WLnRvVXBwZXJDYXNlKCk9PT0iUE9TVCI/SzpELFg9QXJyYXkuaXNBcnJheShmKSxbNCxHKHt1cmw6bCxxdWVyeTpmLHZhcmlhYmxlczpoLG9wZXJhdGlvbk5hbWU6RSxoZWFkZXJzOnksZmV0Y2g6aixmZXRjaE9wdGlvbnM6VH0pXTtjYXNlIDE6cmV0dXJuIGVlPUdlLnNlbnQoKSxbNCxDKGVlLFQuanNvblNlcmlhbGl6ZXIpXTtjYXNlIDI6aWYoUT1HZS5zZW50KCksc2U9WCYmQXJyYXkuaXNBcnJheShRKT8hUS5zb21lKGZ1bmN0aW9uKGdyKXt2YXIgX3I9Z3IuZGF0YTtyZXR1cm4hX3J9KTohIVEuZGF0YSx1ZT0hUS5lcnJvcnN8fFQuZXJyb3JQb2xpY3k9PT0iYWxsInx8VC5lcnJvclBvbGljeT09PSJpZ25vcmUiLGVlLm9rJiZ1ZSYmc2UpcmV0dXJuIG9lPWVlLmhlYWRlcnMsYWU9ZWUuc3RhdHVzLEl0PXAoUSxbImVycm9ycyJdKSxWZT1ULmVycm9yUG9saWN5PT09Imlnbm9yZSI/SXQ6USxbMix0KHQoe30sWD97ZGF0YTpWZX06VmUpLHtoZWFkZXJzOm9lLHN0YXR1czphZX0pXTt0aHJvdyBBdD10eXBlb2YgUT09InN0cmluZyI/e2Vycm9yOlF9OlEsbmV3IEYuQ2xpZW50RXJyb3IodCh0KHt9LEF0KSx7c3RhdHVzOmVlLnN0YXR1cyxoZWFkZXJzOmVlLmhlYWRlcnN9KSx7cXVlcnk6Zix2YXJpYWJsZXM6aH0pfX0pfSl9ZnVuY3Rpb24gSShhLGwsZixoKXtyZXR1cm4gcyh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgeSxFO3JldHVybiB1KHRoaXMsZnVuY3Rpb24oail7cmV0dXJuIHk9eC5wYXJzZVJhd1JlcXVlc3RFeHRlbmRlZEFyZ3MoYSxsLGYsaCksRT1uZXcgXyh5LnVybCksWzIsRS5yYXdSZXF1ZXN0KHQoe30seSkpXX0pfSl9ZS5yYXdSZXF1ZXN0PUk7ZnVuY3Rpb24gUChhLGwsZixoKXtyZXR1cm4gcyh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgeSxFO3JldHVybiB1KHRoaXMsZnVuY3Rpb24oail7cmV0dXJuIHk9eC5wYXJzZVJlcXVlc3RFeHRlbmRlZEFyZ3MoYSxsLGYsaCksRT1uZXcgXyh5LnVybCksWzIsRS5yZXF1ZXN0KHQoe30seSkpXX0pfSl9ZS5yZXF1ZXN0PVA7ZnVuY3Rpb24gTihhLGwsZil7cmV0dXJuIHModGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGgseTtyZXR1cm4gdSh0aGlzLGZ1bmN0aW9uKEUpe3JldHVybiBoPXgucGFyc2VCYXRjaFJlcXVlc3RzRXh0ZW5kZWRBcmdzKGEsbCxmKSx5PW5ldyBfKGgudXJsKSxbMix5LmJhdGNoUmVxdWVzdHModCh7fSxoKSldfSl9KX1lLmJhdGNoUmVxdWVzdHM9TixlLmRlZmF1bHQ9UDtmdW5jdGlvbiBDKGEsbCl7cmV0dXJuIGw9PT12b2lkIDAmJihsPXcuZGVmYXVsdEpzb25TZXJpYWxpemVyKSxzKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBmLGgseTtyZXR1cm4gdSh0aGlzLGZ1bmN0aW9uKEUpe3N3aXRjaChFLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGEuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGosTSl7TS50b0xvd2VyQ2FzZSgpPT09ImNvbnRlbnQtdHlwZSImJihmPWopfSksZiYmZi50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoImFwcGxpY2F0aW9uL2pzb24iKT8oeT0oaD1sKS5wYXJzZSxbNCxhLnRleHQoKV0pOlszLDJdO2Nhc2UgMTpyZXR1cm5bMix5LmFwcGx5KGgsW0Uuc2VudCgpXSldO2Nhc2UgMjpyZXR1cm5bMixhLnRleHQoKV19fSl9KX1mdW5jdGlvbiBZKGEpe3ZhciBsLGY9dm9pZCAwLGg9YS5kZWZpbml0aW9ucy5maWx0ZXIoZnVuY3Rpb24oeSl7cmV0dXJuIHkua2luZD09PSJPcGVyYXRpb25EZWZpbml0aW9uIn0pO3JldHVybiBoLmxlbmd0aD09PTEmJihmPShsPWhbMF0ubmFtZSk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsLnZhbHVlKSxmfWZ1bmN0aW9uIEooYSl7aWYodHlwZW9mIGE9PSJzdHJpbmciKXt2YXIgbD12b2lkIDA7dHJ5e3ZhciBmPVIucGFyc2UoYSk7bD1ZKGYpfWNhdGNoKHkpe31yZXR1cm57cXVlcnk6YSxvcGVyYXRpb25OYW1lOmx9fXZhciBoPVkoYSk7cmV0dXJue3F1ZXJ5OmsucHJpbnQoYSksb3BlcmF0aW9uTmFtZTpofX1lLnJlc29sdmVSZXF1ZXN0RG9jdW1lbnQ9SjtmdW5jdGlvbiBvKGEpe3JldHVybiB0eXBlb2YgYT09ImZ1bmN0aW9uIj9hKCk6YX1mdW5jdGlvbiBkKGEpe2Zvcih2YXIgbD1bXSxmPTE7Zjxhcmd1bWVudHMubGVuZ3RoO2YrKylsW2YtMV09YXJndW1lbnRzW2ZdO3JldHVybiBhLnJlZHVjZShmdW5jdGlvbihoLHksRSl7cmV0dXJuIiIraCt5KyhFIGluIGw/bFtFXToiIil9LCIiKX1lLmdxbD1kO2Z1bmN0aW9uIEEoYSl7dmFyIGw9e307cmV0dXJuIGEuZm9yRWFjaChmdW5jdGlvbihmLGgpe2xbaF09Zn0pLGx9dmFyIFU9b3IoKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiR3JhcGhRTFdlYlNvY2tldENsaWVudCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFUuR3JhcGhRTFdlYlNvY2tldENsaWVudH19KX0oTWUpKSxNZX12YXIgYXI9Z3QoKTtjb25zdCBfdD0iaGlnaGxpZ2h0TG9ncyIsdXI9ZT0+e2xldCB0PXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShfdCl8fCIiO3Q9dCsiWyIrbmV3IERhdGUoKS5nZXRUaW1lKCkrIl0gIitlK2AKYCx3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oX3QsdCl9O3ZhciBjcj0oZSx0LG4pPT5uZXcgUHJvbWlzZSgoaSxyKT0+e3ZhciBzPXY9Pnt0cnl7cChuLm5leHQodikpfWNhdGNoKG0pe3IobSl9fSx1PXY9Pnt0cnl7cChuLnRocm93KHYpKX1jYXRjaChtKXtyKG0pfX0scD12PT52LmRvbmU/aSh2LnZhbHVlKTpQcm9taXNlLnJlc29sdmUodi52YWx1ZSkudGhlbihzLHUpO3AoKG49bi5hcHBseShlLHQpKS5uZXh0KCkpfSk7Y29uc3QgbHI9NSxkcj0zMDAsZnI9ZT0+e2NvbnN0IHQ9KG4saSxyLHM9MCk9PmNyKHZvaWQgMCxudWxsLGZ1bmN0aW9uKigpe3RyeXtyZXR1cm4geWllbGQgbigpfWNhdGNoKHUpe2lmKHM8bHIpcmV0dXJuIHlpZWxkIG5ldyBQcm9taXNlKHA9PnNldFRpbWVvdXQocCxkcipNYXRoLnBvdygyLHMpKSkseWllbGQgdChuLGkscixzKzEpO3Rocm93IHVyKCJbIisoZXx8ZSkrIl0gUmVxdWVzdCBmYWlsZWQgYWZ0ZXIgIitzKyIgcmV0cmllcyIpLHV9fSk7cmV0dXJuIHR9LHByPTUsYnQ9MmUzLGhyPVsibnVtYmVyIiwic3RyaW5nIiwiYm9vbGVhbiJdO2NsYXNzIHlye2NvbnN0cnVjdG9yKHQsbil7dGhpcy5kZWJ1Zz10LHRoaXMubmFtZT1ufWxvZyguLi50KXtpZih0aGlzLmRlYnVnKXtsZXQgbj1gWyR7RGF0ZS5ub3coKX1dYDt0aGlzLm5hbWUmJihuKz1gIC0gJHt0aGlzLm5hbWV9YCksY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxbbiwuLi50XSl9fX12YXIgbXI9T2JqZWN0LmRlZmluZVByb3BlcnR5LFR0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsdnI9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxFcj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLE50PShlLHQsbik9PnQgaW4gZT9tcihlLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KTplW3RdPW4sT3Q9KGUsdCk9Pntmb3IodmFyIG4gaW4gdHx8KHQ9e30pKXZyLmNhbGwodCxuKSYmTnQoZSxuLHRbbl0pO2lmKFR0KWZvcih2YXIgbiBvZiBUdCh0KSlFci5jYWxsKHQsbikmJk50KGUsbix0W25dKTtyZXR1cm4gZX0seWU9KGUsdCxuKT0+bmV3IFByb21pc2UoKGkscik9Pnt2YXIgcz12PT57dHJ5e3Aobi5uZXh0KHYpKX1jYXRjaChtKXtyKG0pfX0sdT12PT57dHJ5e3Aobi50aHJvdyh2KSl9Y2F0Y2gobSl7cihtKX19LHA9dj0+di5kb25lP2kodi52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKHYudmFsdWUpLnRoZW4ocyx1KTtwKChuPW4uYXBwbHkoZSx0KSkubmV4dCgpKX0pO2NvbnN0IFVlPXNlbGY7ZnVuY3Rpb24geHQoZSx0KXtjb25zdCBuPXt9LGk9W10scj1bXTtmb3IoY29uc3Rbcyx1XW9mIE9iamVjdC5lbnRyaWVzKGUpKXtpZih1PT1udWxsKWNvbnRpbnVlO2hyLmluY2x1ZGVzKHR5cGVvZiB1KXx8aS5wdXNoKHtbc106dX0pO2xldCBwO3R5cGVvZiB1PT0ic3RyaW5nIj9wPXU6cD1jZSh1KSxwLmxlbmd0aD5idCYmKHIucHVzaCh7W3NdOnV9KSxwPXAuc3Vic3RyaW5nKDAsYnQpKSxuW3NdPXB9cmV0dXJuIHQhPT0ic2Vzc2lvbiImJihpLmxlbmd0aD4wJiZjb25zb2xlLndhcm4oYEhpZ2hsaWdodCB3YXMgcGFzc2VkIG9uZSBvciBtb3JlICR7dH0gcHJvcGVydGllcyBub3Qgb2YgdHlwZSBzdHJpbmcsIG51bWJlciwgb3IgYm9vbGVhbi5gLGkpLHIubGVuZ3RoPjAmJmNvbnNvbGUud2FybihgSGlnaGxpZ2h0IHdhcyBwYXNzZWQgb25lIG9yIG1vcmUgJHt0fSBwcm9wZXJ0aWVzIGV4Y2VlZGluZyAyMDAwIGNoYXJhY3RlcnMsIHdoaWNoIHdpbGwgYmUgdHJ1bmNhdGVkLmAscikpLG59e2xldCBlLHQsbixpPTAscj0hMSxzPTAsdT1uZXcgeXIoITEsIlt3b3JrZXJdIik7Y29uc3QgcD1bXSx2PSgpPT5zIT09MCYmaTxwciYmISEobiE9bnVsbCYmbi5sZW5ndGgpLG09KHgsRik9PntVZS5wb3N0TWVzc2FnZSh7cmVzcG9uc2U6e3R5cGU6aWUuQ3VzdG9tRXZlbnQsdGFnOngscGF5bG9hZDpGfX0pfSxPPXg9PnllKHZvaWQgMCxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e2lkOkYsZXZlbnRzOkIsbWVzc2FnZXM6VyxlcnJvcnM6eixyZXNvdXJjZXNTdHJpbmc6Syxpc0JlYWNvbjpELGhhc1Nlc3Npb25VbmxvYWRlZDpfLGhpZ2hsaWdodExvZ3M6Yn09eCxJPWNlKHttZXNzYWdlczpXfSk7bGV0IFA9e3Nlc3Npb25fc2VjdXJlX2lkOm4sZXZlbnRzOntldmVudHM6Qn0sbWVzc2FnZXM6SSxyZXNvdXJjZXM6SyxlcnJvcnM6eixpc19iZWFjb246RCxoYXNfc2Vzc2lvbl91bmxvYWRlZDpfLHBheWxvYWRfaWQ6Ri50b1N0cmluZygpfTtiJiYoUC5oaWdobGlnaHRfbG9ncz1iKTtjb25zdCBOPWUuUHVzaFBheWxvYWQoUCkudGhlbihDPT57dmFyIFk7cmV0dXJuKFk9Qy5wdXNoUGF5bG9hZCkhPW51bGw/WTowfSk7aWYocC5sZW5ndGgpe2NvbnN0IEM9ZS5wdXNoTWV0cmljcyh7bWV0cmljczpwfSk7cC5zcGxpY2UoMCkseWllbGQgQ31VZS5wb3N0TWVzc2FnZSh7cmVzcG9uc2U6e3R5cGU6aWUuQXN5bmNFdmVudHMsaWQ6RixldmVudHNTaXplOnlpZWxkIE59fSl9KSxSPXg9PnllKHZvaWQgMCxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e3VzZXJPYmplY3Q6Rix1c2VySWRlbnRpZmllcjpCLHNvdXJjZTpXfT14O1c9PT0ic2VnbWVudCI/bSgiU2VnbWVudCBJZGVudGlmeSIsY2UoT3Qoe3VzZXJJZGVudGlmaWVyOkJ9LEYpKSk6bSgiSWRlbnRpZnkiLGNlKE90KHt1c2VySWRlbnRpZmllcjpCfSxGKSkpLHlpZWxkIGUuaWRlbnRpZnlTZXNzaW9uKHtzZXNzaW9uX3NlY3VyZV9pZDpuLHVzZXJfaWRlbnRpZmllcjpCLHVzZXJfb2JqZWN0Onh0KEYsInVzZXIiKX0pO2NvbnN0IHo9Vz09PSJzZWdtZW50Ij9XOiJkZWZhdWx0Ijt1LmxvZyhgSWRlbnRpZnkgKCR7Qn0sIHNvdXJjZTogJHt6fSkgdy8gb2JqOiAke2NlKEYpfSBAICR7dH1gKX0pLGs9eD0+eWUodm9pZCAwLG51bGwsZnVuY3Rpb24qKCl7Y29uc3R7cHJvcGVydGllc09iamVjdDpGLHByb3BlcnR5VHlwZTpCfT14OyhCPT1udWxsP3ZvaWQgMDpCLnR5cGUpPT09InNlc3Npb24iPyh5aWVsZCBlLmFkZFNlc3Npb25Qcm9wZXJ0aWVzKHtzZXNzaW9uX3NlY3VyZV9pZDpuLHByb3BlcnRpZXNfb2JqZWN0Onh0KEYsInNlc3Npb24iKX0pLHUubG9nKGBBZGRTZXNzaW9uUHJvcGVydGllcyB0byBzZXNzaW9uICgke259KSB3LyBvYmo6ICR7SlNPTi5zdHJpbmdpZnkoRil9IEAgJHt0fWApKTooQj09bnVsbD92b2lkIDA6Qi5zb3VyY2UpPT09InNlZ21lbnQiP20oIlNlZ21lbnQgVHJhY2siLGNlKEYpKTptKCJUcmFjayIsY2UoRikpfSkscT14PT55ZSh2b2lkIDAsbnVsbCxmdW5jdGlvbiooKXtwLnB1c2goLi4ueC5tZXRyaWNzLm1hcChGPT4oe25hbWU6Ri5uYW1lLHZhbHVlOkYudmFsdWUsc2Vzc2lvbl9zZWN1cmVfaWQ6bixjYXRlZ29yeTpGLmNhdGVnb3J5LGdyb3VwOkYuZ3JvdXAsdGltZXN0YW1wOkYudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksdGFnczpGLnRhZ3N9KSkpfSksdz14PT55ZSh2b2lkIDAsbnVsbCxmdW5jdGlvbiooKXtjb25zdHt0aW1lc3RhbXA6Rix2ZXJiYXRpbTpCLHVzZXJFbWFpbDpXLHVzZXJOYW1lOnp9PXg7eWllbGQgZS5hZGRTZXNzaW9uRmVlZGJhY2soe3Nlc3Npb25fc2VjdXJlX2lkOm4sdGltZXN0YW1wOkYsdmVyYmF0aW06Qix1c2VyX2VtYWlsOlcsdXNlcl9uYW1lOnp9KX0pO1VlLm9ubWVzc2FnZT1mdW5jdGlvbih4KXtyZXR1cm4geWUodGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHguZGF0YS5tZXNzYWdlLnR5cGU9PT1pZS5Jbml0aWFsaXplKXt0PXguZGF0YS5tZXNzYWdlLmJhY2tlbmQsbj14LmRhdGEubWVzc2FnZS5zZXNzaW9uU2VjdXJlSUQscj14LmRhdGEubWVzc2FnZS5kZWJ1ZyxzPXguZGF0YS5tZXNzYWdlLnJlY29yZGluZ1N0YXJ0VGltZSx1LmRlYnVnPXIsZT1qbihuZXcgYXIuR3JhcGhRTENsaWVudCh0LHtoZWFkZXJzOnt9fSksZnIobikpO3JldHVybn1pZih2KCkpdHJ5e3guZGF0YS5tZXNzYWdlLnR5cGU9PT1pZS5Bc3luY0V2ZW50cz95aWVsZCBPKHguZGF0YS5tZXNzYWdlKTp4LmRhdGEubWVzc2FnZS50eXBlPT09aWUuSWRlbnRpZnk/eWllbGQgUih4LmRhdGEubWVzc2FnZSk6eC5kYXRhLm1lc3NhZ2UudHlwZT09PWllLlByb3BlcnRpZXM/eWllbGQgayh4LmRhdGEubWVzc2FnZSk6eC5kYXRhLm1lc3NhZ2UudHlwZT09PWllLk1ldHJpY3M/eWllbGQgcSh4LmRhdGEubWVzc2FnZSk6eC5kYXRhLm1lc3NhZ2UudHlwZT09PWllLkZlZWRiYWNrJiYoeWllbGQgdyh4LmRhdGEubWVzc2FnZSkpLGk9MH1jYXRjaChGKXtyJiZjb25zb2xlLmVycm9yKEYpLGkrPTF9fSl9fX0pKCk7Cgo=",null,!1),Od=Object.defineProperty,zd=Object.defineProperties,Pd=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertySymbols,Zo=Object.prototype.hasOwnProperty,Io=Object.prototype.propertyIsEnumerable,vo=(e,t,n)=>t in e?Od(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vo=(e,t)=>{for(var n in t||(t={}))Zo.call(t,n)&&vo(e,n,t[n]);if(jt)for(var n of jt(t))Io.call(t,n)&&vo(e,n,t[n]);return e},Md=(e,t)=>zd(e,Pd(t)),Bd=(e,t)=>{var n={};for(var i in e)Zo.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&jt)for(var i of jt(e))t.indexOf(i)<0&&Io.call(e,i)&&(n[i]=e[i]);return n},Pe=(e,t,n)=>new Promise((i,r)=>{var o=l=>{try{a(n.next(l))}catch(c){r(c)}},s=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});const Gt=(e,t)=>{console.warn(`Highlight Warning: (${e}): `,{output:t})};var Ad=(e=>(e.CLIENT_ID="highlightClientID",e))(Ad||{});const Dd=1e3,jd=1e3*2,Qd=4*60*60*1e3,Go="app.highlight.run",Xo={normal:{bytes:1e7,time:4*60*1e3},canvas:{bytes:16e6,time:5e3}},_d=100;class Qt{static create(t){return new Qt(t)}constructor(t,n){var i,r,o,s,a;this.fingerprintjs=vd.load({excludeSources:["fonts","domBlockers","fontPreferences","audio","screenFrame","timezone","plugins","canvas"]}),t.sessionSecureID||(t.sessionSecureID=Dt()),t.inlineStylesheet=(i=t.inlineStylesheet)!=null?i:!0,this.options=t,typeof((r=this.options)==null?void 0:r.debug)=="boolean"?this.debugOptions=this.options.debug?{clientInteractions:!0}:{}:this.debugOptions=(s=(o=this.options)==null?void 0:o.debug)!=null?s:{},this.logger=new Nd(this.debugOptions.clientInteractions),this._worker=new Hd,this._worker.onmessage=c=>{var u,d;((u=c.data.response)==null?void 0:u.type)===Te.AsyncEvents?(this._eventBytesSinceSnapshot+=c.data.response.eventsSize,this.logger.log(`Web worker sent payloadID ${c.data.response.id} size ${c.data.response.eventsSize}.
                Total since snapshot: ${(this._eventBytesSinceSnapshot/1e6).toFixed(1)}MB`)):((d=c.data.response)==null?void 0:d.type)===Te.CustomEvent&&this.addCustomEvent(c.data.response.tag,c.data.response.payload)};let l=go();if(this.reloaded=!1,!((a=this.sessionData)!=null&&a.sessionSecureID)&&(l==null?void 0:l.sessionSecureID))this.sessionData=l,this.options.sessionSecureID=l.sessionSecureID,this.reloaded=!0,this.logger.log(`Tab reloaded, continuing previous session: ${this.sessionData.sessionSecureID}`);else{for(const c of Object.values(se))window.sessionStorage.removeItem(c);this.sessionData={sessionSecureID:this.options.sessionSecureID,projectID:0,sessionStartTime:Date.now()}}this._hasPreviouslyInitialized=!1,this._firstLoadListeners=n||new Je(this.options),this._initMembers(this.options)}_reset(){return Pe(this,null,function*(){this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0);let t,n;try{t=window.sessionStorage.getItem(se.USER_IDENTIFIER);const i=window.sessionStorage.getItem(se.USER_OBJECT);i&&(n=JSON.parse(i))}catch(i){}for(const i of Object.values(se))window.sessionStorage.removeItem(i);this.sessionData.sessionSecureID=Dt(),this.options.sessionSecureID=this.sessionData.sessionSecureID,this.sessionData.sessionStartTime=Date.now(),this.stopRecording(),this._firstLoadListeners=new Je(this.options),yield this.initialize(),t&&n&&(yield this.identify(t,n))})}_initMembers(t){var n,i,r,o,s,a,l,c,u,d;this.sessionShortcut=!1,this._recordingStartTime=0,this._isOnLocalHost=!1,this.ready=!1,this.state="NotRecording",this.manualStopped=!1,this.enableSegmentIntegration=!!t.enableSegmentIntegration,this.enableStrictPrivacy=t.enableStrictPrivacy||!1,this.enableCanvasRecording=t.enableCanvasRecording||!1,this.enablePerformanceRecording=(n=t.enablePerformanceRecording)!=null?n:!0,this.inlineImages=t.inlineImages||!1,this.inlineStylesheet=t.inlineStylesheet||!1,this.samplingStrategy=Vo({canvas:5,canvasQuality:"low",canvasFactor:.5,canvasMaxSnapshotDimension:360},t.samplingStrategy||{}),this._backendUrl=(t==null?void 0:t.backendUrl)||"https://pub.highlight.run",this._backendUrl[0]==="/"&&(this._backendUrl=new URL(this._backendUrl,document.baseURI).href);const p=new Jl.GraphQLClient(`${this._backendUrl}`,{headers:{}});this.graphqlSDK=tc(p,wd(((i=this.sessionData)==null?void 0:i.sessionSecureID)||((r=this.options)==null?void 0:r.sessionSecureID))),this.environment=t.environment||"production",this.appVersion=t.appVersion,typeof t.organizationID=="string"?this.organizationID=t.organizationID:this.organizationID=t.organizationID.toString(),this.organizationID==="jgoqo9el"&&(this.inlineStylesheet=!1),this.isRunningOnHighlight=this.organizationID==="1"||this.organizationID==="1jdkoe52",this._isOnLocalHost=window.location.hostname==="localhost",this.firstloadVersion=t.firstloadVersion||"unknown",this.sessionShortcut=t.sessionShortcut||!1,this.feedbackWidgetOptions={enabled:((o=t.feedbackWidget)==null?void 0:o.enabled)||!1,subTitle:(s=t.feedbackWidget)==null?void 0:s.subTitle,submitButtonLabel:(a=t.feedbackWidget)==null?void 0:a.submitButtonLabel,title:(l=t.feedbackWidget)==null?void 0:l.title,onSubmit:(c=t.feedbackWidget)==null?void 0:c.onSubmit,onCancel:(u=t.feedbackWidget)==null?void 0:u.onCancel},this._onToggleFeedbackFormVisibility=()=>{};const m=t,h=Bd(m,["firstloadVersion"]);this._optionsInternal=h,this.listeners=[],this.events=[],this.hasSessionUnloaded=!1,this.hasPushedData=!1,window.Intercom&&window.Intercom("onShow",()=>{window.Intercom("update",{highlightSessionURL:this.getCurrentSessionURLWithTimestamp()}),this.addProperties({event:"Intercom onShow"})}),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=new Date().getTime(),this._lastVisibilityChangeTime=new Date().getTime(),this._payloadId=(d=Number(window.sessionStorage.getItem(se.PAYLOAD_ID)))!=null?d:1,window.sessionStorage.setItem(se.PAYLOAD_ID,this._payloadId.toString())}identify(t,n={},i){if(!t||t===""){console.warn("Highlight's identify() call was passed an empty identifier.",{user_identifier:t,user_object:n});return}this.sessionData.userIdentifier=t.toString(),this.sessionData.userObject=n,window.sessionStorage.setItem(se.USER_IDENTIFIER,t.toString()),window.sessionStorage.setItem(se.USER_OBJECT,JSON.stringify(n)),this._worker.postMessage({message:{type:Te.Identify,userIdentifier:t,userObject:n,source:i}})}pushCustomError(t,n){return Pe(this,null,function*(){var i,r,o;const s=(yield uc.get()).slice(1);this._firstLoadListeners.errors.push({event:t,type:"custom",url:window.location.href,source:(i=s[0].fileName)!=null?i:"",lineNumber:(r=s[0].lineNumber)!=null?r:0,columnNumber:(o=s[0].columnNumber)!=null?o:0,stackTrace:s,timestamp:new Date().toISOString(),payload:n})})}consumeCustomError(t,n,i){return Pe(this,null,function*(){var r,o,s,a;let l=[];try{l=Tt.parse(t)}catch(c){this._isOnLocalHost&&console.error(c)}this._firstLoadListeners.errors.push({event:n?n+":"+t.message:t.message,type:"custom",url:window.location.href,source:"",lineNumber:(r=l[0])!=null&&r.lineNumber?(o=l[0])==null?void 0:o.lineNumber:0,columnNumber:(s=l[0])!=null&&s.columnNumber?(a=l[0])==null?void 0:a.columnNumber:0,stackTrace:l,timestamp:new Date().toISOString(),payload:i})})}addProperties(t={},n){this._worker.postMessage({message:{type:Te.Properties,propertiesObject:t,propertyType:n}})}initialize(){return Pe(this,null,function*(){var t,n,i,r,o,s,a;if((navigator==null?void 0:navigator.webdriver)&&!window.Cypress||((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.includes("Googlebot"))||((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.includes("AdsBot"))){(i=this._firstLoadListeners)==null||i.stopListening();return}try{if(!this.reloaded&&this.organizationID==="6glrjqg9"&&Math.random()>=.02){(r=this._firstLoadListeners)==null||r.stopListening();return}if(this.feedbackWidgetOptions.enabled){const{onToggleFeedbackFormVisibility:Z}=Lc(this.feedbackWidgetOptions);this._onToggleFeedbackFormVisibility=Z}const l=window.sessionStorage.getItem(se.RECORDING_START_TIME);l?this._recordingStartTime=parseInt(l,10):(this._recordingStartTime=new Date().getTime(),window.sessionStorage.setItem(se.RECORDING_START_TIME,this._recordingStartTime.toString()));let c=window.localStorage.getItem("highlightClientID");c||(c=Dt(),window.localStorage.setItem("highlightClientID",c)),window.sessionStorage.removeItem(se.SESSION_DATA);let u;this.options.disableNetworkRecording!==void 0||typeof this.options.networkRecording=="boolean"?u=!1:u=((o=this.options.networkRecording)==null?void 0:o.recordHeadersAndBody)||!1;const d=yield(yield this.fingerprintjs).get();let p=[];typeof this.options.networkRecording=="object"&&((s=this.options.networkRecording.destinationDomains)==null?void 0:s.length)&&(p=this.options.networkRecording.destinationDomains);const m=yield this.graphqlSDK.initializeSession({organization_verbose_id:this.organizationID,enable_strict_privacy:this.enableStrictPrivacy,enable_recording_network_contents:u,clientVersion:this.firstloadVersion,firstloadVersion:this.firstloadVersion,clientConfig:JSON.stringify(this._optionsInternal),environment:this.environment,id:d.visitorId,appVersion:this.appVersion,session_secure_id:this.sessionData.sessionSecureID,client_id:c,network_recording_domains:p});if(m.initializeSession.secure_id!==this.sessionData.sessionSecureID&&this.logger.log(`Unexpected secure id returned by initializeSession: ${m.initializeSession.secure_id}`),this.sessionData.sessionSecureID=m.initializeSession.secure_id,this.sessionData.projectID=parseInt(((a=m==null?void 0:m.initializeSession)==null?void 0:a.project_id)||"0"),this.sessionData.userIdentifier&&this.identify(this.sessionData.userIdentifier,this.sessionData.userObject),!this.sessionData.projectID||!this.sessionData.sessionSecureID){console.error("Failed to initialize Highlight; an error occurred on our end.",this.sessionData);return}this.logger.log(`Loaded Highlight
Remote: ${this._backendUrl}
Project ID: ${this.sessionData.projectID}
SessionSecureID: ${this.sessionData.sessionSecureID}`),this.options.sessionSecureID=this.sessionData.sessionSecureID,this._worker.postMessage({message:{type:Te.Initialize,sessionSecureID:this.sessionData.sessionSecureID,backend:this._backendUrl,debug:!!this.debugOptions.clientInteractions,recordingStartTime:this._recordingStartTime}}),window.sessionStorage.setItem(se.SESSION_SECURE_ID,this.sessionData.sessionSecureID),this._firstLoadListeners.isListening()?this._firstLoadListeners.hasNetworkRecording||Je.setupNetworkListener(this._firstLoadListeners,this.options):this._firstLoadListeners.startListening();const{getDeviceDetails:h}=zc();h&&this.recordMetric([{name:ut.DeviceMemory,value:h().deviceMemory,category:we.Device,group:window.location.href}]),this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this.pushPayloadTimerId=setTimeout(()=>{this._save()},Dd);const b=Z=>{this.events.push(Z)};b.bind(this),this.state!=="Recording"&&setTimeout(()=>{const Z=Ke({ignoreClass:"highlight-ignore",blockClass:"highlight-block",emit:b,enableStrictPrivacy:this.enableStrictPrivacy,maskAllInputs:this.enableStrictPrivacy,recordCanvas:this.enableCanvasRecording,sampling:{canvas:{fps:this.samplingStrategy.canvas,resizeQuality:this.samplingStrategy.canvasQuality,resizeFactor:this.samplingStrategy.canvasFactor,maxSnapshotDimension:this.samplingStrategy.canvasMaxSnapshotDimension}},keepIframeSrcFn:f=>!0,inlineImages:this.inlineImages,inlineStylesheet:this.inlineStylesheet,plugins:[Fs()]});Z&&this.listeners.push(Z);const I={height:window.innerHeight,width:window.innerWidth};this.addCustomEvent("Viewport",I),this.submitViewportMetrics(I)},1),document.referrer&&(window&&document.referrer.includes(window.location.origin)||(this.addCustomEvent("Referrer",document.referrer),this.addProperties({referrer:document.referrer},{type:"session"}))),this._setupWindowListeners(),this.ready=!0,this.state="Recording",this.manualStopped=!1}catch(l){this._isOnLocalHost&&(console.error(l),Gt("initializeSession",l))}})}_visibilityHandler(t){return Pe(this,null,function*(){if(this.manualStopped){this.logger.log("Ignoring visibility event due to manual stop.");return}if(!(new Date().getTime()-this._lastVisibilityChangeTime<_d))if(this._lastVisibilityChangeTime=new Date().getTime(),this.logger.log(`Detected window ${t?"hidden":"visible"}.`),!t)yield this.initialize(),this.addCustomEvent("TabHidden",!1);else{if(this.addCustomEvent("TabHidden",!0),"sendBeacon"in navigator)try{yield this._sendPayload({isBeacon:!0,sendFn:n=>{let i=new Blob([JSON.stringify({query:fr(kr),variables:n})],{type:"application/json"});return navigator.sendBeacon(`${this._backendUrl}`,i),Promise.resolve(0)}})}catch(n){this._isOnLocalHost&&(console.error(n),Gt("_sendPayload",n))}this.stopRecording()}})}_setupWindowListeners(){var t;try{const i=this;this.enableSegmentIntegration&&this.listeners.push(hc(o=>{if(o.type==="track"){const s={};s["segment-event"]=o.event,i.addProperties(s,{type:"track",source:"segment"})}else if(o.type==="identify"){const s=o.userId.replace(/^"(.*)"$/,"$1");i.identify(s,o.traits,"segment")}})),this.listeners.push(Xa(o=>{this.reloaded?(this.addCustomEvent("Reload",o),this.reloaded=!1,i.addProperties({reload:!0},{type:"session"})):this.addCustomEvent("Navigate",o),i.addProperties({"visited-url":o},{type:"session"})})),this.listeners.push(dc(o=>{this.addCustomEvent("Viewport",o),this.submitViewportMetrics(o)})),this.listeners.push(gc((o,s)=>{o&&this.addCustomEvent("Click",o);let a=null,l=null;if(s&&s.target){const c=s.target;a=zr(c),l=c.textContent,l&&l.length>2e3&&(l=l.substring(0,2e3))}i.addProperties({clickTextContent:l,clickSelector:a},{type:"session"})})),this.listeners.push(Zc(o=>{o&&this.addCustomEvent("Focus",o)})),this.listeners.push(Cc(o=>{const{name:s,value:a}=o;this.recordMetric([{name:s,value:a,group:window.location.href,category:we.WebVital}])})),this.sessionShortcut&&Ic(this.sessionShortcut,()=>{window.open(this.getCurrentSessionURLWithTimestamp(),"_blank")}),this.enablePerformanceRecording&&(this.listeners.push(Gd(o=>{this.addCustomEvent("Performance",ct(o))},this._recordingStartTime)),this.listeners.push(Fd(o=>{this.addCustomEvent("Jank",ct(o)),this.recordMetric([{name:"Jank",value:o.jankAmount,category:we.WebVital,group:o.querySelector}])},this._recordingStartTime))),this._hasPreviouslyInitialized||((t=window.electron)!=null&&t.ipcRenderer?(window.electron.ipcRenderer.on("highlight.run",({visible:o})=>{this._visibilityHandler(!o)}),this.logger.log("Set up Electron highlight.run events.")):(Xd(o=>this._visibilityHandler(o)),this.logger.log("Set up document visibility listener.")),this._hasPreviouslyInitialized=!0);const r=()=>{this.hasSessionUnloaded=!0,this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0)};window.addEventListener("beforeunload",r),this.listeners.push(()=>window.removeEventListener("beforeunload",r))}catch(i){this._isOnLocalHost&&(console.error(i),Gt("initializeSession _setupWindowListeners",i))}const n=()=>{this.addCustomEvent("Page Unload",""),window.sessionStorage.setItem(se.SESSION_DATA,JSON.stringify(this.sessionData))};if(window.addEventListener("beforeunload",n),this.listeners.push(()=>window.removeEventListener("beforeunload",n)),navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)){const i=()=>{this.addCustomEvent("Page Unload",""),window.sessionStorage.setItem(se.SESSION_DATA,JSON.stringify(this.sessionData))};window.addEventListener("pagehide",i),this.listeners.push(()=>window.removeEventListener("beforeunload",i))}}submitViewportMetrics({height:t,width:n}){this.recordMetric([{name:ut.ViewportHeight,value:t,category:we.Device,group:window.location.href},{name:ut.ViewportWidth,value:n,category:we.Device,group:window.location.href},{name:ut.ViewportArea,value:t*n,category:we.Device,group:window.location.href}])}recordMetric(t){this._worker.postMessage({message:{type:Te.Metrics,metrics:t.map(n=>Md(Vo({},n),{tags:n.tags||[],group:n.group||window.location.href,category:n.category||we.Frontend,timestamp:new Date}))}})}stopRecording(t){this.manualStopped=!!t,this.manualStopped&&this.addCustomEvent("Stop","H.stop() was called which stops Highlight from recording."),this.state="NotRecording",this.listeners.forEach(n=>n()),this.listeners=[]}getCurrentSessionTimestamp(){return this._recordingStartTime}getCurrentSessionURLWithTimestamp(){const t=new Date().getTime(),{projectID:n,sessionSecureID:i}=this.sessionData,r=(t-this._recordingStartTime)/1e3;return`https://${Go}/${n}/sessions/${i}?ts=${r}`}getCurrentSessionURL(){const t=this.sessionData.projectID,n=this.sessionData.sessionSecureID;return t&&n?`https://${Go}/${t}/sessions/${n}`:null}toggleFeedbackWidgetVisibility(){this.feedbackWidgetOptions.enabled?this._onToggleFeedbackFormVisibility():console.warn("Highlight's toggleFeedbackWidgetVisibility() was called. You need to configure feedbackWidget in the Highlight options to show the feedback widget.")}addSessionFeedback({timestamp:t,verbatim:n,user_email:i,user_name:r}){var o;this._worker.postMessage({message:{type:Te.Feedback,verbatim:n,timestamp:t,userName:r||this.sessionData.userIdentifier,userEmail:i||((o=this.sessionData.userObject)==null?void 0:o.name)}})}_save(){return Pe(this,null,function*(){try{if(this.state==="Recording"&&this.listeners&&this.sessionData.sessionStartTime&&Date.now()-this.sessionData.sessionStartTime>Qd&&(yield this._reset()),yield this._sendPayload({isBeacon:!1}),this.hasPushedData=!0,this.sessionData.lastPushTime=Date.now(),this.listeners.length===0)return}catch(t){this._isOnLocalHost&&(console.error(t),Gt("_save",t))}this.state==="Recording"&&(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this.pushPayloadTimerId=setTimeout(()=>{this._save()},jd))})}addCustomEvent(t,n){if(this.state==="NotRecording"){let i;const r=()=>{clearInterval(i),this.state==="Recording"&&this.events.length>0?Si(t,n):i=setTimeout(r,500)};i=setTimeout(r,500)}else this.state==="Recording"&&(this.events.length>0||this.hasPushedData)&&Si(t,n)}_sendPayload(t){return Pe(this,arguments,function*({isBeacon:n,sendFn:i}){const r=Je.getRecordedNetworkResources(this._firstLoadListeners,this._recordingStartTime),o=[...this.events],s=[...this._firstLoadListeners.messages],a=[...this._firstLoadListeners.errors];if(!n){const c=new Date().getTime(),{bytes:u,time:d}=this.enableCanvasRecording?Xo.canvas:Xo.normal;this._eventBytesSinceSnapshot>=u&&c-this._lastSnapshotTime>=d&&(Ke.takeFullSnapshot(),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=c)}this.logger.log(`Sending: ${o.length} events, ${s.length} messages, ${r.length} network resources, ${a.length} errors 
To: ${this._backendUrl}
Org: ${this.organizationID}
SessionSecureID: ${this.sessionData.sessionSecureID}`);const l=Sd();i?yield i({session_secure_id:this.sessionData.sessionSecureID,events:{events:o},messages:ct({messages:s}),resources:JSON.stringify({resources:r}),errors:a,is_beacon:n,has_session_unloaded:this.hasSessionUnloaded,payload_id:this._payloadId.toString()}):this._worker.postMessage({message:{type:Te.AsyncEvents,id:this._payloadId,events:o,messages:s,errors:a,resourcesString:JSON.stringify({resources:r}),isBeacon:n,hasSessionUnloaded:this.hasSessionUnloaded,highlightLogs:l}}),this._payloadId++,window.sessionStorage.setItem(se.PAYLOAD_ID,this._payloadId.toString()),n||(Je.clearRecordedNetworkResources(this._firstLoadListeners),this.events=this.events.slice(o.length),this._firstLoadListeners.messages=this._firstLoadListeners.messages.slice(s.length),this._firstLoadListeners.errors=this._firstLoadListeners.errors.slice(a.length),Rd(l))})}}window.Highlight=Qt,Xe.FirstLoadListeners=Je,Xe.GenerateSecureID=Dt,Xe.Highlight=Qt,Xe.HighlightWarning=Gt,Xe.MetricCategory=we,Xe.getPreviousSessionData=go,Object.defineProperty(Xe,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
