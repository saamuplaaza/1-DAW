"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6677],{76445:function(e,n,r){r.d(n,{T:function(){return d}});var i,t,s,a=r(95235),o=r(55452),c=r(75085),l=r(52322);(i=s||(s={})).invalid_signup_code="invalid_signup_code",i.invalid_reset_code="invalid_reset_code",i.invalid_user="invalid_user",i.other_workspace_member="other_workspace_member";var d=(t={},(0,a.Z)(t,s.invalid_signup_code,{title:(0,l.jsx)(o.cC,{id:"F6yt1L",values:{GAMMA_PROPER_NOUN:c.N6}}),description:(0,l.jsx)(o.cC,{id:"hVNvhu"})}),(0,a.Z)(t,s.invalid_reset_code,{title:(0,l.jsx)(o.cC,{id:"SvShcH"}),description:(0,l.jsx)(o.cC,{id:"Vm3y4h"})}),(0,a.Z)(t,s.invalid_user,{title:(0,l.jsx)(o.cC,{id:"a2AYF6"}),description:(0,l.jsx)(o.cC,{id:"x9CdxW",values:{GAMMA_PROPER_NOUN:c.N6}})}),(0,a.Z)(t,s.other_workspace_member,{title:(0,l.jsx)(o.cC,{id:"J5F9Vo"}),description:(0,l.jsx)(o.cC,{id:"CTBeTd",values:{GAMMA_PROPER_NOUN:c.N6}})}),t)},62849:function(e,n,r){r.d(n,{p:function(){return m}});var i=r(26673),t=r(11919),s=r(9088),a=r(30893),o=r(45650),c=r(40771),l=r(63849),d=r(2575),u=r(91012),x=r(93319),p=r(4036),h=r(49929),f=r(55452),j=r(98875),g=r(40315),v=r(52322),m=function(e){var n=e.selectedLocale,r=e.onLocaleSelect,m=(0,j.ye)("i18nEnabled");return(0,f.mV)(),(0,v.jsx)(t.k,{direction:"column",children:(0,v.jsxs)(s.v,{matchWidth:!0,children:[(0,v.jsx)(a.j,{as:o.z,rightIcon:(0,v.jsx)(h.G,{size:"xs",icon:i.pt}),minW:"150px",textAlign:"left",w:"100%",children:n.displayName}),(0,v.jsx)(c.q,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",children:(0,v.jsx)(l._,{value:n.key,type:"radio",onChange:function(e){r(e)},children:(0,g.DD)(m).map(function(e){var n=!m&&"private_beta"===g.kf[e.key],r=!n&&"public_beta"===g.kf[e.key];return(0,v.jsx)(d.i,{value:e.key,isDisabled:n,children:(0,v.jsxs)(t.k,{flex:1,alignItems:"center",children:[(0,v.jsxs)(t.k,{direction:"column",children:[(0,v.jsx)(u.x,{children:e.displayName}),(0,v.jsx)(u.x,{fontSize:"12px",color:"gray.500",children:e.displayNameLocalized()})]})," ",(0,v.jsx)(x.L,{}),n?(0,v.jsx)(p.C,{ml:2,fontSize:"0.75em",colorScheme:"blue",children:(0,v.jsx)(f.cC,{id:"VZeG/A"})}):r?(0,v.jsx)(p.C,{ml:2,fontSize:"0.75em",colorScheme:"green",children:(0,v.jsx)(f.cC,{id:"YBt9YP"})}):null]})},e.key)})})})]})})}},18445:function(e,n,r){r.d(n,{m:function(){return a}});var i=r(2784),t=r(46358),s=r(66737),a=function(e){var n=(0,t.TL)();(0,i.useEffect)(function(){n((0,s.ZT)({locale:e||null}))},[e]),(0,i.useEffect)(function(){return function(){n((0,s.ZT)({locale:null}))}},[])}},55114:function(e,n,r){r.d(n,{a:function(){return S}});var i=r(81333),t=r(55452),s=r(87254),a=r(53738),o=r(71354),c=r(2046),l=r(70287),d=r(49248),u=r(78361),x=r(31186),p=r(94659),h=r(27777),f=r(45650),j=r(55966),g=r(2784),v=r(23313),m=r(75085),C=r(10710),k=r(52322),b=[{id:"consulting",label:function(){return s.ag._({id:"m5xed+"})}},{id:"creator",label:function(){return s.ag._({id:"UE2beD"})}},{id:"customer_service",label:function(){return s.ag._({id:"FfYIy2"})}},{id:"data",label:function(){return s.ag._({id:"HKH+W+"})}},{id:"design",label:function(){return s.ag._({id:"f8fH8W"})}},{id:"education",label:function(){return s.ag._({id:"aqxYLv"})}},{id:"engineering",label:function(){return s.ag._({id:"SUXBxp"})}},{id:"finance",label:function(){return s.ag._({id:"8V6XO3"})}},{id:"human_resources",label:function(){return s.ag._({id:"aDLrMs"})}},{id:"leadership",label:function(){return s.ag._({id:"HyFz7F"})}},{id:"legal",label:function(){return s.ag._({id:"vifyyw"})}},{id:"marketing",label:function(){return s.ag._({id:"vo2a+a"})}},{id:"operations",label:function(){return s.ag._({id:"B1MDds"})}},{id:"product",label:function(){return s.ag._({id:"K47k8R"})}},{id:"recruiting",label:function(){return s.ag._({id:"bn0SqF"})}},{id:"sales",label:function(){return s.ag._({id:"mUv9U4"})}},{id:"other",label:function(){return s.ag._({id:"/IX/7x"})}}],w={"get-started":{saveButtonText:function(){return s.ag._({id:"ZDIydz"})},formControlMaxW:["100%","80%","50%"],categoryQuestion:function(){return s.ag._({id:"kJizcc"})}},modal:{saveButtonText:function(){return s.ag._({id:"hQRttt"})},formControlMaxW:["100%","60%"],categoryQuestion:function(){return s.ag._({id:"06/kLN"})}},setup:{saveButtonText:function(){return s.ag._({id:"xGVfLh"})},formControlMaxW:["100%"],categoryQuestion:function(){return s.ag._({id:"kJizcc"})}}},_=[{id:"work",label:function(){return s.ag._({id:"rgBHdd"})}},{id:"education",label:function(){return s.ag._({id:"RKJfzm"})}},{id:"personal",label:function(){return s.ag._({id:"jo0oU2"})}}],y=[{id:"primary",label:function(){return s.ag._({id:"LldObG"})}},{id:"secondary",label:function(){return s.ag._({id:"AtXGMV"})}},{id:"university",label:function(){return s.ag._({id:"DEb9mB"})}},{id:"other",label:function(){return s.ag._({id:"/IX/7x"})}}],I=[{id:"student",label:function(){return s.ag._({id:"a0qEkS"})}},{id:"teacher",label:function(){return s.ag._({id:"lypRAW"})}},{id:"administrator",label:function(){return s.ag._({id:"Faptqt"})}},{id:"other",label:function(){return s.ag._({id:"/IX/7x"})}}],S=function(e){var n=e.onSuccess,r=e.onError,S=e.context,E=(0,C.SE)(),N=E.user,O=E.refetch,R=(0,g.useState)(!1),P=R[0],A=R[1],T=(0,g.useState)(void 0),D=T[0],U=T[1],L=(0,g.useState)(void 0),M=L[0],F=L[1],z=(0,g.useState)(void 0),W=z[0],B=z[1],G=(0,v.kDo)(),Z=(0,i.Z)(G,2),H=Z[0],q=Z[1],K=q.loading,V=q.error,J=(0,g.useState)(void 0),X=J[0],Y=J[1],Q=(0,g.useState)("student"),$=Q[0],ee=Q[1],en="education"===W||"education"===D?X&&$:W,er=D&&!W,ei=(0,g.useCallback)(function(){var e="education"===W||"education"===D?"".concat(W,"_").concat($,"_").concat(X):W;H({variables:{input:{id:null==N?void 0:N.id,referrer:M,jobFunction:e}}}).then(function(){return A(!0),null==O?void 0:O()}).then(function(){n&&n()}).catch(function(e){console.error('[GetStarted.UserInfo] Error updating user info "'.concat(null==N?void 0:N.id,'"'),e.message),A(!1),r&&r()})},[W,X,$,r,n,M,O,H,null==N?void 0:N.id,D]),et=w[void 0===S?"get-started":S],es=et.formControlMaxW,ea=et.saveButtonText,eo=et.categoryQuestion;return(0,k.jsx)(a.xu,{w:"100%",children:(0,k.jsxs)(o.K,{pt:6,alignItems:"center",spacing:6,alignSelf:"center",mb:10,children:[(0,k.jsxs)(c.NI,{maxW:es,as:"fieldset",isRequired:!0,children:[(0,k.jsx)(l.l,{children:eo()}),(0,k.jsx)(d.E,{onChange:function(e){U(e),"education"===e?B("education"):B(void 0)},value:D,children:(0,k.jsx)(o.K,{direction:"column",spacing:2,children:_.map(function(e){var n=e.id,r=e.label;return(0,k.jsx)(u.Y,{value:n,children:r()},n)})})})]}),D&&(0,k.jsxs)(k.Fragment,{children:["education"!==D&&(0,k.jsxs)(c.NI,{maxW:es,isRequired:!0,children:[(0,k.jsx)(l.l,{children:(0,k.jsx)(t.cC,{id:"SYYw/x"})}),(0,k.jsx)(x.P,{placeholder:s.ag._({id:"rjLlrw"}),isRequired:!0,onChange:function(e){var n=e.target.value;"work"===D&&"education"===n&&ee("teacher"),B(n)},children:b.map(function(e,n){var r=e.label,i=e.id;return(0,k.jsx)("option",{value:i,children:r()},"".concat(i,"-").concat(n))})})]}),("education"===D||"education"===W)&&(0,k.jsxs)(c.NI,{maxW:es,isRequired:!0,children:[(0,k.jsx)(l.l,{children:(0,k.jsx)(t.cC,{id:"B+ClFT"})}),(0,k.jsxs)(p.g,{spacing:2,children:[(0,k.jsx)(x.P,{placeholder:s.ag._({id:"rjLlrw"}),isRequired:!0,value:$,onChange:function(e){ee(function(){return e.target.value})},children:I.map(function(e,n){var r=e.label,i=e.id;return(0,k.jsx)("option",{value:i,children:r()},"".concat(i,"-").concat(n))})}),(0,k.jsx)(x.P,{placeholder:s.ag._({id:"rNbKca"}),isRequired:!0,onChange:function(e){Y(function(){return e.target.value})},children:y.map(function(e,n){var r=e.label,i=e.id;return(0,k.jsx)("option",{value:i,children:r()},"".concat(i,"-").concat(n))})})]}),(0,k.jsx)(c.Q6,{fontSize:"xs",children:(0,k.jsx)(t.cC,{id:"9sEdx4"})})]}),(0,k.jsxs)(c.NI,{maxW:es,children:[(0,k.jsx)(l.l,{children:(0,k.jsx)(t.cC,{id:"bxuHg8"})}),(0,k.jsx)(h.I,{size:"lg",type:"text",value:M,onChange:function(e){F(e.target.value)}}),(0,k.jsx)(c.Q6,{fontSize:"xs",children:M&&(null==M?void 0:M.length)>4?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(t.cC,{id:"RNrV8M",values:{GRANT_PROPER_NOUN:m.XI}})," ",(0,k.jsx)("span",{role:"img","aria-label":s.ag._({id:"8K1shM"}),children:"\uD83D\uDE4F"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(t.cC,{id:"Bhgibl",values:{GRANT_PROPER_NOUN:m.XI}})," ",(0,k.jsx)("span",{role:"img","aria-label":s.ag._({id:"bh5RqM"}),children:"\uD83D\uDE0A"})]})})]})]}),(0,k.jsx)(o.K,{alignItems:"center",spacing:4,pt:4,children:(0,k.jsx)(j.kH,{label:(0,k.jsx)(t.cC,{id:"5G+MQW"}),isDisabled:!er,placement:"top",children:(0,k.jsx)(a.xu,{children:(0,k.jsx)(f.z,{variant:"solid",size:"lg",isDisabled:P||!!V||!en,isLoading:K||P,onClick:ei,children:ea()})})})})]})})}},93322:function(e,n,r){r.d(n,{A:function(){return i},i:function(){return t}});var i=function(e){return e.endsWith("gmail.com")||e.endsWith("hotmail.com")||e.endsWith(".edu")},t="gamma_logged_in"},85121:function(e,n,r){r.d(n,{My:function(){return l},rK:function(){return x},r_:function(){return d},up:function(){return u}});var i,t=r(95235),s=r(55452),a=r(87254),o=r(23313),c=r(52322),l=1,d=function(){return a.ag._({id:"cyLJM2"})},u=function(){return a.ag._({id:"6h5uMS"})},x=(i={},(0,t.Z)(i,o.r3E.Admin,{title:(0,c.jsx)(s.cC,{id:"U3pytU"}),description:(0,c.jsx)(s.cC,{id:"U4MLdj"})}),(0,t.Z)(i,o.r3E.Member,{title:(0,c.jsx)(s.cC,{id:"OvoEq7"}),description:(0,c.jsx)(s.cC,{id:"nslZjr"})}),i)},36677:function(e,n,r){r.d(n,{gL:function(){return eP},oP:function(){return nr},OQ:function(){return eE},NV:function(){return E},qy:function(){return eD},tq:function(){return nt},cL:function(){return eg},Mo:function(){return eO},hn:function(){return e6},Fh:function(){return eI},zd:function(){return eU}});var i=r(55452),t=r(55479),s=r(50390),a=r(420),o=r(91012),c=r(28654),l=r(2784),d=r(1582),u=r(23313),x=r(23027),p=r(75085),h=r(10710),f=r(85121),j=r(9734),g=r(81333),v=r(21805),m=r(93858),C=r(49392),k=r(98666),b=r(13306),w=r(72604),_=function(e){var n=!(0,j.l6)()&&!(0,b.wg)();(0,k.GE)(n,"\n(function() {var gs = document.createElement('script');gs.src = 'https://try.gamma.app/pr/js';gs.type = 'text/javascript';gs.async = 'true';gs.onload = gs.onreadystatechange = function() {var rs = this.readyState;if (rs && rs != 'complete' && rs != 'loaded') return;try {growsumo._initialize('pk_ie2Y6ptIgL4W0XJY9AC7qKBmxHlLMwqZ'); if (typeof(growsumoInit) === 'function') {growsumoInit();}} catch (e) {}};var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gs, s);})();\n"),(0,l.useEffect)(function(){e&&(0,w.X)(25,100)(function(){var e;return(null===(e=window.growsumo)||void 0===e?void 0:e.initialized)===!0}).then(e).catch(function(){console.warn("Timed out waiting for growsumo")})},[e])},y=function(e){var n=(0,l.useState)(!1),r=n[0],i=n[1];_((0,l.useMemo)(function(){return function(){return i(!0)}},[]));var t=(0,l.useMemo)(function(){return{partnerStackPartnerId:v.Z.get("ps_partner_key"),partnerStackClickId:v.Z.get("ps_xid")}},[r]),s=t.partnerStackPartnerId,a=t.partnerStackClickId,o=(0,m._)(C.H.referredByUserId,e),c=(0,g.Z)(o,2),d=c[0],u=c[1];return(0,l.useEffect)(function(){e&&u(e)},[e,u]),{partnerStackPartnerId:s,partnerStackClickId:a,referredBy:d}},I=r(52322),S=function(e){var n=e.error,r=(0,t.p)(),a=(0,f.r_)();return(0,l.useEffect)(function(){n&&!r.isActive("api_error")&&r({id:"api_error",title:(0,I.jsx)(i.cC,{id:"udaO9j"}),description:(0,I.jsx)(i.cC,{id:"U0dCeS",values:{WORKSPACE_ADMIN_DISPLAY_NAME:a}}),status:"error",position:"top",isClosable:!1,duration:null})},[r,n,a]),(0,I.jsx)(s.X,{fontSize:"100px",children:(0,I.jsx)("span",{role:"img","aria-label":"see-no",children:"\uD83D\uDE48"})})},E=function(){var e=(0,c.useRouter)().query,n=e.orgId,r=e.code,t=e.r,s=(0,h.SE)(),l=s.user,f=s.isUserLoading,g=y(t),v=g.referredBy,m=g.partnerStackClickId,C=g.partnerStackPartnerId,k=(0,u.$rd)({id:n,code:r}),b=k.status,w=k.data,_=k.error,E=(0,j.Sp)();return"error"===b?(0,I.jsx)(S,{error:_}):(0,I.jsx)(d.H$,{scenario:x._M.JOIN_WITH_CODE,"data-testid":"join-workspace-wrapper",children:"loading"===b||f||!w?(0,I.jsx)(a.$,{}):(0,I.jsxs)(d.h3,{lede:(0,I.jsxs)(I.Fragment,{children:["\uD83C\uDF89 ",(0,I.jsx)(i.cC,{id:"5fucMx"})]}),title:l?(0,I.jsx)(i.cC,{id:"2wwLHe",values:{0:null==w?void 0:w.name}}):(0,I.jsx)(i.cC,{id:"L3SXbi",values:{0:null==w?void 0:w.name}}),showFooter:!0,showLogo:!0,children:[(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"s2FywE",values:{0:null==w?void 0:w.name,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:p.aq}})}),E?(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"9iyJp1",values:{GAMMA_PROPER_NOUN:p.N6}})}):l?(0,I.jsx)(eD,{scenario:x._M.JOIN_WITH_CODE,inviteCode:r,workspaceId:n}):(0,I.jsx)(eE,{scenario:x._M.JOIN_WITH_CODE,redirectTo:"/",inviteCode:r,referredBy:v,workspaceId:n,partnerStackPartnerId:C,partnerStackClickId:m})]})})},N=r(20406),O=r(96251),R=r(28526),P=r.n(R),A=r(11919),T=r(71354),D=r(45650),U=r(8283),L=r(40110),M=r(2046),F=r(70287),z=r(27777),W=r(53738),B=r(84103),G=r(93319),Z=r(49929),H=r(39097),q=r.n(H),K=r(76445),V=r(77308),J=r(32333),X=r(5632),Y=function(e){var n=e.when,r=e.method,i=e.path,t=e.enabled,s=(0,h.SE)(),a=s.user,o=s.isUserLoading,c=(0,X.useRouter)(),d=c.push,x=c.replace,p="push"===(void 0===r?"push":r)?d:x,f=(void 0===t||t)&&!o&&i&&("user"===n?a:!a);(0,l.useEffect)(function(){f&&u.g8p.getUser().then(function(){"user"===n&&p(i)}).catch(function(e){e instanceof Response&&"anonymous"===n&&p(i)})},[i,p,n,f])},Q=r(95235),$=r(87254),ee=r(75944),en=r(8816),er=r(21891),ei=r(35316),et=r(67887),es=r(60807),ea=r(52742);function eo(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}var ec=function(e){var n=[];return e.length<8&&n.push($.ag._({id:"cUUVem"})),e.match(/[A-Z]/)||n.push($.ag._({id:"+6oZdK"})),e.match(/[a-z]/)||n.push($.ag._({id:"Cjay54"})),e.match(/[0-9]/)||n.push($.ag._({id:"XcEl4D"})),e.match(/[\^$*.[\]{}()?"!@#%&/\\,><':;|_~`=+-]/)||n.push($.ag._({id:"EodnCE"})),n},el=(0,l.forwardRef)(function(e,n){var r=(0,ee.q)(),t=r.isOpen,s=r.onToggle,a=(0,l.useRef)(null),o=(0,en.q)(a,n),c=!!((null==e?void 0:e.error)&&e.error.length>1);return(0,I.jsxs)(M.NI,{isInvalid:c,children:[(0,I.jsx)(F.l,{htmlFor:"password",children:e.label||(0,I.jsx)(i.cC,{id:"8ZsakT"})}),(0,I.jsxs)(er.B,{children:[(0,I.jsx)(ei.x,{children:(0,I.jsx)(et.h,{variant:"link","aria-label":t?$.ag._({id:"KJAyEq"}):$.ag._({id:"B+wtoH"}),icon:t?(0,I.jsx)(ea.MBb,{}):(0,I.jsx)(ea.Rbo,{}),onClick:function(){s(),a.current&&a.current.focus({preventScroll:!0})},tabIndex:1})}),(0,I.jsx)(z.I,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?eo(Object(r),!0).forEach(function(n){(0,Q.Z)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}({id:"password",ref:o,name:"password",type:t?"text":"password",autoComplete:"current-password",required:!0},e))]}),e.showHelp&&(0,I.jsx)(M.Q6,{children:(0,I.jsx)(i.cC,{id:"v6cuzy"})}),e.error&&(0,I.jsx)(es.J1,{children:e.error})]})});el.displayName="PasswordField";var ed=function(e){var n=(0,l.useState)(!1),r=n[0],i=n[1],t=(0,l.useCallback)(function(){return new Promise(function(n){if(!r){n(!0);return}setTimeout(function(){throw Error(e)},1500)})},[e,r]);return{honeypotElement:(0,I.jsx)("input",{type:"text",name:"email-input-0",autoComplete:"off",tabIndex:-1,onChange:function(){return i(!0)}}),honeypotTriggered:r,validateHoneypot:t}},eu=r(37914),ex=r(68584),ep=r(98875),eh=["high","unknown"],ef=function(e,n){var r=(0,l.useState)(!1),i=r[0],t=r[1],s=(0,l.useState)(!1),a=s[0],o=s[1],c=(0,l.useState)(null),d=c[0],x=c[1],p=(0,l.useState)(!1),h=p[0],f=p[1],j=(0,l.useState)(null),v=j[0],m=j[1],C=(0,ep.ye)("recaptcha"),k=C.enabled,b=C.checkboxRiskLevels,w=(0,u.U44)({nextFetchPolicy:"network-only"}),_=(0,g.Z)(w,1)[0],y=(0,l.useCallback)((0,N.Z)(P().mark(function e(){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){if(!n.current)throw Error("[useRecaptcha] Cannot find recaptcha checkbox");t(!0),h||grecaptcha.enterprise.render(n.current,{sitekey:eu.v.RECAPTCHA_CHECKBOX_KEY,size:"normal",callback:function(n){e(n),t(!1),f(!0)}})}));case 1:case"end":return e.stop()}},e)})),[h,n]);return{initiateRecaptchaAssessment:(0,l.useCallback)((0,N.Z)(P().mark(function n(){var r,i,t,s,a,c,l=arguments;return P().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=l.length>0&&void 0!==l[0]&&l[0],!h){n.next=3;break}return n.abrupt("return",Promise.resolve());case 3:if(o(!0),s=d){n.next=10;break}return n.next=8,(0,ex.Uj)(e).catch(function(n){throw Error("[useRecaptcha] error for ".concat(e,": ").concat(n))});case 8:x(s=n.sent);case 10:if(k){n.next=13;break}return o(!1),n.abrupt("return",Promise.resolve());case 13:if(a=v){n.next=22;break}return n.next=17,_({variables:{token:s,action:e}});case 17:if(a=n.sent){n.next=20;break}throw Error("[useRecaptcha] No risk score");case 20:m(a),o(!1);case 22:if(!(!(c=null===(r=a.data)||void 0===r?void 0:null===(i=r.assessRisk)||void 0===i?void 0:i.risk)||eh.includes(c))){n.next=27;break}throw Error("Oops, something went wrong.");case 27:if(!(b.includes(c)||t)){n.next=30;break}return n.next=30,y();case 30:case"end":return n.stop()}},n)})),[e,_,b,h,y,k,d,v]),isAssessmentInProgress:a,isChallengeInProgress:i,hasVerifiedCaptcha:h}},ej=function(e){var n,r=e.scenario,s=e.redirectTo,a=e.r,d=e.workspaceId,p=e.inviteCode,f=(0,t.p)(),j=(0,c.useRouter)().push,v=(0,l.useState)(""),m=v[0],C=v[1],k=(0,l.useState)(""),b=k[0],w=k[1],_=ed("UNEXPECTED_SIGNIN_ERROR__HP_01"),S=_.honeypotElement,E=_.honeypotTriggered,R=m.length>0&&b.length>0,H=(0,h.SE)(),X=H.user,Y=H.refetch,Q=H.setCurrentWorkspaceId,$=(0,u.Asr)(),ee=(0,g.Z)($,2),en=ee[0],er=ee[1],ei=er.loading,et=er.error,es=er.reset,ea=(0,l.useRef)(null),eo=ef(u.e8z.Signin,ea),ec=eo.initiateRecaptchaAssessment,eu=eo.isChallengeInProgress,ex=eo.isAssessmentInProgress,ep=eo.hasVerifiedCaptcha,eh=(0,V.K)(),ej=(0,l.useMemo)(function(){return eh.get()},[eh]),eg=y(a),ev=eg.referredBy,em=eg.partnerStackClickId,eC=eg.partnerStackPartnerId,ek=(0,l.useCallback)(function(e){var n=K.T[e]||{title:(0,I.jsx)(i.cC,{id:"U7nnQt"}),description:e},r=n.title,t=n.description;f.isActive(e)||f({title:r,description:t,position:"top",id:e,status:"error",isClosable:!0,duration:null})},[f]),eb=(0,l.useCallback)((0,N.Z)(P().mark(function e(){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==Y?void 0:Y();case 2:Q(d);case 3:case"end":return e.stop()}},e)})),[Y,Q,d]),ew=ei||ex,e_=(0,l.useCallback)((n=(0,N.Z)(P().mark(function e(n){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!ew){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ec(E);case 5:en({variables:{input:{email:m,password:b,invite:{flow:x.r9[r],workspaceId:d,inviteCode:p}}}}).then((0,N.Z)(P().mark(function e(){var n;return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return J.co.identify(null==X?void 0:X.id,{user_org_id:null==X?void 0:null===(n=X.organizations)||void 0===n?void 0:n[0].id,anonymous_user:!1,gamma_user_id:null==X?void 0:X.id}),J.co.track(J.AA.LOGIN,{provider:"password"},{context:ej}),e.next=4,null==Y?void 0:Y();case 4:d&&Q(d),j(s||"/");case 6:case"end":return e.stop()}},e)}))).catch(function(e){console.error("[Signin.onSigninClick] Error signing in",e.message)});case 7:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[ej,m,E,ec,p,ew,b,j,s,Y,r,Q,en,null==X?void 0:X.id,null==X?void 0:X.organizations,d]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(A.k,{as:"form",direction:"column",onSubmit:e_,children:(0,I.jsxs)(T.K,{spacing:5,children:[(0,I.jsxs)(T.K,{spacing:5,children:[(0,I.jsx)(D.z,{variant:"solid",leftIcon:(0,I.jsx)(Z.G,{icon:O.xY}),onClick:function(){(0,x.DW)({type:r,errorCallback:ek,params:{workspaceId:d,inviteCode:p,partnerStackClickId:em,partnerStackPartnerId:eC,referredByUserId:ev},doneCallback:r===x._M.ACCEPT_WORKSPACE_INVITATION&&d?eb:void 0,redirectTo:s})},children:(0,I.jsx)(i.cC,{id:"oZyG4C"})}),(0,I.jsxs)(U.U,{children:[(0,I.jsx)(L.i,{}),(0,I.jsx)(o.x,{fontSize:"sm",whiteSpace:"nowrap",color:"muted",children:(0,I.jsx)(i.cC,{id:"BzEFor"})}),(0,I.jsx)(L.i,{})]})]}),S,(0,I.jsxs)(M.NI,{children:[(0,I.jsx)(F.l,{htmlFor:"email",children:(0,I.jsx)(i.cC,{id:"O3oNi5"})}),(0,I.jsx)(z.I,{id:"email",type:"email",value:m,onChange:function(e){C(e.currentTarget.value),et&&es()},isDisabled:eu||ew,autoFocus:!0})]}),(0,I.jsx)(el,{value:b,onChange:function(e){w(e.currentTarget.value),et&&es()},error:null==et?void 0:et.message,isDisabled:eu||ew}),(0,I.jsx)(W.xu,{className:"recaptcha-checkbox-signin",ref:ea,display:eu||ep?"block":"none"}),(!eu||ep)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(B.r,{fontWeight:"500",color:"trueblue.500",href:"/forgot",as:q(),children:(0,I.jsx)(i.cC,{id:"UNMVei"})}),(0,I.jsx)(T.K,{spacing:"6",children:(0,I.jsx)(D.z,{type:"submit",variant:"plain",w:"100%",onClick:e_,isLoading:ew,isDisabled:!R||ex,children:(0,I.jsx)(i.cC,{id:"5lWFkC"})})}),(0,I.jsxs)(o.x,{fontSize:"sm",textAlign:"center",children:[(0,I.jsx)(i.cC,{id:"ln9/n9"})," ",(0,I.jsx)(B.r,{color:"trueblue.500",href:"/signup",as:q(),children:(0,I.jsx)(i.cC,{id:"e+RpCP"})})]})]})]})}),(0,I.jsx)(G.L,{})]})},eg=function(){var e=(0,t.p)(),n=(0,c.useRouter)(),r=n.query,s=r.logout_success,a=r.r,u=r.redirect_to,h=r.scenario,f=r.workspaceId,g=r.inviteCode,v=n.isReady,m=h||x._M.DEFAULT_LOGIN;Y({path:u||"/",when:"user",enabled:v}),(0,l.useEffect)(function(){s&&!e.isActive("logout_success")&&e({id:"logout_success",title:(0,I.jsx)(i.cC,{id:"tG+Uw3"}),status:"success",position:"top",duration:5e3})},[s,e]);var C=(0,k.gF)(),b=(0,j.Sp)()&&C;return(0,I.jsx)(d.H$,{scenario:m,"data-testid":"signin-with-google-wrapper",children:(0,I.jsx)(d.h3,{title:(0,I.jsx)(i.cC,{id:"5lWFkC"}),showLogo:!0,showFooter:!0,children:b?(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"jO28tJ",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,I.jsx)(ej,{redirectTo:u,scenario:m,workspaceId:f,inviteCode:g,r:a})})})},ev=r(31145),em=r(49747),eC=r(13813),ek=r(4036),eb=function(){var e=(0,ep.ye)("ai-credits"),n=e.referralBonus;return e.enabled?(0,I.jsxs)(U.U,{borderRadius:"md",p:4,spacing:3,background:"teal.50",children:[(0,I.jsx)(W.Cd,{size:10,display:"flex",alignItems:"center",justifyContent:"center",color:"teal.600",background:"teal.100",fontSize:"xl",children:(0,I.jsx)(Z.G,{fixedWidth:!0,icon:eC.LE})}),(0,I.jsxs)(T.K,{spacing:1,children:[(0,I.jsxs)(o.x,{fontSize:"md",fontWeight:"semibold",children:[(0,I.jsx)(i.cC,{id:"URbt4b",values:{GAMMA_PROPER_NOUN:p.N6}}),(0,I.jsx)("span",{role:"img","aria-label":"celebration emoji",children:"\uD83C\uDF89"})]}),(0,I.jsx)(o.x,{fontSize:"sm",children:(0,I.jsx)(i.cC,{id:"B6we0c",values:{referralBonus:n},components:{0:(0,I.jsx)(ek.C,{colorScheme:"green"})}})})]})]}):null},ew=r(10760),e_=r(53794),ey=function(){return(0,I.jsx)(o.x,{fontSize:"xs",color:"gray.600",children:(0,I.jsx)(i.cC,{id:"9pewn9",values:{GAMMA_PROPER_NOUN:p.N6},components:{0:(0,I.jsx)(B.r,{target:"_blank",href:e_.B,textDecoration:"underline"}),1:(0,I.jsx)(B.r,{target:"_blank",href:e_.h,textDecoration:"underline"})}})})},eI=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,eS={position:"relative",fontWeight:"500",fontFamily:"p22-mackinac-pro, sans-serif",lineHeight:"1.2em",letterSpacing:"-0.03em",backgroundImage:"linear-gradient(50deg, #2b0aff, #ff5b8a 49%, #ff5b8a 53%, #ff5b8a 55%, #fba64b 77%, #f99b52)",backgroundClip:"text",color:"transparent"},eE=function(e){var n,r=e.scenario,s=e.redirectTo,a=e.inviteCode,c=e.referredBy,p=e.workspaceId,h=e.inviteeEmail,f=e.partnerStackClickId,j=e.partnerStackPartnerId,v=(0,t.p)(),m=(0,l.useContext)(d.mU).push,C=(0,l.useState)(""),k=C[0],b=C[1],w=ed("UNEXPECTED_SIGNUP_ERROR__HP_01"),_=w.honeypotElement,y=w.honeypotTriggered,S=(0,u.QnR)(),E=(0,g.Z)(S,2),R=E[0],A=E[1],G=A.loading,H=A.error,V=(0,l.useRef)(null),J=ef(u.e8z.Signup,V),X=J.initiateRecaptchaAssessment,Y=J.isChallengeInProgress,Q=J.isAssessmentInProgress,$=J.hasVerifiedCaptcha,ee=(0,ep.ye)("passwordSignup"),en="/signin";(r===x._M.ACCEPT_WORKSPACE_INVITATION||r===x._M.JOIN_WITH_CODE)&&(en="".concat(en,"?scenario=").concat(r,"&workspaceId=").concat(p,"&inviteCode=").concat(a));var er=function(e){var n=K.T[e]||{title:(0,I.jsx)(i.cC,{id:"U7nnQt"}),description:e},r=n.title,t=n.description;v.isActive(e)||v({title:r,description:t,position:"top",id:e,status:"error",isClosable:!0,duration:null})},ei=!!k.match(eI),et=G||Q,ea=Y||$,eo=(0,l.useCallback)((n=(0,N.Z)(P().mark(function e(n){var i;return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!et){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,X(y);case 5:i=x.r9[r],(0,ew.Fg)("PASSWORD"),R({variables:{input:{email:k,invite:{flow:i,workspaceId:p,inviteCode:a},scenario:u.nUC.Setup,referredByUserId:c,partnerStackClickId:f,partnerStackPartnerId:j}}}).then(function(e){var n,r=(null===(n=e.data)||void 0===n?void 0:n.sendCode)||{},i=r.link,t=r.provider;m((0,I.jsx)(eN,{email:k,link:i,provider:t}))}).catch(function(e){console.error("[Signup.onSubmitClick] Error signing up",e.message)});case 8:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[k,y,X,a,et,f,j,m,c,r,R,p]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(W.xu,{as:"form",onSubmit:eo,children:(0,I.jsxs)(T.K,{spacing:5,children:[(0,I.jsx)(em.U,{in:!k,children:(0,I.jsxs)(T.K,{spacing:5,children:[(0,I.jsx)(D.z,{variant:"solid",leftIcon:(0,I.jsx)(Z.G,{icon:O.xY}),onClick:function(){(0,x.DW)({type:r,params:{workspaceId:p,email:h,inviteCode:a,referredByUserId:c,partnerStackClickId:f,partnerStackPartnerId:j},errorCallback:er,redirectTo:s}),(0,ew.Fg)("GOOGLE")},children:(0,I.jsx)(i.cC,{id:"oZyG4C"})}),ee&&(0,I.jsxs)(U.U,{children:[(0,I.jsx)(L.i,{}),(0,I.jsx)(o.x,{fontSize:"sm",whiteSpace:"nowrap",color:"muted",children:(0,I.jsx)(i.cC,{id:"BzEFor"})}),(0,I.jsx)(L.i,{})]})]})}),_,ee&&(0,I.jsxs)(M.NI,{children:[(0,I.jsx)(F.l,{htmlFor:"email",children:(0,I.jsx)(i.cC,{id:"O3oNi5"})}),(0,I.jsx)(z.I,{id:"email",type:"email",value:k,isDisabled:et||ea,textTransform:"lowercase",onChange:function(e){return b(e.currentTarget.value.toLowerCase())},autoFocus:!0}),H&&(0,I.jsx)(es.J1,{children:H.message}),(0,I.jsx)(W.xu,{mt:4,className:"recaptcha-checkbox-signup",ref:V,display:ea?"block":"none"}),(0,I.jsx)(em.U,{in:!k,children:(0,I.jsx)(o.x,{fontSize:"sm",textAlign:"left",mt:4,children:(0,I.jsx)(i.cC,{id:"0tPXOa",components:{0:(0,I.jsx)(B.r,{color:"trueblue.500",href:en,as:q()})}})})})]}),(0,I.jsx)(ey,{}),(0,I.jsx)(W.xu,{children:(0,I.jsx)(em.U,{in:!!k&&!ea,children:(0,I.jsx)(D.z,{type:"submit",variant:"solid",w:"100%",onClick:eo,isDisabled:!ei||ea,isLoading:et,children:(0,I.jsx)(i.cC,{id:"3gCD+B"})})})})]})}),c&&(0,I.jsx)(eb,{})]})},eN=function(e){var n=e.email,r=e.link,t=e.provider;return(0,I.jsxs)(T.K,{spacing:"6",flex:1,children:[(0,I.jsx)(s.X,{sx:eS,fontSize:["4xl","4xl"],children:(0,I.jsx)(i.cC,{id:"U8N77O"})}),(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"pHlHvu",values:{email:n},components:{0:(0,I.jsx)("strong",{})}})}),(0,I.jsx)(T.K,{spacing:5}),(0,I.jsx)(T.K,{spacing:"6",children:(0,I.jsx)(em.U,{in:!!n,children:r&&t&&(0,I.jsx)(D.z,{w:"100%",onClick:function(){return window.open(r,"_blank")},variant:"plain",rightIcon:(0,I.jsx)(Z.G,{icon:ev.faArrowUpRightFromSquare}),autoFocus:!0,children:(0,I.jsx)(i.cC,{id:"y1RN4W",values:{provider:t}})})})})]})},eO=function(){var e=(0,t.p)(),n=(0,c.useRouter)(),r=n.query,s=r.redirect_to,a=r.code,u=r.r,f=r.error,g=n.push,v=n.isReady,m=(0,h.SE)(),C=m.user,k=m.isUserLoading,b=y(u),w=b.referredBy,_=b.partnerStackClickId,S=b.partnerStackPartnerId;(0,l.useEffect)(function(){var e;!k&&C&&null!==(e=C.workspaceMemberships)&&void 0!==e&&e.length&&g(s||"/")},[k,C,g,s]),(0,l.useEffect)(function(){if(f&&f in K.T){var n=K.T[f]||{title:(0,I.jsx)(i.cC,{id:"U7nnQt"}),description:f},r=n.title,t=n.description;e.isActive("error")||e({id:"error",title:r,description:t,status:"error",position:"top",duration:null})}},[f,e]);var E=(0,j.Sp)();return v?(0,I.jsx)(d.H$,{scenario:x._M.SIGNUP,"data-testid":"signup-with-google-wrapper",children:(0,I.jsx)(d.h3,{title:(0,I.jsx)(i.cC,{id:"e+RpCP"}),showFooter:!0,showLogo:!0,children:E?(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"9iyJp1",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,I.jsx)(eE,{scenario:x._M.SIGNUP,redirectTo:s,inviteCode:a,referredBy:w,partnerStackPartnerId:S,partnerStackClickId:_})})}):null},eR=r(32226),eP=function(){var e=(0,h.SE)(),n=e.user,r=e.isUserLoading,t=(0,c.useRouter)(),s=t.query,d=s.docId,x=s.email,p=s.code,f=t.push,v=t.isReady,m=(0,u.DjO)({variables:{docId:d,email:x,inviteCode:p},skip:!p||!x||!d}),C=m.data,k=m.loading,b=(0,u.CF8)(),w=(0,g.Z)(b,1)[0],_="/docs/".concat(d),y=!v||r||k;return(0,l.useEffect)(function(){!y&&d&&n&&C&&(C.docInvitation?w({variables:{docId:C.docInvitation.docId,email:C.docInvitation.email,inviteCode:p}}).then(function(){f(_)}).catch(function(e){console.error(e)}):f(_))},[y,n,d,f,_,C,w,p]),(0,I.jsx)(eR.XJ,{showFooter:!0,"data-testid":"doc-invitation-wrapper",children:y?(0,I.jsx)(a.$,{}):C&&C.docInvitation&&!n?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(eA,{docId:d,docTitle:C.docInvitation.docTitle,invitedByDisplayName:C.docInvitation.invitedBy.displayName,email:x,inviteCode:p,redirectTo:_}),(0,I.jsx)(eR.ER,{children:(0,I.jsxs)(o.x,{children:[(0,I.jsx)(i.cC,{id:"8wYDMp"})," ",(0,I.jsx)(B.r,{textDecoration:"underline",href:"/signin",target:(0,j.Q5)()?"_self":"_blank",children:(0,I.jsx)(i.cC,{id:"RzFKOQ"})})]})})]}):C&&n?(0,I.jsx)(a.$,{}):(0,I.jsx)(eT,{email:x})})},eA=function(e){var n=e.docId,r=e.docTitle,s=e.invitedByDisplayName,a=e.email,c=e.inviteCode,l=e.redirectTo,d=(0,t.p)(),u=function(e){var n=K.T[e]||{title:(0,I.jsx)(i.cC,{id:"U7nnQt"}),description:e},r=n.title,t=n.description;d.isActive(e)||d({title:r,description:t,position:"top",id:e,status:"error",isClosable:!0,duration:null})};return(0,I.jsxs)(eR.qX,{lede:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{role:"img","aria-label":$.ag._({id:"owjSLs"}),children:"\uD83D\uDC4B"})," ",(0,I.jsx)(i.cC,{id:"2wbD8h"})]}),title:(0,I.jsx)(i.cC,{id:"DbYuFS",values:{GAMMA_PROPER_NOUN:p.N6}}),children:[(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"p3SJdk",values:{GAMMA_ARTIFACT_PROPER_NOUN:p.Yc,docTitle:r,invitedByDisplayName:s}})}),(0,I.jsxs)(T.K,{spacing:4,align:"center",alignSelf:"center",children:[(0,I.jsx)(D.z,{variant:"solid",leftIcon:(0,I.jsx)(Z.G,{icon:O.xY}),size:"lg",mt:6,onClick:function(){(0,x.DW)({type:x._M.ACCEPT_DOC_INVITATION,params:{docId:n,email:a,inviteCode:c},errorCallback:u,redirectTo:l})},children:(0,I.jsx)(i.cC,{id:"apxsZF"})}),(0,I.jsx)(ey,{})]})]})},eT=function(e){var n=e.email;return(0,I.jsx)(eR.qX,{lede:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{role:"img","aria-label":$.ag._({id:"+6IPye"}),children:"\uD83D\uDE41"})," ",(0,I.jsx)(i.cC,{id:"uAjg3Y"})]}),title:(0,I.jsx)(i.cC,{id:"0dimUT"}),children:(0,I.jsx)(o.x,{children:n?(0,I.jsx)(i.cC,{id:"rpHTpL",values:{email:n}}):(0,I.jsx)(i.cC,{id:"VSc47y"})})})},eD=function(e){var n=e.scenario,r=e.inviteCode,s=e.workspaceId,a=(0,t.p)(),o=(0,c.useRouter)().push,d=(0,h.SE)(),p=d.refetch,f=d.user,j=d.isUserLoading,v=d.setCurrentWorkspaceId,m=(0,l.useCallback)((0,N.Z)(P().mark(function e(){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==p?void 0:p();case 2:v(s),o("/");case 4:case"end":return e.stop()}},e)})),[o,p,v,s]),C=(0,u.djM)(),k=(0,g.Z)(C,2),b=k[0],w=k[1].loading,_=function(e){var n=K.T[e]||{title:(0,I.jsx)(i.cC,{id:"U7nnQt"}),description:e},r=n.title,t=n.description;a.isActive(e)||a({title:r,description:t,position:"top",id:e,status:"error",isClosable:!0,duration:null})},y=(0,l.useCallback)(function(e){var i,t=x.r9[n];e.preventDefault(),b({variables:{input:{flow:t,workspaceId:s,inviteCode:r}}}).then((i=(0,N.Z)(P().mark(function e(n){var r;return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.joinWorkspace)||{}).success){e.next=6;break}return e.next=4,null==p?void 0:p();case 4:v(s),o("/");case 6:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})).catch(function(e){console.error("[Workspaces.JoinWorkspace] Error joining workspace",e.message)})},[s,n,r,b,o,p,v]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(W.xu,{children:(0,I.jsx)(T.K,{spacing:5,children:(0,I.jsx)(W.xu,{children:(0,I.jsx)(D.z,{type:"submit",variant:"solid",w:"100%",onClick:(null==f?void 0:f.authProvider)==="GOOGLE"?function(){(0,x.DW)({type:n,params:{workspaceId:s,email:f.email,inviteCode:r},errorCallback:_,doneCallback:m})}:y,isLoading:w||j,children:(0,I.jsx)(i.cC,{id:"c9AJhn"})})})})})})},eU=function(){var e=(0,h.SE)(),n=e.user,r=e.isUserLoading,t=(0,c.useRouter)(),s=t.query,f=s.workspaceId,g=s.email,v=s.code,m=s.r,C=t.push,b=t.isReady,w=y(m),_=w.referredBy,S=w.partnerStackClickId,E=w.partnerStackPartnerId,N=(0,u.HM7)({variables:{email:g,inviteCode:v,workspaceId:f},skip:!v||!g}),O=N.data,R=N.loading,P=!b||r||R,A=O&&f&&"new"===f;(0,l.useEffect)(function(){b&&!r&&n&&O&&!O.workspaceInvitation&&C("/")},[b,n,r,C,"/",O]);var T=(0,j.Sp)();return(0,k.gF)()?(0,I.jsx)(d.H$,{scenario:x._M.ACCEPT_WORKSPACE_INVITATION,"data-testid":"workspace-invitation-wrapper",children:P?(0,I.jsx)(a.$,{}):O&&O.workspaceInvitation?(0,I.jsxs)(d.h3,{lede:A?(0,I.jsxs)(I.Fragment,{children:["\uD83D\uDC4B ",(0,I.jsx)(i.cC,{id:"uzTaYi"})]}):(0,I.jsxs)(I.Fragment,{children:["\uD83C\uDF89 ",(0,I.jsx)(i.cC,{id:"5fucMx"})]}),title:A?(0,I.jsx)(i.cC,{id:"DbYuFS",values:{GAMMA_PROPER_NOUN:p.N6}}):n?O.workspaceInvitation.workspaceName?(0,I.jsx)(i.cC,{id:"2wwLHe",values:{0:O.workspaceInvitation.workspaceName}}):(0,I.jsx)(i.cC,{id:"EsVYoc"}):O.workspaceInvitation.workspaceName?(0,I.jsx)(i.cC,{id:"L3SXbi",values:{0:O.workspaceInvitation.workspaceName}}):(0,I.jsx)(i.cC,{id:"VlXlD9"}),showFooter:!0,showLogo:!0,children:[A?(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"l+wpFJ"})}):(0,I.jsx)(o.x,{children:O.workspaceInvitation.workspaceName?(0,I.jsx)(i.cC,{id:"s2FywE",values:{0:O.workspaceInvitation.workspaceName,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:p.aq}}):(0,I.jsx)(i.cC,{id:"H/y2ny",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:p.aq}})}),T?(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"9iyJp1",values:{GAMMA_PROPER_NOUN:p.N6}})}):n?(0,I.jsx)(eD,{scenario:x._M.ACCEPT_WORKSPACE_INVITATION,inviteCode:v,workspaceId:f}):(0,I.jsx)(eE,{scenario:x._M.ACCEPT_WORKSPACE_INVITATION,redirectTo:"/",inviteCode:v,referredBy:_,workspaceId:f,inviteeEmail:g,partnerStackPartnerId:E,partnerStackClickId:S})]}):(0,I.jsx)(eL,{email:g})}):(0,I.jsx)(I.Fragment,{})},eL=function(e){var n=e.email;return(0,I.jsx)(d.h3,{lede:(0,I.jsxs)(I.Fragment,{children:["\uD83D\uDE41 ",(0,I.jsx)(i.cC,{id:"uAjg3Y"})]}),title:(0,I.jsx)(i.cC,{id:"0dimUT"}),showFooter:!0,showLogo:!0,children:n?(0,I.jsx)(i.cC,{id:"rpHTpL",values:{email:n}}):(0,I.jsx)(i.cC,{id:"VSc47y"})})},eM=r(2501),eF=r(79584),ez=r(35837),eW=r(89190),eB=r(73848),eG=r(24798),eZ=r(84520),eH=r(95085),eq=r(21010),eK=r(42045),eV=r(1368),eJ=r(62849),eX=r(40315),eY=r(96214),eQ=r(18445),e$=r(55114),e0=r(93322),e1=function(){return(0,I.jsx)(d.h3,{title:(0,I.jsx)(I.Fragment,{}),showLogo:!0,children:(0,I.jsx)(A.k,{w:"100%",h:"100%",align:"center",justify:"center",children:(0,I.jsx)(a.$,{})})})};function e5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function e3(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e5(Object(r),!0).forEach(function(n){(0,Q.Z)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var e2=function(e){var n=e.email,r=e.code,t=e.redirectTo,s=e.workspaceId,a=e.workspaceInviteCode,c=e.flow,u=(0,eY.l)(),x=(0,h.SE)(),p=x.user,f=x.isUserLoading,j=x.refetch,v=(0,l.useContext)(d.mU).push,m=(0,l.useState)(u),C=m[0],k=m[1];(0,eQ.m)(C);var b=(0,l.useState)(""),w=b[0],_=b[1],y=(0,l.useState)(""),S=y[0],E=y[1],O=(0,l.useState)(""),R=O[0],A=O[1],D=(0,l.useState)([]),U=D[0],L=D[1],B=(0,l.useState)(!1),Z=B[0],H=B[1],q=w.length>0&&S.length>0&&R.length>0&&!U.length,K=(0,V.K)(),X=(0,l.useMemo)(function(){return K.get()},[K]),Y=(0,eq.BlB)(),Q=(0,g.Z)(Y,2),$=Q[0],ee=Q[1],en=ee.loading,er=ee.error,ei=(0,eq.m9m)(),et=(0,g.Z)(ei,1)[0],es=(0,l.useCallback)(function(){v((0,I.jsx)(e4,{redirectTo:t,flow:c}))},[v,t,c]),ea=(0,l.useCallback)(function(e){var i;e.preventDefault(),$({variables:{input:{email:n,password:R,firstName:w,lastName:S,code:r,invite:{flow:c,workspaceId:s,inviteCode:a}}}}).then((i=(0,N.Z)(P().mark(function e(n){var r,i,t,s,a,o,l;return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null===(r=n.data)||void 0===r?void 0:null===(i=r.signup)||void 0===i?void 0:i.id,l=null===(t=n.data)||void 0===t?void 0:null===(s=t.signup)||void 0===s?void 0:null===(a=s.organizations)||void 0===a?void 0:a[0].id,o){e.next=5;break}return console.error("[Setup.onContinue] No userId for new user"),e.abrupt("return");case 5:return e.next=7,et({variables:{patch:(0,h.Yu)({set:{locale:C}})}});case 7:return e.next=9,null==j?void 0:j();case 9:J.co.identify(o,{user_org_id:l,anonymous_user:!1,gamma_user_id:o}),J.co.track(J.AA.SIGNUP,{flow:c,provider:"password"},{context:X}),es();case 12:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})).catch(function(e){console.error("[Setup.onContinue] Error signing up",e.message)})},[$,n,R,w,S,r,c,s,a,C,X,es,et,j]);return((0,l.useEffect)(function(){f||(p?es():H(!0))},[f,p,es]),Z)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(W.xu,{as:"form",onSubmit:ea,children:[(0,I.jsxs)(T.K,{spacing:"5",children:[(0,I.jsxs)(M.NI,{children:[(0,I.jsx)(F.l,{htmlFor:"email",children:(0,I.jsx)(i.cC,{id:"O3oNi5"})}),(0,I.jsx)(z.I,{id:"email",type:"email",value:n,disabled:!0})]}),(0,I.jsxs)(M.NI,{children:[(0,I.jsx)(F.l,{htmlFor:"first name",children:(0,I.jsx)(i.cC,{id:"V1EGGU"})}),(0,I.jsx)(z.I,{id:"first name",type:"text",value:w,onChange:function(e){return _(e.currentTarget.value)},autoFocus:!0})]}),(0,I.jsxs)(M.NI,{children:[(0,I.jsx)(F.l,{htmlFor:"last name",children:(0,I.jsx)(i.cC,{id:"1ZaQUH"})}),(0,I.jsx)(z.I,{id:"last name",type:"text",value:S,onChange:function(e){return E(e.currentTarget.value)}})]}),(0,I.jsxs)(M.NI,{children:[(0,I.jsxs)(F.l,{flexDir:"row",display:"flex",alignItems:"center",children:[(0,I.jsx)(i.cC,{id:"vXIe7J"}),(0,I.jsx)(G.L,{}),(0,I.jsx)(ek.C,{colorScheme:"green",children:(0,I.jsx)(i.cC,{id:"YBt9YP"})})]}),(0,I.jsx)(eJ.p,{selectedLocale:eX.w$[C],onLocaleSelect:k})]}),(0,I.jsx)(el,{showHelp:!1,value:R,onChange:function(e){A(e.currentTarget.value),L(ec(e.currentTarget.value))},error:null==er?void 0:er.message}),(0,I.jsx)(W.xu,{h:"6em",children:R.length>0&&U.length?(0,I.jsx)(o.x,{textColor:"red.500",fontSize:"sm",children:(0,I.jsx)(ez.QI,{listStyleType:"none",children:U.map(function(e,n){return(0,I.jsx)(ez.HC,{children:e},n)})})}):(0,I.jsx)(G.L,{})})]}),(0,I.jsx)(e9,{disabled:!q,onContinue:ea,isLoading:en,showBack:!1})]}),(0,I.jsx)(G.L,{})]}):null},e8=function(e){var n=e.hasError,r=e.onChange,t=e.name,s=e.placeholder,a=e.onBlur;return(0,I.jsxs)(M.NI,{isInvalid:n,children:[(0,I.jsx)(F.l,{children:(0,I.jsx)(i.cC,{id:"CozWO1"})}),(0,I.jsx)(z.I,{size:"lg",type:"text",onChange:r,value:t,placeholder:s,onBlur:a}),n&&(0,I.jsx)(es.J1,{children:(0,I.jsx)(i.cC,{id:"soNtuq",values:{WORKSPACE_NAME_MIN_LENGTH:f.My}})}),(0,I.jsxs)(M.Q6,{children:[(0,I.jsx)(i.cC,{id:"uCmOnS"})," ",(0,I.jsx)("span",{role:"img","aria-label":"thumbs up emoji",children:"\uD83D\uDC4D"})]})]})},e4=function(e){var n=e.redirectTo,r=e.flow,t=(0,l.useContext)(d.mU).push,s=(0,h.SE)(),a=s.user,o=s.isUserLoading,c=s.currentWorkspace,u=s.setSettings,x=(0,l.useState)({team:"",personal:""}),p=x[0],j=x[1],v=(0,eq.Mqp)(),m=(0,g.Z)(v,2),C=m[0],k=m[1].loading,b=(0,l.useState)({team:!1,personal:!1}),w=b[0],_=b[1],y=(0,l.useState)(0),S=y[0],E=y[1],O=0===S?"team":"personal",R=p[O],A=w[O],T=R.length<f.My||A,D=(0,l.useCallback)(function(){t((0,I.jsx)(e7,{redirectTo:n}))},[t,n]),L=a?"team"===O?$.ag._({id:"x8EWiU"}):$.ag._({id:"dJdqM7",values:{0:a.displayName}}):$.ag._({id:"CozWO1"});(0,l.useEffect)(function(){a&&""===p.personal&&((0,e0.A)(a.email)&&E(1),j(function(e){return e3(e3({},e),{},{personal:"".concat(a.displayName,"'s Workspace")})}))},[a,p]),(0,l.useEffect)(function(){!o&&a&&a.settings&&!a.settings.showWorkspaceSetup&&D()},[o,a,r,D]);var M=(0,l.useCallback)(function(){C({variables:{input:{name:R,id:null==c?void 0:c.id}},fetchPolicy:"no-cache"}).then((0,N.Z)(P().mark(function e(){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return J.co.track(J.AA.WORKSPACE_CREATED,{workspace_type:O}),e.next=3,null==u?void 0:u({remove:["showWorkspaceSetup"]});case 3:D();case 4:case"end":return e.stop()}},e)}))).catch(function(e){console.error('[Welcome] Error updating workspace name for "'.concat(null==c?void 0:c.id,'"'),e.message)})},[C,R,null==c?void 0:c.id,O,u,D]),F=(0,l.useCallback)(function(e){e.length>=f.My?_(function(e){return e3(e3({},e),{},(0,Q.Z)({},O,!1))}):_(function(e){return e3(e3({},e),{},(0,Q.Z)({},O,!0))})},[O]),z=(0,l.useCallback)(function(e){F(e.target.value),j(function(n){return e3(e3({},n),{},(0,Q.Z)({},O,e.target.value.slice(0,50)))})},[F,O]);return o||!a?(0,I.jsx)(e1,{}):(0,I.jsxs)(d.h3,{title:(0,I.jsx)(i.cC,{id:"9chYz/"}),showLogo:!0,children:[(0,I.jsx)(U.U,{children:(0,I.jsxs)(eW.m,{w:"100%",variant:"soft-rounded",size:"sm",index:S,onChange:function(e){return E(e)},children:[(0,I.jsxs)(eB.t,{flexDirection:["column","row"],children:[(0,I.jsxs)(eG.O,{mx:1,children:[(0,I.jsx)(W.xu,{mr:2,children:(0,I.jsx)(Z.G,{icon:eF.iO})}),(0,I.jsx)(i.cC,{id:"0LZe9p"})]}),(0,I.jsxs)(eG.O,{mx:1,children:[(0,I.jsx)(W.xu,{mr:2,children:(0,I.jsx)(Z.G,{icon:eM.faCircleUser})}),(0,I.jsx)(i.cC,{id:"7MuXko"})]})]}),(0,I.jsxs)(eZ.n,{children:[(0,I.jsx)(eH.x,{id:"team-or-company-tab-panel",p:0,pt:8,children:(0,I.jsx)(e8,{onChange:z,onBlur:function(e){return F(e.target.value)},name:R,hasError:A,placeholder:L})}),(0,I.jsx)(eH.x,{id:"personal-tab-panel",p:0,pt:8,children:(0,I.jsx)(e8,{onChange:z,onBlur:function(e){return F(e.target.value)},name:R,hasError:A,placeholder:L})})]})]})}),(0,I.jsx)(G.L,{}),(0,I.jsx)(e9,{disabled:T,onContinue:M,isLoading:k,showBack:!1})]})},e7=function(e){var n=e.redirectTo,r=(0,c.useRouter)().push,t=(0,h.SE)(),s=t.user,a=t.isUserLoading,o=(0,l.useCallback)(function(){r(n||(0,eK.wH)())},[r,n]);return((0,l.useEffect)(function(){!a&&s&&s.jobFunction&&o()},[a,s,o]),a||!s)?(0,I.jsx)(e1,{}):(0,I.jsxs)(d.h3,{title:(0,I.jsx)(i.cC,{id:"H8aFPr"}),showLogo:!0,children:[(0,I.jsx)(e$.a,{context:"setup",onSuccess:o}),(0,I.jsx)(G.L,{})]})},e9=function(e){var n=e.disabled,r=e.onContinue,t=e.isLoading,s=e.showBack,a=(0,l.useContext)(d.mU).pop;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(U.U,{children:[s&&(0,I.jsx)(D.z,{variant:"ghost",onClick:function(){return a()},children:(0,I.jsx)(i.cC,{id:"iH8pgl"})}),(0,I.jsx)(D.z,{type:"submit",variant:"solid",isDisabled:n,flex:1,onClick:r,isLoading:t,children:(0,I.jsx)(i.cC,{id:"xGVfLh"})})]}),(0,I.jsx)(W.xu,{h:6,children:"\xa0"})]})},e6=function(){var e=(0,c.useRouter)(),n=e.query,r=e.isReady,t=e.push,s=(0,l.useRef)(n);s.current=n;var a=(0,h.SE)(),u=a.user,x=a.isUserLoading,f=(0,eq.NmH)({variables:{input:{email:s.current.email,code:s.current.code}},skip:!s.current.email||!s.current.code}),g=f.data,v=f.loading,m=!r||x||v,C=(0,l.useState)(!1),k=C[0],b=C[1];(0,l.useEffect)(function(){if(!m&&!k){u||null!=g&&g.verifyCode.verified||t("/signup?error=invalid_signup_code");var e=new URL(window.location.href).searchParams;e.delete("email"),e.delete("code"),(0,eV.lO)({query:Object.fromEntries(e.entries())}),b(!0),(0,ew.j6)()}},[m,k,t,u,s,g]);var w=(0,j.Sp)();return k?(0,I.jsx)(d.H$,{"data-testid":"signup-with-code",children:(0,I.jsx)(d.h3,{title:(0,I.jsx)(i.cC,{id:"cpE88+"}),showLogo:!0,children:w?(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"9iyJp1",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,I.jsx)(e2,{email:s.current.email,code:s.current.code,workspaceId:s.current.workspace,flow:s.current.flow,workspaceInviteCode:s.current.wcode,redirectTo:s.current.redirect_to})})}):null},ne=function(){var e=(0,t.p)(),n=(0,l.useState)(""),r=n[0],s=n[1],a=(0,l.useContext)(d.mU).push,c=(0,u.QnR)(),x=(0,g.Z)(c,2),p=x[0],h=x[1],f=h.loading,j=h.error,v=!!r.match(eI),m=(0,l.useCallback)(function(e){e.preventDefault(),p({variables:{input:{email:r,scenario:u.nUC.Reset}}}).then(function(e){var n,i=(null===(n=e.data)||void 0===n?void 0:n.sendCode)||{},t=i.link,s=i.provider;a((0,I.jsx)(nn,{email:r,link:t,provider:s,resend:m}))}).catch(function(e){console.error("[Forgot.onSendClick] Error trying to send password reset link",e.message)})},[p,r,a]);return(0,l.useEffect)(function(){j&&e({id:"reset_password_error",title:(0,I.jsx)(i.cC,{id:"Rh1Dte"}),status:"error",position:"top",duration:5e3})},[j,e]),(0,I.jsxs)(d.h3,{title:(0,I.jsx)(i.cC,{id:"RfwZxd"}),showLogo:!0,children:[(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"aj/hsq"})}),(0,I.jsx)(W.xu,{as:"form",onSubmit:m,children:(0,I.jsxs)(T.K,{spacing:5,children:[(0,I.jsxs)(M.NI,{children:[(0,I.jsx)(F.l,{htmlFor:"email",children:(0,I.jsx)(i.cC,{id:"O3oNi5"})}),(0,I.jsx)(z.I,{id:"email",type:"email",value:r,onChange:function(e){return s(e.currentTarget.value)},autoFocus:!0})]}),(0,I.jsx)(D.z,{type:"submit",variant:"solid",isDisabled:!v,w:"100%",onClick:m,isLoading:f,children:(0,I.jsx)(i.cC,{id:"8+xXUn"})}),(0,I.jsxs)(o.x,{fontSize:"sm",textAlign:"center",mt:3,children:[(0,I.jsx)(i.cC,{id:"cVqf24"})," ",(0,I.jsx)(B.r,{color:"trueblue.500",href:"/signin",as:q(),children:(0,I.jsx)(i.cC,{id:"5lWFkC"})})]})]})}),(0,I.jsx)(G.L,{})]})},nn=function(e){var n=e.email,r=e.link,s=e.provider,a=e.resend,c=(0,t.p)();return(0,I.jsxs)(d.h3,{title:(0,I.jsx)(i.cC,{id:"XcX6up"}),children:[(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"P083h3",values:{email:n},components:{0:(0,I.jsx)("strong",{})}})}),(0,I.jsxs)(o.x,{fontSize:"sm",textAlign:"center",mt:3,children:[(0,I.jsx)(i.cC,{id:"rRHK5M"})," ",(0,I.jsx)(B.r,{color:"trueblue.500",onClick:function(e){c({id:"link_resent",title:(0,I.jsx)(i.cC,{id:"lDVEsi"}),status:"success",position:"top",duration:5e3}),a(e)},children:(0,I.jsx)(i.cC,{id:"J/jxKQ"})})]}),(0,I.jsx)(T.K,{spacing:"6",children:(0,I.jsx)(em.U,{in:n,children:r&&s&&(0,I.jsx)(D.z,{w:"100%",onClick:function(){return window.open(r,"_blank")},variant:"plain",rightIcon:(0,I.jsx)(Z.G,{icon:ev.faArrowUpRightFromSquare}),autoFocus:!0,children:(0,I.jsx)(i.cC,{id:"y1RN4W",values:{provider:s}})})})}),(0,I.jsx)(G.L,{})]})},nr=function(){var e=(0,t.p)(),n=(0,c.useRouter)().query.error,r=(0,k.gF)(),s=(0,j.Sp)()&&r;return(0,l.useEffect)(function(){if(n&&n in K.T){var r=K.T[n]||{title:(0,I.jsx)(i.cC,{id:"U7nnQt"}),description:n},t=r.title,s=r.description;e.isActive("error")||e({id:"error",title:t,description:s,status:"error",position:"top",duration:null})}},[n,e]),(0,I.jsx)(d.H$,{"data-testid":"reset-password",children:s?(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"jO28tJ",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,I.jsx)(ne,{})})},ni=function(e){var n=e.email,r=e.code,s=(0,t.p)(),a=(0,l.useState)(""),x=a[0],p=a[1],f=(0,l.useState)([]),j=f[0],v=f[1],m=x.length>0&&!j.length,C=(0,c.useRouter)().push,k=(0,h.SE)().refetch,b=(0,u.gL8)(),w=(0,g.Z)(b,2),_=w[0],y=w[1].loading,S=(0,l.useCallback)(function(e){e.preventDefault(),_({variables:{input:{email:n,code:r,newPassword:x}}}).then(function(){s({id:"password-changed",title:(0,I.jsx)(i.cC,{id:"a+l/oL"}),status:"success",position:"top",duration:5e3}),null==k||k(),C("/")}).catch(function(e){console.error("[Reset.onResetClick] Error trying to send password reset link",e.message)})},[_,n,r,x,s,k,C]);return(0,I.jsxs)(d.h3,{title:(0,I.jsx)(i.cC,{id:"slOprG"}),showLogo:!0,children:[(0,I.jsxs)(W.xu,{as:"form",onSubmit:S,children:[(0,I.jsxs)(T.K,{spacing:"5",mb:4,children:[(0,I.jsx)(el,{showHelp:!0,label:(0,I.jsx)(i.cC,{id:"VpwcSk"}),value:x,onChange:function(e){p(e.currentTarget.value),v(ec(e.currentTarget.value))}}),(0,I.jsx)(W.xu,{minH:"4em",children:x.length>0&&j.length?(0,I.jsx)(o.x,{textColor:"red.500",fontSize:"sm",children:(0,I.jsx)(ez.QI,{listStyleType:"none",m:0,children:j.map(function(e,n){return(0,I.jsx)(ez.HC,{children:e},n)})})}):(0,I.jsx)(G.L,{})})]}),(0,I.jsx)(D.z,{type:"submit",variant:"solid",isDisabled:!m,onClick:S,isLoading:y,children:(0,I.jsx)(i.cC,{id:"RfwZxd"})})]}),(0,I.jsx)(G.L,{})]})},nt=function(){var e=(0,c.useRouter)(),n=e.query,r=n.email,t=n.code,s=e.isReady,a=e.push,x=(0,k.gF)(),h=(0,j.Sp)()&&x,f=(0,u.NmH)({variables:{input:{email:r,code:t}},skip:!r||!t}),g=f.data,v=f.loading,m=!s||v,C=(0,l.useState)(!1),b=C[0],w=C[1];return((0,l.useEffect)(function(){if(!m&&!b){g&&g.verifyCode.verified||a("/forgot?error=invalid_reset_code");var e=new URL(window.location.href).searchParams;e.delete("email"),e.delete("code"),(0,eV.lO)({query:Object.fromEntries(e.entries())}),w(!0)}},[m,b,g,a]),b)?(0,I.jsx)(d.H$,{"data-testid":"reset-password",children:h?(0,I.jsx)(o.x,{children:(0,I.jsx)(i.cC,{id:"jO28tJ",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,I.jsx)(ni,{email:r,code:t})}):null}}}]);
//# sourceMappingURL=6677-32acdad70fe053a9.js.map